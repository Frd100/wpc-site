<!DOCTYPE html>
<html>

<head>
    <title>Test Markdown Parser</title>
</head>

<body>
    <h1>Test du parseur Markdown</h1>
    <div id="result"></div>

    <script>
        // Copie de votre fonction markdownToHtml
        function markdownToHtml(markdown) {
            let html = markdown;

            // Titres
            html = html.replace(/^### (.*$)/gim, '<h3>$1</h3>');
            html = html.replace(/^## (.*$)/gim, '<h2>$1</h2>');
            html = html.replace(/^# (.*$)/gim, '<h1>$1</h1>');

            // Gras et italique
            html = html.replace(/\*\*\*(.+?)\*\*\*/g, '<strong><em>$1</em></strong>');
            html = html.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
            html = html.replace(/\*(.+?)\*/g, '<em>$1</em>');

            // Listes non ordonnées
            html = html.replace(/^\- (.+)$/gim, '<li>$1</li>');
            html = html.replace(/(<li>.*<\/li>)/s, '<ul>$1</ul>');

            // Images Markdown
            html = html.replace(/!\[(.*?)\]\((.*?)\)/g, '<img src="$2" alt="$1" style="max-width:100%;height:auto;">');

            // Liens Markdown
            html = html.replace(/\[([^\]]+)\]\(([^\)]+)\)/g, '<a href="$2">$1</a>');

            // Séparateurs
            html = html.replace(/^---$/gim, '<hr>');

            // Paragraphes
            html = html.split('\n\n').map(para => {
                para = para.trim();
                if (para.startsWith('<h') || para.startsWith('<ul') || para.startsWith('<hr')) {
                    return para;
                }
                return para ? `<p>${para}</p>` : '';
            }).join('\n');

            return html;
        }

        // Test avec le contenu de votre fichier
        const testContent = `Voici un test d'image :

![La Défense](/assets/images/ladefense.webp)

Et voici un lien : [Accueil](/index.html)

**Texte en gras** et *texte en italique*.

## Titre de section

- Liste à puces
- Deuxième élément`;

        document.getElementById('result').innerHTML = markdownToHtml(testContent);
    </script>
</body>

</html>