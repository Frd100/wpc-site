/* Widget Script start */
define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-import-resume-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:"siteConfig"}},t.ProviderKey={DropBox:"dropbox",GoogleDrive:"googledrive",OneDrive:"onedrive",LocalComputer:"localdrive",LocalComputerV2:"localdriveV2",LocalComputerV3:"localdriveV3"};!function(e){e[e.Loaded=0]="Loaded",e[e.Errored=1]="Errored",e[e.InProgress=2]="InProgress"}(t.ScriptStatus||(t.ScriptStatus={}))});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-dropbox",["require","exports","aurelia-framework","./ph-import-resume-config","aurelia-event-aggregator"],function(e,t,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.eventAggregator=e,this.provider={api:"https://www.dropbox.com/static/api/2/dropins.js",devkey:"",clientId:"",scope:[],sid:"dropboxjs",state:null,viewId:"dropbox",errorRequest:5,amd:!1,attr:[{name:"data-app-key",refId:"clientId"}]},this.scriptState=i.ScriptStatus,this.pickerOptions={success:this.handlePickerSuccess.bind(this),cancel:this.handlePickerCanceled.bind(this),linkType:"direct",multiselect:!1,extensions:[".doc",".docx",".pdf",".txt"]},this.eventAggregator=e}return e.prototype.handlePickerSuccess=function(e){var t=e[0],o=t.bytes/1048576,i={fileLocation:t.link,fileName:t.name,proceed:!1};o<=2&&(i.proceed=!0),this.eventAggregator.publish("fileAdded",i)},e.prototype.handlePickerCanceled=function(){this.eventAggregator.publish("fileErrored",{type:"cancel"})},e.prototype.loadScripts=function(e){var t=this,o=this.provider,i=document.getElementsByTagName("head")[0];if(!document.getElementById(o.sid)){var r=document.createElement("script");r.type="text/javascript",r.src=o.api,r.id=o.sid;for(var a=o.attr,n=0,s=a;n<s.length;n++){var l=s[n];r.setAttribute(l.name,this.provider[l.refId])}r.async=!0,r.onload=function(i){o.state=!0,t.drive=Dropbox,e(!0)},r.onerror=function(){if(console.info("errored"),o.errorRequest){o.errorRequest--;var e=document.getElementById(o.sid);e.parentNode.removeChild(e),setTimeout(function(){return t.loadScripts(o)},500),console.info("errored")}else o.state=null},i&&i.appendChild(r)}},Object.defineProperty(e.prototype,"status",{get:function(){return this.provider.state},enumerable:!0,configurable:!0}),e.prototype.addPickerData=function(e){this.provider.clientId=e?e.clientId:"zxqem6bqrgopvs0"},e.prototype.launchDrive=function(e){!0===this.provider.state&&this.drive.choose(this.pickerOptions)},e=__decorate([o.autoinject(),__metadata("design:paramtypes",[r.EventAggregator])],e)}();t.ImportDropBox=a});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-onedrive",["require","exports","./ph-import-resume-config","aurelia-event-aggregator","aurelia-framework"],function(e,t,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.eventAggregator=e,this.provider={api:"https://js.live.net/v5.0/OneDrive.js",devkey:"",clientId:"",scope:[],sid:"onedrive-js",state:null,errorRequest:5,amd:!0,viewId:"onedrive",attr:[{name:"client-id",ref:"clientId"}]},this.scriptState=o.ScriptStatus,this.fileFormats=[],this.supporteFileFormats="bmp, doc, docx, dot, dotx, gif, gz, htm, html, jpeg, jpg, msg, odp, ods, odt, pdf, png, ppt, pptx, rar, rtf, tif, tiff, txt, wpd, wri, xls, xlsx, xlt, xltx, or zip",this.pickerOptions={clientId:"",action:"download",multiSelect:!1,success:this.handlePickerSuccess.bind(this),error:this.handlePickerErrored.bind(this),cancel:this.handlePickerCanceled.bind(this),linkType:"downloadLink"},this.eventAggregator=e}return e.prototype.handlePickerSuccess=function(e){var t=e.values[0],o=t.size/1048576,i={fileLocation:t.link,fileName:t.fileName,proceed:!1};if(o<=2){i.proceed=!0;var r=i.fileName.split("."),a=r[r.length-1];this.supporteFileFormats.indexOf(a.toLowerCase())>=0?this.eventAggregator.publish("fileAdded",i):this.eventAggregator.publish("fileErrored",{type:"unsupported"})}else this.eventAggregator.publish("fileErrored",{type:"exceeds"})},e.prototype.handlePickerErrored=function(){this.eventAggregator.publish("fileErrored",{type:"errored"})},e.prototype.handlePickerCanceled=function(){this.eventAggregator.publish("fileErrored",{type:"cancel"})},e.prototype.loadScripts=function(e){var t=this,o=this.provider,i=document.getElementsByTagName("head")[0],r=document.getElementById(o.sid);if(r){for(var a=o.attr,n=0,s=a;n<s.length;n++){var l=s[n];r.setAttribute(l.name,this.provider[l.ref])}o.state=!0,this.drive=OneDrive,e(!0)}else{var c=document.createElement("script");c.type="text/javascript",c.src=o.api,c.id=o.sid;for(var a=o.attr,p=0,d=a;p<d.length;p++){var l=d[p];c.setAttribute(l.name,this.provider[l.ref])}c.async=!0,c.onload=function(i){o.state=!0,t.drive=OneDrive,e(!0)},c.onerror=function(){if(console.info("errored"),o.errorRequest){o.errorRequest--;var e=document.getElementById(o.sid);e.parentNode.removeChild(e),setTimeout(function(){return t.loadScripts(o)},500),console.info("errored")}else o.state=null},i&&i.appendChild(c)}},Object.defineProperty(e.prototype,"status",{get:function(){return this.provider.state},enumerable:!0,configurable:!0}),e.prototype.addPickerData=function(e){e&&(this.provider.clientId=e.clientId,this.pickerOptions.clientId=e.clientId)},e.prototype.launchDrive=function(e){!0===this.provider.state?this.drive.open(this.pickerOptions):console.info("state:"+this.provider.state)},e=__decorate([r.autoinject(),__metadata("design:paramtypes",[i.EventAggregator])],e)}();t.ImportOneDrive=a});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-googledrive",["require","exports","./ph-import-resume-config","aurelia-event-aggregator","aurelia-framework"],function(e,t,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.eventAggregator=e,this.provider={api:"https://apis.google.com/js/client.js",devkey:"",clientId:"",scope:["https://www.googleapis.com/auth/drive"],sid:"googledrivejs",state:null,errorRequest:5,amd:!1,viewId:"googledrive",attr:[]},this.scriptState=o.ScriptStatus,this.pickerApiLoaded=!1,this.oauthToken=!1,this.eventAggregator=e}return e.prototype.loadScripts=function(e){var t=this,o=this.provider,i=document.getElementsByTagName("head")[0];if(!document.getElementById(o.sid)){var r=document.createElement("script");r.type="text/javascript",r.src=o.api,r.id=o.sid;for(var a=o.attr,n=0,s=a;n<s.length;n++){var l=s[n];r.setAttribute(l.name,l.value)}r.async=!0,r.onload=function(t){o.state=!0,e(!0)},r.onerror=function(){if(console.info("errored"),o.errorRequest){o.errorRequest--;var e=document.getElementById(o.sid);e.parentNode.removeChild(e),setTimeout(function(){return t.loadScripts(o)},500),console.info("errored")}else o.state=null},i&&i.appendChild(r)}},Object.defineProperty(e.prototype,"status",{get:function(){return this.provider.state},enumerable:!0,configurable:!0}),e.prototype.launchDrive=function(e){!0===this.provider.state?(gapi.auth.init(this.onAuthApiLoad.bind(this)),gapi.load("picker",{callback:this.onPickerApiLoad.bind(this)})):console.info("state:"+state)},e.prototype.onAuthApiLoad=function(){var e=this.provider;window.gapi.auth.authorize({client_id:e.clientId,scope:e.scope,immediate:!1},this.handleAuthResult.bind(this))},e.prototype.onPickerApiLoad=function(){this.pickerApiLoaded=!0},e.prototype.handleAuthResult=function(e){e&&!e.error&&(this.oauthToken=e.access_token,this.createPicker())},e.prototype.createPicker=function(){if(this.pickerApiLoaded&&this.oauthToken){new google.picker.View(google.picker.ViewId.DOCS).setMimeTypes("application/msword, application/pdf, application/rtf, text/plain, application/vnd.openxmlformats-officedocument.wordprocessingml.document, text/html, image/jpeg, image/png, image/jpg,application/vnd.ms-powerpoint, application/vnd.openxmlformats-officedocument.presentationml.presentation, application/rar, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/zip, application/x-compressed-zip, image/bmp, application/vnd.openxmlformats-officedocument.wordprocessingml.template, image/gif, application/x-gzip, application/vnd.google-apps.photo, application/vnd.google.drive.ext-type.jpg, application/vnd.google.drive.ext-type.png");(new google.picker.PickerBuilder).addViewGroup(new google.picker.ViewGroup(google.picker.ViewId.DOCS).addView(google.picker.ViewId.DOCUMENTS).addView(google.picker.ViewId.PHOTOS)).enableFeature(google.picker.Feature.NAV_HIDDEN).setOAuthToken(this.oauthToken).setDeveloperKey(this.provider.devkey).setCallback(this.pickerCallback.bind(this)).build().setVisible(!0)}},e.prototype.pickerCallback=function(e){var t=this,o="";if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var i=e[google.picker.Response.DOCUMENTS][0];o=i[google.picker.Document.URL];var r=i.sizeBytes/1048576,a={fileLocation:o,fileName:i.name,proceed:!1};if("file"==i.type||"photo"==i.type){var n=i.id,s=this.oauthToken;if(r<=10){a.proceed=!0;gapi.client.request({path:"/drive/v3/files/"+n+"/permissions/",method:"POST",body:{role:"reader",type:"anyone"}}).execute(function(e){var o=new XMLHttpRequest;o.open("GET","https://www.googleapis.com/drive/v2/files/"+n),o.setRequestHeader("Authorization","Bearer "+s),o.addEventListener("load",function(){var e=JSON.parse(o.responseText);a.fileLocation=e.webContentLink,t.eventAggregator.publish("fileAdded",a)}),o.addEventListener("error",function(){t.eventAggregator.publish("fileErrored",{type:"common"})}),o.send()})}else this.eventAggregator.publish("fileErrored",{type:"exceeds"})}else this.eventAggregator.publish("fileErrored",{type:"unsupported"})}else e[google.picker.Response.ACTION]==google.picker.Action.CANCEL&&this.eventAggregator.publish("fileErrored",{type:"cancel"})},e.prototype.addPickerData=function(e){e?(this.provider.clientId=e.clientId,this.provider.devkey=e.devkey):(this.provider.devkey="AIzaSyBFrajIgOC9E6vnLy9n1YheaHkzGX7x1Dc",this.provider.clientId="21747885378-4j2okdko0uuvqb4bacu2rvr1cjndt9l2.apps.googleusercontent.com")},e=__decorate([r.autoinject(),__metadata("design:paramtypes",[i.EventAggregator])],e)}();t.ImportGoogleDrive=a});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-localdrive",["require","exports","aurelia-framework","dropzone","aurelia-event-aggregator"],function(e,t,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.provider={api:"",devkey:"",clientId:"",scope:[],sid:"",state:null,errorRequest:5,amd:!0,viewId:"localdrive",attr:[]},this.maxFileSize=10,this.fileObj={},this.ctx={uploadUrl:"/fileUpload",allowedFormats:".bmp, .doc, .docx, .dot, .dotx, .gif, .gz, .htm, .html, .jpeg, .jpg, .msg, .odp, .ods, .odt, .pdf, .png, .ppt, .pptx, .rar, .rtf, .tif, .tiff, .txt, .wpd, .wri, .xls, .xlsx, .xlt, .xltx, .zip",previewTemplate:""},this.eventAggregator=e}return e.prototype.handleFileUpload=function(){var e=this;try{if(i&&document.querySelector(".ph-dropzone-area")){i.options.phDropzone=!1,i.options.autoDiscover=!1;var t={url:phApp.baseDomain+this.ctx.uploadUrl,withCredentials:!0,clickable:""};this.ctx.allowedFormats&&(t.acceptedFiles=this.ctx.allowedFormats),t.maxFilesize=this.maxFileSize,this.dropzone&&this.dropzone.destroy(),t.clickable="#ph-dropzone",this.dropzone=new i(".ph-dropzone-area",t),this.dropzone.on("success",function(t,o){e.fileObj=t,e.fileObj.res=o,e.eventAggregator.publish("fileAddedLocalDrive",o)}),this.dropzone.on("addedfile",function(t){e.eventAggregator.publish("fileAddedLocalDriveInitiated",{view:e.provider.viewId})}),this.dropzone.on("canceled",function(t){var o={type:"cancel"};e.eventAggregator.publish("fileErrored",o)}),this.dropzone.on("uploadprogress",function(t){e.fileObj=t}),this.dropzone.on("error",function(o,r,a,n){var s=o.size/1048576,l={type:"common"};if(s>e.maxFileSize)l.type="exceeds",l.maxFileSize=e.maxFileSize;else if(o.type){var c=i.isValidFile(o,t.acceptedFiles);c||(l.type="unsupported")}e.eventAggregator.publish("fileErrored",l)}),this.eventAggregator.subscribe("ph:ir:lc:fileSizeChanged",function(t){t.fileSize&&(e.maxFileSize=t.fileSize)})}}catch(e){console.info(e.message)}},e.prototype.loadScripts=function(e){var t=this;this.provider.state=!0,setTimeout(function(){return t.handleFileUpload()},100),e(!0)},e.prototype.handleSuccess=function(e){},e.prototype.addPickerData=function(e){},Object.defineProperty(e.prototype,"status",{get:function(){return this.provider.state},enumerable:!0,configurable:!0}),e=__decorate([o.autoinject(),__metadata("design:paramtypes",[r.EventAggregator])],e)}();t.ImportLocalDrive=a});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-localdriveV2",["require","exports","aurelia-framework","dropzone","aurelia-event-aggregator"],function(e,t,o,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e){this.provider={api:"",devkey:"",clientId:"",scope:[],sid:"",state:null,errorRequest:5,amd:!0,viewId:"localdriveV2",attr:[]},this.maxFileSize=10,this.fileObj={},this.ctx={uploadUrl:"/fileCommonUpload",allowedFormats:".bmp, .doc, .docx, .dot, .dotx, .gif, .gz, .htm, .html, .jpeg, .jpg, .msg, .odp, .ods, .odt, .pdf, .png, .ppt, .pptx, .rar, .rtf, .tif, .tiff, .txt, .wpd, .wri, .xls, .xlsx, .xlt, .xltx, .zip",previewTemplate:""},this.eventAggregator=e}return e.prototype.handleFileUpload=function(){var e=this;if(i&&document.querySelector(".ph-dropzone-areaV2")){i.options.phDropzone=!1,i.options.autoDiscover=!1;var t={url:phApp.baseDomain+this.ctx.uploadUrl,withCredentials:!0,clickable:!1};this.ctx.allowedFormats&&(t.acceptedFiles=this.ctx.allowedFormats),t.maxFilesize=this.maxFileSize,t.clickable="#ph-v2dropzone",this.dropzone&&this.dropzone.destroy(),this.dropzone=new i(".ph-dropzone-areaV2",t),this.dropzone.on("success",function(t,o){e.fileObj=t,e.fileObj.res=o,e.eventAggregator.publish("fileAddedLocalDrive",o)}),this.dropzone.on("addedfile",function(t){e.eventAggregator.publish("fileAddedLocalDriveInitiated",{view:e.provider.viewId})}),this.dropzone.on("canceled",function(t){var o={type:"cancel"};e.eventAggregator.publish("fileErrored",o)}),this.dropzone.on("uploadprogress",function(t){e.fileObj=t}),this.dropzone.on("error",function(o,r,a,n){var s=o.size/1048576,l={type:"common"};if(s>e.maxFileSize)l.type="exceeds",l.maxFileSize=e.maxFileSize;else if(o.type){var c=i.isValidFile(o,t.acceptedFiles);c||(l.type="unsupported")}e.eventAggregator.publish("fileErrored",l)}),this.eventAggregator.subscribe("ph:ir:lc:fileSizeChanged",function(t){t.fileSize&&(e.maxFileSize=t.fileSize)})}},e.prototype.loadScripts=function(e){var t=this;this.provider.state=!0,setTimeout(function(){return t.handleFileUpload()},100),e(!0)},e.prototype.handleSuccess=function(e){},e.prototype.addPickerData=function(e){},Object.defineProperty(e.prototype,"status",{get:function(){return this.provider.state},enumerable:!0,configurable:!0}),e=__decorate([o.autoinject(),__metadata("design:paramtypes",[r.EventAggregator])],e)}();t.ImportLocalDriveV2=a});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-localdriveV3",["require","exports","aurelia-framework","dropzone","aurelia-event-aggregator","ph-common"],function(e,t,o,i,r,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.commonService=t,this.provider={api:"",devkey:"",clientId:"",scope:[],sid:"",state:null,errorRequest:5,amd:!0,viewId:"localdriveV3",attr:[]},this.maxFileSize=10,this.uploadingSronly=!1,this.fileObj={},this.profileMerge=!1,this.ctx={uploadUrl:"/uploadResumeS3andParse",allowedFormats:".doc, .docx, .pdf, .txt",previewTemplate:""},this.eventAggregator=e}return e.prototype.handleFileUpload=function(){var e=this;this.eventAggregator.subscribe("initiate_upload",function(t){"localdriveV3"===t.provideId&&e.dropzone.processQueue()});var t={},o=this.element||document;if(i&&o.querySelector(".ph-dropzone-area")){i.options.phDropzone=!1,i.options.autoDiscover=!1,this.ctx=this.fileCtx||this.ctx;var r;r=this.fileCtx.hasOwnProperty("uploadUrl")&&this.fileCtx.uploadUrl?{url:this.commonService.getBaseDomain()+this.fileCtx.uploadUrl,withCredentials:!0,clickable:!1}:{url:this.commonService.getBaseDomain()+this.ctx.uploadUrl,withCredentials:!0,clickable:!1},this.fileCtx.allowedFormats?r.acceptedFiles=this.fileCtx.allowedFormats:r.acceptedFiles=this.ctx.allowedFormats,this.fileCtx.maxFiles?r.maxFiles=this.fileCtx.maxFiles:this.ctx.hasOwnProperty("maxFiles")&&(r.maxFiles=this.ctx.maxFiles),this.fileCtx.parallelUploads&&(r.parallelUploads=this.fileCtx.parallelUploads),this.fileCtx.autoProcessQueue&&(r.autoProcessQueue=this.fileCtx.autoProcessQueue),this.fileCtx.maxFilesize?r.maxFilesize=this.fileCtx.maxFilesize:r.maxFilesize=this.ctx.maxFileSize?this.ctx.maxFileSize:this.maxFileSize,this.fileCtx&&(r.params={dk:this.fileCtx.dk||"fileUpload"}),this.fileCtx.category&&(r.params.type=this.fileCtx.category),this.fileCtx.uploadMultiple&&(r.uploadMultiple=this.fileCtx.uploadMultiple),this.profileMerge&&(r.params?r.params.profileMerge=!0:(r.params={},r.params.profileMerge=!0)),this.ctx&&this.ctx.clickable?r.clickable=this.ctx.clickable:r.clickable="#ph-dropzone";var a=sessionStorage.getItem("resumeAutoDiscover");this.profileMerge&&"false"===a&&(r.autoProcessQueue=!1),this.dropzone&&this.dropzone.destroy(),this.dropzone=new i(".ph-dropzone-area",r),this.dropzone.off("success").on("success",function(o,i){if(e.fileObj=o,e.fileObj.res=i,localStorage.processType?i.source=localStorage.processType:i.source="",i&&"success"==i.status)e.eventAggregator.publish("fileAddedLocalDrive",i),t.status="success",t.data=o;else{t.status="error";var r={type:"error"};t.data=r}e.eventAggregator.publish("fileErrored",r),e.handleFileUploadStaus(t)}),this.dropzone.off("addedfile").on("addedfile",function(o){e.eventAggregator.publish("fileAddedLocalDriveInitiated",{view:e.provider.viewId}),t.status="addedfile",t.data=o,e.handleFileUploadStaus(t)}),this.dropzone.off("canceled").on("canceled",function(o){var i={type:"cancel"};e.eventAggregator.publish("fileErrored",i),t.status="canceled",t.data=o,e.handleFileUploadStaus(t)}),this.dropzone.off("uploadprogress").on("uploadprogress",function(o){e.fileObj=o,e.uploadingSronly=!0,setTimeout(function(){e.uploadingSronly=!1},4e3),t.status="uploadprogress",t.data=o,e.handleFileUploadStaus(t)}),this.dropzone.off("complete").on("complete",function(o){e.fileObj=o,e.fileObj.res&&e.fileObj.res.status&&("503"==e.fileObj.res.status||"failure"==e.fileObj.res.status)&&(t.status="error",t.fileObj=e.fileObj,e.handleFileUploadStaus(t))}),this.dropzone.off("error").on("error",function(o,a,n,s){var l=e.fileCtx.maxFilesize||(e.ctx.maxFileSize?e.ctx.maxFileSize:e.maxFileSize),c=o.size/1048576,p={type:"common",name:o.name};if(c>l)p.type="exceeds",p.maxFileSize=l,p.name=o.name;else if(o.type){var d=i.isValidFile(o,r.acceptedFiles);d||(p.type="unsupported",p.name=o.name)}e.eventAggregator.publish("fileErrored",p),t.status="error",t.data=p,t.fileObj=o,e.handleFileUploadStaus(t)}),this.eventAggregator.subscribe("ph:ir:lc:fileSizeChanged",function(t){t.fileSize&&(e.maxFileSize=t.fileSize)})}},e.prototype.loadScripts=function(e){var t=this;this.provider.state=!0,setTimeout(function(){return t.handleFileUpload()},100),e(!0)},e.prototype.handleSuccess=function(e){},e.prototype.addPickerData=function(e){},e.prototype.handleBindableData=function(e){this.fileCtx=e.ctx,this.element=e.elem,this.profileMerge=e.profileMerge},e.prototype.handleFileUploadStaus=function(e){this.fileCtx&&this.fileCtx.funRef&&this.fileCtx.funRef(e)},Object.defineProperty(e.prototype,"status",{get:function(){return this.provider.state},enumerable:!0,configurable:!0}),e=__decorate([o.autoinject(),__metadata("design:paramtypes",[r.EventAggregator,"function"==typeof(t=void 0!==a.CommonService&&a.CommonService)&&t||Object])],e);var t}();t.ImportLocalDriveV3=n});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-factory",["require","exports","./ph-import-resume-config","aurelia-framework","./ph-import-resume-onedrive","./ph-import-resume-dropbox","./ph-import-resume-googledrive","./ph-import-resume-localdrive","./ph-import-resume-localdriveV2","./ph-import-resume-localdriveV3"],function(e,t,o,i,r,a,n,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t,o,i,r,a){this.onedrive=e,this.dropbox=t,this.localdrive=o,this.localdriveV2=i,this.localdriveV3=r,this.googledrive=a}return e.prototype.getImporter=function(e){if(!e)return null;switch(e){case o.ProviderKey.OneDrive:return this.onedrive;case o.ProviderKey.GoogleDrive:return this.googledrive;case o.ProviderKey.DropBox:return this.dropbox;case o.ProviderKey.LocalComputer:return this.localdrive;case o.ProviderKey.LocalComputerV2:return this.localdriveV2;case o.ProviderKey.LocalComputerV3:return this.localdriveV3}},e.prototype.loadprovider=function(e){e},e=__decorate([i.autoinject(),__metadata("design:paramtypes",[r.ImportOneDrive,a.ImportDropBox,s.ImportLocalDrive,l.ImportLocalDriveV2,c.ImportLocalDriveV3,n.ImportGoogleDrive])],e)}();t.ImportFactory=p});var __decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.commonService=e}return e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==i.CommonService&&i.CommonService)&&t||Object])],e);var t}();t.ImportResumeService=r});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function i(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(i.prototype=o.prototype,new i)}}(),__decorate=this&&this.__decorate||function(e,t,o,i){var r,a=arguments.length,n=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(n=(a<3?r(n):a>3?r(t,o,n):r(t,o))||n);return a>3&&n&&Object.defineProperty(t,o,n),n},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-import-resume",["require","exports","aurelia-framework","ph-common","./ph-import-resume-config","./ph-import-resume-service","aurelia-event-aggregator","./ph-import-resume-factory"],function(e,t,o,i,r,a,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="ph-import-resume-v1",c=function(e){function t(t,o,i,a,n){var s=e.call(this,t,o,l)||this;return s.element=t,s.commonService=o,s.importResumeService=i,s.eventAggregator=a,s.importer=n,s.profileMerge=!1,s.providerKey=r.ProviderKey,s.private=null,s.providerId="localdrive",s.labelName="Local computer",s}return __extends(t,e),t.prototype.getSiteConfig=function(){var t=this,o=this.commonService.getSiteSettings("filePicker")||{};if(Object.keys(o).length||"localdriveV3"==this.providerId){if(this.pickerData=o[this.providerId]||{},this.providerId&&(this.driver=this.importer.getImporter(this.providerId),this.driver)){if(this.driver.addPickerData(this.pickerData),this.fileCtx&&this.driver.handleBindableData){var i={};i.ctx=this.fileCtx,i.elem=this.element,i.profileMerge=this.profileMerge,this.driver.handleBindableData(i)}else if(this.driver.handleBindableData){var i={};i.profileMerge=this.profileMerge,this.driver.handleBindableData(i)}this.driver.loadScripts(function(e){t.enableDrive=e})}e.prototype.hideLoader.call(this)}},t.prototype.chooseResume=function(e,t){var o=this;this.eventAggregator.publish("filePickerInitiated",{view:this.providerId}),setTimeout(function(){t&&o.providerId==t?o.driver.launchDrive(e):t||o.driver.launchDrive(e)},10)},t.prototype.attached=function(){var t=this;e.prototype.attached.call(this),this.getSiteConfig(),this.eventAggregator.subscribe("ATTACH_LINK",function(e){var o=e.providerType;o&&t.chooseResume("",o)})},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Boolean)],t.prototype,"profileMerge",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"successImport",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"errorImport",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"fileCtx",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"fyfStepConfig",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"fyfProvider",void 0),__decorate([o.bindable,__metadata("design:type",String)],t.prototype,"providerId",void 0),__decorate([o.bindable,__metadata("design:type",Object)],t.prototype,"labelName",void 0),t=__decorate([o.customElement(l),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(c=void 0!==i.CommonService&&i.CommonService)&&c||Object,a.ImportResumeService,n.EventAggregator,s.ImportFactory])],t);var c}(i.PhenomWidget);t.ImportResume=c}),define("text!v1/ph-import-resume.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-import-resume-v1/default/view.html",["module"],function(e){e.exports='<template>\n    \x3c!-- view html here --\x3e\n    <a id="ph-dropzone" href="javascript:void(0)" method="POST" class="dropzone ${ (enableDrive === true)  ? \'active\': \'disabled\'}" role="button" title="Local computer" aria-label="importe resume from Local computer" key-role="button" key-title="localComputer" key-aria-label="importeResumeFromLocalComputerText" ph-tevent="local_drive_click" data-ph-tevent-attr-trait145="local_drive" data-ph-tevent-attr-trait27="${profileForm.email}">\n        <div class="left-icon-holder ">\n            <i class="msicon-fullmdl2assets-25 local-pc-iconholder"></i>\n        </div>\n        <div class="right-content">\n            <ppc-content key="localComputer">Local computer</ppc-content>\n        </div>\n    </a>\n</template>'}),define("text!v1/views/ph-import-resume-v1/googledrive/view.html",["module"],function(e){e.exports='<template>\n    \x3c!-- view html here --\x3e\n    <a href="javascript:void(0)" click.trigger="chooseResume($event)" class="${ (enableDrive === true)  ? \'active\': \'disabled\'}"\n        role="button" title="Choose from Google Drive">\n        <div class="left-icon-holder">\n            <span class="icon-sprite googledrive-icon-holder"></span>\n        </div>\n        <div class="right-content">Google Drive</div>\n        </a>\n        \x3c!--<a href="javascript:void(0)" click.trigger="chooseResume(provider.oneDrive)" class="${canOneDrive ? \'active\': \'disabled\'}"\n        role="button" title="Choose from OneDrive">\n        <div class="icon-box dropbox-icon">\n            <ppc-content type="icon">\n            </ppc-content>\n        </div>\n        <div class="text-box">\n            Choose from OneDrive\n        </div>\n    </a>--\x3e\n</template>'}),define("text!v1/views/ph-import-resume-v1/attachment/view.html",["module"],function(e){e.exports='<template>\n    \x3c!-- view html here --\x3e\n    <a id="ph-v2dropzone" href="javascript:void(0)" method="POST" class="dropzone" role="button" title="Local computer" aria-label="importe resume from Local computer" key-role="button" key-title="localComputer" key-aria-label="importeResumeFromLocalComputerText" ph-tevent="local_drive_click" data-ph-tevent-attr-trait145="local_drive" data-ph-tevent-attr-trait27="${profileForm.email}">\n        <div class="left-icon-holder ">\n            <i class="msicon-fullmdl2assets-25 local-pc-iconholder"></i>\n        </div>\n        <div class="right-content">\n            <ppc-content key="localComputer">Local computer</ppc-content>\n        </div>\n    </a>\n</template>'}),
define("text!v1/views/ph-import-resume-v1/dropbox/view.html",["module"],function(e){e.exports='<template>\n    \x3c!-- view html here --\x3e\n    <a href="javascript:void(0)" click.trigger="chooseResume($event)" class="${ (enableDrive === true)  ? \'active\': \'disabled\'}"\n        role="button" title="Choose from Dropbox">\n        <div class="left-icon-holder">\n            <span class="icon-sprite dropbox-icon-holder"></span>\n        </div>\n        <div class="right-content">Dropbox</div>\n    </a>\n</template>'}),define("text!v1/views/ph-import-resume-v1/im-default/view.html",["module"],function(e){e.exports='<template>\n\n\t<a id="ph-dropzone" href="javascript:void(0)" class="dropzone active" role="button">\n\t\t<div class="dropzone-content">\n\t\t\t<div class="icon-holder ">\n\t\t\t\t<i class="fa-2x fa fa-dropbox"></i>\n\t\t\t</div>\n\t\t\t<div class="content-holder">\n\t\t\t\t<ppc-content>Browse My Device</ppc-content>\n\t\t\t</div>\n\t\t</div>\n\t</a>\n\n</template>'}),define("text!v1/views/ph-import-resume-v1/onedrive/view.html",["module"],function(e){e.exports='<template>\n    \x3c!-- view html here --\x3e\n    <a href="javascript:void(0)" click.trigger="chooseResume($event)" class="${ (enableDrive === true)  ? \'active\': \'disabled\'}"\n        role="button" title="Choose from OneDrive">\n        <div class="left-icon-holder">\n            <span class="icon-sprite microsoft-icon-holder"></span>\n        </div>\n        <div class="right-content">Microsoft OneDrive</div>\n        </a>\n</template>'}),define("text!v1/views/ph-import-resume-v1/im-dropbox/view.html",["module"],function(e){e.exports='<template>\n\n\t<a id="ph-dropzone" href="javascript:void(0)" class="dropzone" role="button">\n\t\t<div class="dropzone-content">\n\t\t\t<div class="icon-holder ">\n\t\t\t\t<i class="fa-2x fa fa-dropbox"></i>\n\t\t\t</div>\n\t\t\t<div class="content-holder">\n\t\t\t\t<ppc-content>Upload from Dropbox</ppc-content>\n\t\t\t</div>\n\t\t</div>\n\t</a>\n\t\n</template>'}),define("text!v1/views/ph-import-resume-v1/im-googledrive/view.html",["module"],function(e){e.exports='<template>\n\n\t<a id="ph-dropzone" href="javascript:void(0)" class="dropzone" role="button">\n\t\t<div class="dropzone-content">\n\t\t\t<div class="icon-holder ">\n\t\t\t\t<i class="fa-2x fa fa-dropbox"></i>\n\t\t\t</div>\n\t\t\t<div class="content-holder">\n\t\t\t\t<ppc-content>Upload from Google drive</ppc-content>\n\t\t\t</div>\n\t\t</div>\n\t</a>\n\t\n</template>'});
/* Widget Script End */
/* Widget View start */
var phApp = phApp || {}
phApp.lazyLoadViews = phApp.lazyLoadViews || {}
phApp.lazyLoadViews['ph-import-resume-v1-external-upload-resume'] = "<div class=\"ph-dropzone-area\" data-ph-at-id=\"upload-resume-block\" data-ps=\"f76960ad-div-1\" v-phw-setting>\n    <button id=\"ph-dropzone\" class=\"dropzone active btn plain-button\" aria-label=\"Use My Resume\" key-aria-label=\"importResumeButtonText\" data-ph-at-id=\"upload-resume-button\" data-ps=\"f76960ad-button-1\" v-phw-setting>\n        <div class=\"dropzone-content\" data-ps=\"f76960ad-div-2\" v-phw-setting>\n            <div class=\"content-holder\" data-ps=\"f76960ad-div-3\" v-phw-setting>\n                <span data-ps=\"f76960ad-span-1\" v-phw-setting>\n                    <ppc-content key=\"importResumeButtonText\" data-ph-at-id=\"upload-resume-button-text\" data-ps=\"f76960ad-ppc-content-1\" v-phw-setting>Use My Resume</ppc-content>\n                </span>\n            </div>\n        </div>\n    </button>\n</div>";
var script = document.createElement('script');
script.id = 'ph-import-resume-v1-external-upload-resume';
script.type = 'text/x-ph-tmpl';
script.innerHTML = phApp.lazyLoadViews['ph-import-resume-v1-external-upload-resume'];
document.head.appendChild(script)
/* Widget View end */
/* Widget Child data start */
phApp.lazyLoadChildData = phApp.lazyLoadChildData || {}
phApp.lazyLoadChildData['ph-import-resume-v1-external-upload-resume'] = [];
/* Widget Child data end */