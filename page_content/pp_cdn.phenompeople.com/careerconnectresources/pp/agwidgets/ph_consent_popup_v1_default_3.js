/* Widget Script start */
define("environment",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={debug:!1,testing:!1}}),define("v1/ph-consent-popup-config",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetConfig={v1:{ddoKey:""}}});var __decorate=this&&this.__decorate||function(e,t,o,n){var i,p=arguments.length,r=p<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(p<3?i(r):p>3?i(t,o,r):i(t,o))||r);return p>3&&r&&Object.defineProperty(t,o,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-consent-popup-service",["require","exports","aurelia-framework","ph-common"],function(e,t,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.commonService=e}return e=__decorate([o.autoinject(),__metadata("design:paramtypes",["function"==typeof(t=void 0!==n.CommonService&&n.CommonService)&&t||Object])],e);var t}();t.ConsentPopupService=i});var __extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),__decorate=this&&this.__decorate||function(e,t,o,n){var i,p=arguments.length,r=p<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(p<3?i(r):p>3?i(t,o,r):i(t,o))||r);return p>3&&r&&Object.defineProperty(t,o,r),r},__metadata=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};define("v1/ph-consent-popup",["require","exports","aurelia-framework","ph-common","./ph-consent-popup-service"],function(e,t,o,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var p="ph-consent-popup-v1",r=function(e){function t(t,o,n){var i=e.call(this,t,o,p)||this;return i.element=t,i.consentPopupService=n,i.isDisabled=!1,i.showConsentPopup=!1,i.submitData=!1,i.hiddenOverflow=!1,i}return __extends(t,e),t.prototype.attached=function(){e.prototype.attached.call(this),this.widgetContext&&(this.widgetContext.triggerPopup=this.triggerConsentPopup.bind(this))},t.prototype.hasPopup=function(e,t){var o=t||this.element&&this.element.parentElement;return o&&e>0?o.classList&&o.classList.contains("modal-dialog")?o:this.hasPopup(e-1,o.parentElement):void 0},t.prototype.triggerConsentPopup=function(t){var o=this;this.parentPopup=this.hasPopup(20),document.body&&"hidden"==document.body.style.overflow&&(this.hiddenOverflow=!0,document.body&&(document.body.style.overflow="auto")),this.parentPopup&&(this.parentPopup.style.overflow="hidden"),this.showConsentPopup=!0,this.submitData=!!t,this.isButtonDisabled(),setTimeout(function(){var t=o.element.querySelector(".ph-a11y-popup-start-focus"),n=o.element.querySelector(".ph-a11y-popup-close-focus");o.element.addEventListener("keyup",o.handleEscape),e.prototype.openDialogPopup.call(o,"ph-a11y-modal-area",n,t,null,!0)},0)},t.prototype.handleEscape=function(e){"Escape"!=e.key&&27!==e.keyCode&&27!==e.which||this.closePopup()},t.prototype.closePopup=function(t){this.showConsentPopup=!1,e.prototype.closeDialogPopup.call(this),this.element.removeEventListener("keyup",this.handleEscape),t?e.prototype.trackWidgetClick.call(this,"pii-consent-submit",{}):e.prototype.trackWidgetClick.call(this,"pii-consent-done",{}),this.parentPopup&&(this.parentPopup.style.overflow="auto"),this.hiddenOverflow&&setTimeout(function(){document.body&&(document.body.style.overflow="hidden")},100)},t.prototype.triggerSubmitData=function(){this.widgetContext&&this.widgetContext.submit&&(this.widgetContext.submit(),this.closePopup(!0))},t.prototype.isButtonDisabled=function(){var e=this;this.isDisabled=!1,this.widgetContext.consentData&&this.widgetContext.consentData.length&&this.widgetContext.consentData.forEach(function(t){t.optional||t.isChecked||(e.isDisabled=!0)}),!this.isDisabled&&this.widgetContext.widgetRef&&(this.widgetContext.widgetRef.piiConsentError=!1)},__decorate([o.bindable({attribute:"view"}),__metadata("design:type",String)],t.prototype,"tmpl",void 0),__decorate([o.bindable(),__metadata("design:type",Object)],t.prototype,"widgetContext",void 0),t=__decorate([o.customElement(p),o.autoinject(),__metadata("design:paramtypes",[Element,"function"==typeof(r=void 0!==n.CommonService&&n.CommonService)&&r||Object,i.ConsentPopupService])],t);var r}(n.PhenomWidget);t.ConsentPopup=r}),define("text!v1/ph-consent-popup.html",["module"],function(e){e.exports='<template>\n\t<compose view.bind="tmplUrl" containerless>\n</template>'}),define("text!v1/views/ph-consent-popup-v1/default/view.html",["module"],function(e){e.exports="<template>\n\x3c!-- view html here --\x3e\n</template>"});
/* Widget Script End */
/* Widget View start */
var phApp = phApp || {}
phApp.lazyLoadViews = phApp.lazyLoadViews || {}
phApp.lazyLoadViews['ph-consent-popup-v1-default'] = "<div class=\"phs-widget-block-area ph-widget-box\" data-ps=\"8d6a500f-div-1\" v-phw-setting>\n    <a href=\"javascript:void(0)\" class=\"consents-link ph-a11y-popup-close-focus\" click.delegate=\"triggerConsentPopup()\" data-ph-at-id=\"consents-link\" ph-tevent=\"pii-popup-link\" aria-describedby=\"${'consent-error-' + instanceId }\" data-ps=\"8d6a500f-a-1\" v-phw-setting>\n        <span class=\"sr-only required-checkbox\" data-ps=\"8d6a500f-span-1\" v-phw-setting>${widgetBundle[\"requiredText\"]}</span>\n        ${widgetBundle[\"consentsLinkText\"]}\n    </a>\n</div>\n<div class=\"popup-modal-backdrop active\" if.bind=\"showConsentPopup\" data-ps=\"8d6a500f-div-2\" v-phw-setting>\n    <div class=\"modal show ph-a11y-modal-area\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"consent-heading\" data-ps=\"8d6a500f-div-3\" v-phw-setting>\n        <!-- Dialog area -->\n        <div class=\"modal-dialog consent-popup\" data-ps=\"8d6a500f-div-4\" v-phw-setting>\n            <div class=\"close-popup-btn\" data-ps=\"8d6a500f-div-5\" v-phw-setting>\n                <button class=\"ph-a11y-popup-start-focus close\" ph-tevent=\"pii-consent-close\" click.delegate=\"closePopup()\" aria-label=\"close popup\" data-ph-at-id=\"close-link\" data-ps=\"8d6a500f-button-1\" v-phw-setting>\n                    <i class=\"icon icon-cancel-1\" aria-hidden=\"true\" data-ps=\"8d6a500f-i-1\" v-phw-setting></i>\n                </button>\n            </div>\n            <h2 class=\"consent-heading\" id=\"consent-heading\" data-ph-at-id=\"consent-text\" data-ps=\"8d6a500f-h2-1\" v-phw-setting>\n                ${widgetBundle[\"consentHeading\"]}\n            </h2>\n            <div if.bind=\"widgetBundle['consentDescription']\" class=\"consent-description pii-consent-section\" id=\"consent-description\" data-ph-at-id=\"consent-description\" data-ps=\"8d6a500f-div-6\" v-phw-setting>\n                ${widgetBundle[\"consentDescription\"]}\n            </div>\n            <div class=\"pii-consent-section\" if.bind=\"widgetContext.consentData &amp;&amp; widgetContext.consentData.length\" data-ps=\"8d6a500f-div-7\" v-phw-setting>\n                <div class=\"consent-info-heading\" innerhtml.bind=\"(widgetBundle.piiconsentInfoHeading || '')|pht | sanitizeHTML\" data-ps=\"8d6a500f-div-8\" v-phw-setting></div>\n                <label repeat.for=\"eachConsent of widgetContext.consentData\" class=\"pii-consent-label\" data-ps=\"8d6a500f-label-1\" v-phw-setting>\n                    <input type=\"checkbox\" class=\"pii-consent-input\" aria-labelledby=\"${'checkbox-label-' + instanceId + $index}\" aria-describedby=\"${!eachConsent.optional ? 'consent-error-' + instanceId : ''}\" checked.bind=\"eachConsent.isChecked\" aria-checked=\"${eachConsent.isChecked?'true':'false'}\" aria-required=\"${!eachConsent.optional ? 'true':false}\" change.delegate=\"isButtonDisabled()\" data-ps=\"8d6a500f-input-1\" v-phw-setting>\n                    <span class=\"checkbox-selected\" aria-hidden=\"true\" data-ps=\"8d6a500f-span-2\" v-phw-setting></span>\n                    <span class=\"checkbox-unselect\" aria-hidden=\"true\" data-ps=\"8d6a500f-span-3\" v-phw-setting></span>\n                    <span class=\"checkbox-text\" data-ps=\"8d6a500f-span-4\" v-phw-setting>\n                        <span id=\"${'checkbox-label-' + instanceId + $index}\" class=\"each-consent-text\" innerhtml=\"${widgetBundle[eachConsent.type + 'Text']}\" data-ps=\"8d6a500f-span-5\" v-phw-setting> </span>\n                        <span class=\"consent-mandatory\" aria-hidden=\"true\" if.bind=\"!eachConsent.optional\" data-ps=\"8d6a500f-span-6\" v-phw-setting>*</span>\n                    </span>\n                </label>\n            </div>\n            <div class=\"consent-accept-area\" data-ps=\"8d6a500f-div-9\" v-phw-setting>\n                <button class=\"btn primary-button ph-a11y-allow-consent\" click.delegate=\"!submitData ? closePopup() : triggerSubmitData() \" data-ph-at-id=\"consent-done-link\" disabled.bind=\"isDisabled\" data-ps=\"8d6a500f-button-2\" v-phw-setting>\n                    ${!submitData ? widgetBundle[\"doneText\"]: widgetBundle[\"submitText\"]}\n                </button>\n            </div>\n        </div>\n\n    </div>\n</div>";
var script = document.createElement('script');
script.id = 'ph-consent-popup-v1-default';
script.type = 'text/x-ph-tmpl';
script.innerHTML = phApp.lazyLoadViews['ph-consent-popup-v1-default'];
document.head.appendChild(script)
/* Widget View end */
/* Widget Child data start */
phApp.lazyLoadChildData = phApp.lazyLoadChildData || {}
phApp.lazyLoadChildData['ph-consent-popup-v1-default'] = [];
/* Widget Child data end */