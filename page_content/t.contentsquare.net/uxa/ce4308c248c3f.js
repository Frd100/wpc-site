//15.134.1-es2019 2025-09-25T08:54:48.855Z (ce4308c248c3f)
var CS_CONF={"collectionEnabled":true,"useSentry":false,"projectId":2913,"status":1,"hostnames":["bcg.com","ceros.com","view.ceros.com","phenompro.com"],"crossDomainTracking":0,"crossDomainSingleIframeTracking":0,"consentRequired":0,"allowSubdomains":1,"visitorCookieTimeout":34164000000,"sampleRate":100,"replayRecordingRate":100,"validationRate":10,"lastTrackingDraw":null,"trackerDomain":"c.contentsquare.net","recordingDomain":"r.contentsquare.net","useMalkaPipeline":1,"ed":"l.contentsquare.net/log/web","eMerchandisingEnabled":0,"mouseMoveHeatmapEnabled":1,"autoInsightsEnabled":1,"jsErrorsEnabled":1,"customErrorsEnabled":1,"jsCustomErrorsEnabled":0,"apiErrorsEnabled":0,"customHashIdEnabled":0,"recordingEncryptionEnabled":0,"recordingEncryptionPublicKey":null,"recordingEncryptionPublicKeyId":0,"secureCookiesEnabled":0,"triggerSessionReplayEnabled":0,"triggerSessionReplayRegex":null,"dynamicIdRegex":"5d[a-zA-Z0-9]+","whitelistedAttributes":[],"replayRecordingUnmaskedUrlRegex":null,"replayRecordingUnmaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegexRules":[],"replayRecordingMaskedUrlRegex":null,"anonymisationMethod":null,"tagDeploymentMode":"CONTENTSQUARE","experimental":null,"iframesTracking":0,"textVisibilityEnabled":0,"cookielessTrackingEnabled":0,"malkaUrlEnabled":0,"malkaEtrEnabled":0,"pathComputationRules":{"reliableSelectors":[],"uniqueAttributes":[],"uniqueCssSelectors":[]},"asyncSerializerEnabled":1,"pendingInactivityTimeout":5000,"accessibilityEnabled":0,"uxaDomain":"app.contentsquare.com","webviewsTrackingEnabled":0,"useStaticResourceManager":1,"performanceTimingOptions":{"withResource":false,"withNavigation":false},"replayConsentRequiredForSession":0,"eventsApiEnabled":0,"clickedElementTextEnabled":0,"collectHierarchy":0,"collectSubmit":0,"collectTargetText":0,"customErrors":{"consoleMessageLogLevels":[]},"displayAdOptions":null,"taskSchedulerOptions":{"enabled":1},"malkaQuotaServiceDomain":"q-aeu1.contentsquare.net","malkaRecordingDomain":"k-aeu1.contentsquare.net","staticResourceManagerDomain":"srm.ba.contentsquare.net","voc":{"siteId":null,"enabled":0},"heapEnvironment":{"env_id":"4045573184","heap_tag_status":"mapping_only"}};
(()=>{var fh=Object.defineProperty;var gh=(s,n,t)=>n in s?fh(s,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[n]=t;var le=(s,n,t)=>gh(s,typeof n!="symbol"?n+"":n,t);var ie={};ie.d=(s,n)=>{for(var t in n)ie.o(n,t)&&!ie.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:n[t]})};ie.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();ie.o=(s,n)=>Object.prototype.hasOwnProperty.call(s,n);ie.r=s=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})};var dr={};ie.r(dr);ie.d(dr,{getRequestParameters:()=>Ag});function ls(s,n){let t;return window.Zone&&typeof window.Zone.__symbol__=="function"&&(t=s[window.Zone.__symbol__(n)]),t!=null?t:s[n]}function Yt(s){return Z(s)&&(typeof s=="number"||s instanceof Number)&&!isNaN(s)}function Rs(s){return s===parseInt(s,10)}function z(s){return Z(s)&&(typeof s=="string"||s instanceof csString)}function Bi(s){return typeof s=="boolean"}function Cs(s){return typeof s=="object"}function Z(s){return typeof s!="undefined"}function Tt(s){return Z(s)&&s!==null}function wa(s){return typeof s=="object"&&s!==null}function mh(s,n,t){return Rs(s)&&s>=n&&s<=t}function Bn(s){for(let n in s)return!1;return!0}function Ge(s){return typeof s=="function"}function ai(s){return s instanceof Element}function qe(s){return s instanceof Error}function Fn(s){let n=s.length;for(let t=0;t<n;t++)switch(csString.prototype.charCodeAt.call(s,t)){case 9:case 10:case 11:case 12:case 13:case 32:case 160:continue;default:return!1}return!0}var ci=typeof window=="undefined";function yh(){return typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof ie.g!="undefined"?ie.g:typeof process!="undefined"?process:Function("return this")()}var tt=yh();var nt=(()=>{let s;return function(n){n.debug="debug",n.warn="warn",n.implementation="implementation",n.error="error",n.critical="critical"}(s||(s={})),s})(),fn={[nt.debug]:0,[nt.warn]:1,[nt.implementation]:1,[nt.error]:2,[nt.critical]:3},rt={debug(...s){},warn(...s){},implementation(...s){},error(...s){},critical(...s){},isPerfLoggingActive(){return!1}};function Eh(s){rt=s}var U=s=>(n,t,e)=>{let i=(t==null?void 0:t.toString())||"",r=s||`${n.constructor&&n.constructor.name}.${i}`;if(e){let a=e.value;e.value=function(...c){return os(r,a.bind(this))(...c)}}};function os(s,n){return function(...t){try{let e=n.apply(this,t);return Z(tt.Promise)&&e instanceof tt.Promise?e.then(i=>i,i=>rt.error(qe(i)?i:new Error(i),s)):e}catch(e){try{rt.error(qe(e)?e:new Error(e),s)}catch{}}}}function ct(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(r=(i<3?a(r):i>3?a(n,t,r):a(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function pr(s){let n=new ArrayBuffer(s.length),t=new Uint8Array(n);for(let e=0,i=s.length;e<i;e+=1)t[e]=csString.prototype.charCodeAt.call(s,e);return n}function ho(s){let n=new Uint8Array(s),t="";for(let e=0;e<n.byteLength;e+=1)t+=csString.fromCodePoint(n[e]);return t}function Ta(s){let n=self.atob(s);return pr(n)}function $n(s){let n=csArray.from(new Uint8Array(s));return csArray.prototype.join.call(csArray.prototype.map.call(n,t=>csString.prototype.padStart.call(t.toString(16),2,"0")),"")}function uo(s){let n=csString.prototype.indexOf.call(s,";base64,")!==-1,t=csString.prototype.indexOf.call(s,","),e=n?[csString.prototype.substring.call(s,0,t-7),csString.prototype.substring.call(s,t+1)]:[csString.prototype.substring.call(s,0,t),csString.prototype.substring.call(s,t+1)];if(!n&&/^%3Csvg/i.test(e[1]))try{e[1]=decodeURIComponent(e[1])}catch(a){rt.warn(`${a}, calling decodeURIComponent on: ${e[1]}`)}let r=n?Ta(e[1]):pr(e[1]);return new Blob([r],{type:csString.prototype.replace.call(e[0],"data:","")})}var ba=typeof performance!="undefined"&&!!performance.now,po=ba?()=>performance.now():()=>csDate.now(),Sh=(()=>{var s,n;return ba?(n=(s=performance.timing)===null||s===void 0?void 0:s.navigationStart)!==null&&n!==void 0?n:Math.floor(performance.timeOrigin):0})(),fr=34164e6,P={now(){return Math.round(po()+Sh)},elapsed(){return po()}};function fo(){return Math.floor(P.now()/1e3)}function Aa(){return typeof window.Promise=="function"}function vh(){var s;return typeof crypto!="undefined"&&Ge((s=crypto.subtle)===null||s===void 0?void 0:s.digest)}function go(){var s,n;return typeof((s=window.navigation)===null||s===void 0?void 0:s.addEventListener)=="function"&&typeof((n=window.navigation)===null||n===void 0?void 0:n.removeEventListener)=="function"}function xt(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function li(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var _h=Number.MAX_SAFE_INTEGER||9007199254740991,as={percentage(){return Math.floor(Math.random()*1e4)/100},boolean(s){return this.percentage()<s},integer(s=_h){return Math.floor(Math.random()*s)}};function Zs(s,n){let t,e,i,r,a,c=null,l=m=>{let d=P.elapsed();if(!m&&c!==null){let y=n-(d-c);if(y>=1){i=tt.csSetTimeout(l,y);return}}let E=d-r;i=null,c=null,r=null,a=s.apply(t,[E,...e])},u=function(){if(t=this,e=arguments,r){c=P.elapsed();return}return r=P.elapsed(),i=tt.csSetTimeout(l,n),a};return u.flushPending=()=>{i&&(tt.csClearTimeout(i),l(!0))},u.cancel=()=>{c=null,r=null,i&&(tt.csClearTimeout(i),i=null)},u}function wh(s=0){return(n,t,e)=>{e.value=Zs(e.value,s)}}var ti=(()=>{class s{static setGlobalService(t){s.globalService=t}constructor(t){this.name=t,this.values={}}reset(){this.values={}}flush(){if(!s.globalService)return!1;let t=this.values,e=Object.keys(t);if(!e.length)return!1;let i=csArray.prototype.map.call(e,r=>({name:this.name,parameter:r,value:Math.round(t[r])}));return s.globalService.push(i),this.reset(),i.length>0}}return s.globalService=null,ct([U()],s.prototype,"flush",null),s})(),yt=(()=>{class s extends ti{constructor(t,e=100){super(t),this.ry=e,this.values={},e&&(this.debouncedFlush=Zs(()=>this.flush(),this.ry))}count(t,e=1){ti.globalService&&(this.values[t]=(this.values[t]||0)+e,this.debouncedFlush())}}return s})(),mo=(()=>{class s extends ti{constructor(){super(...arguments),this.values={average:0,count:0,max:0,total:0}}get average(){return this.values.average}get count(){return this.values.count}get max(){return this.values.max}get total(){return this.values.total}push(t){this.values.count++,this.values.total+=t,this.values.max=Math.max(this.values.max,t),this.values.average=this.values.total/this.values.count}reset(){this.values={count:0,total:0,max:0,average:0}}}return s})(),Th=(()=>{class s extends ti{add(t,e){var i,r,a,c,l,u,m;let d=E=>this.values[`${t}.${E}`];(i=(c=this.values)[l=`${t}.count`])!==null&&i!==void 0||(c[l]=0),(r=(u=this.values)[m=`${t}.total`])!==null&&r!==void 0||(u[m]=0),this.values[`${t}.count`]++,this.values[`${t}.total`]+=e,this.values[`${t}.max`]=Math.max((a=d("max"))!==null&&a!==void 0?a:0,e),this.values[`${t}.average`]=d("total")/d("count")}}return s})(),G={counters:{commandsFromIntegrations:new yt("commands-from-integrations"),commandsFromCSTC:new yt("commands-from-cstc"),commandsFromIframe:new yt("commands-from-iframe"),commandApplied:new yt("command-applied"),commandError:new yt("command-error"),commandMisuse:new yt("command-misuse"),CSTCSnippetUsed:new yt("cstc-snippet-used"),redactedPII:new yt("redacted-pii"),pageAnonymisation:new yt("page-anonymisation"),patchedNativeFunctions:new yt("patched-native-functions"),pureWindowState:new yt("pure-window-state"),sensitiveElements:new yt("sensitive-elements"),cspErrors:new yt("csp-errors"),networkRequests:new yt("network-requests"),webVitalsErrors:new yt("web-vitals-errors"),trackedFeatures:new yt("tracked-features"),longTasks:new mo("longTasks"),tasks:new mo("tasks"),errors:new yt("errors"),methodPerformance:new Th("perf")},setService(s){ti.setGlobalService(s)}},hi=(()=>{class s{constructor(){this.go=0}get length(){return this.go}get isEmpty(){return!this.Ds}pushAll(t){for(let e=0;e<t.length;e++)this.push(t[e])}push(t){this.go++,this.Fn?this.Fn=this.Fn[1]=[t,void 0]:this.Fn=this.Ds=[t,void 0]}pop(){if(!this.Ds)return null;this.go--;let t=this.Ds[0];return this.Ds=this.Ds[1],this.Ds||(this.Fn=void 0),t}forEach(t){let e=this.Ds;for(;e!=null&&e.length;)t(e[0]),e=e[1]}clear(){this.go=0,this.Ds=this.Fn=void 0}}return s})(),zn=0,gr=s=>{zn++,csQueueMicrotask(()=>hs(()=>{try{s()}finally{zn--}},ne.MicroTask))},Fi=new hi,$i=new hi;function Ht(s,n="high"){Fi.isEmpty&&$i.isEmpty&&Ra(bh),n==="high"?$i.push(yo(s)):Fi.push(yo(s))}function Ra(s,n=10){n===0?gr(s):csQueueMicrotask(()=>Ra(s,n-1))}function bh(){for(;!$i.isEmpty;)$i.pop()();for(;!Fi.isEmpty;)Fi.pop()()}async function Ca(s=1){for(let n=0;n<s;n++)await new Promise(t=>Ht(t))}function yo(s){return function(){try{s.apply(window,arguments)}catch(n){rt.critical(n)}}}var Vi="null",Ue=null,Ia=[],Ah=()=>{var s;return ci||!!(!((s=document.body)===null||s===void 0)&&s.getAttribute("data-cs-tag-extension"))};!ci&&Ah()&&(window._uxa?_uxa.push(["debugEvents",!0]):window._uxa=[["debugEvents",!0]],Ue=new BroadcastChannel("cs-tag"),document.addEventListener("cs.tracking.recordingEvent",s=>{Gn({type:"UXA_EVENT",event:s.detail})}),Ue.addEventListener("message",s=>{if(s.data.type==="CONNECT"){if(s.data.sessionId===Vi)return;Vi=s.data.sessionId,csArray.prototype.forEach.call(Ia,n=>n()),Ue==null||Ue.postMessage({type:"CONNECTED",sessionId:Vi})}}));function Rh(s){ci||(Vi!==null&&csSetTimeout(s),csSetTimeout(()=>csArray.prototype.push.call(Ia,s)))}function Gn(s){Ue==null||Ue.postMessage(s)}function ei(s){var n;let t=(n=s.length)!==null&&n!==void 0?n:0,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=s[i];return e}function Fe(s,n){let t=s.length,e=new csArray(t);for(let i=0;i<t;i+=1)e[i]=n(s[i]);return e}function Ch(s,n,t){let e=[],i=0;for(let r=0;r<s.length;r+=1){let a=n(s[r]);for(let c=0;c<a.length;c++)t(a[c],i++)}return e}function Pa(s,n){let t=[];return Ch(s,n,e=>csArray.prototype.push.call(t,e)),t}function K(s,n){if(Ih(s)){let t=s.length;for(let e=0;e<t;e++)n(s[e],e)}else{let t=0,e=s.next();for(;!e.done;)n(e.value,t++),e=s.next()}}function Ih(s){return s.length>=0}function He(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return s[e]}function Ph(s,n){let t=s.length;for(let e=0;e<t;e++)if(n(s[e],e))return!0;return!1}function Oa(s,n){let t=s.length,e=[];for(let i=0;i<t;i+=1){let r=s[i];n(r)&&csArray.prototype.push.call(e,r)}return e}function Oh(s,n,t){let e=s.length+n.length+((t==null?void 0:t.length)||0),i=new csArray(e),r=0;for(let a=0;a<s.length;a++)i[r++]=s[a];for(let a=0;a<n.length;a++)i[r++]=n[a];if(!t)return i;for(let a=0;a<t.length;a++)i[r++]=t[a];return i}function Eo(s,n){for(let t=0;t<s.length;t++)csArray.prototype.push.call(n,s[t])}function Ns(s){let n=s instanceof Map,t=[];return s.forEach((e,i)=>csArray.prototype.push.call(t,n?[i,e]:e)),t}var ui=(()=>{class s{constructor(t,e=""){this.name=t,this.format=e}}return s})(),he=(()=>{class s extends ui{constructor(t){super(t,"Value: {count}"),this.count=0}increase(t=1){this.count+=t}decrease(){this.count>0&&this.count--}clear(){this.count=0}getData(){return{count:this.count}}}return s})();var So=(()=>{class s extends ui{constructor(t){super(t,"Living intances: {instances}<br/>Added: {added}<br/>Removed: {removed}"),this.added=0,this.removed=0}get value(){return this.added-this.removed}increase(){this.added++}decrease(){this.removed++}getData(){return{added:this.added,removed:this.removed,instances:this.added-this.removed}}}return s})(),ue=(()=>{class s extends ui{constructor(t){super(t,"Count: {count}<br/>Average: {average}ms<br/>Max: {max}ms<br/>Total: {total}ms"),this.total=0,this.count=0,this.max=0}get average(){return this.count?this.total/this.count:0}elapsed(t){return this.count++,this.max=Math.max(this.max,t),this.total+=t,t}measure(t){let e=P.elapsed();t(),this.count++;let i=P.elapsed()-e;return this.max=Math.max(this.max,i),this.total+=i,i}asyncMeasure(){let t=P.elapsed();return()=>{this.count++;let e=P.elapsed()-t;return this.max=Math.max(this.max,e),this.total+=e,e}}getData(){return{total:this.total,count:this.count,average:this.average,max:this.max}}}return s})(),Nh=(()=>{class s extends ui{constructor(){super("INP","Value: {value}")}getData(){return{value:Dt.tasks.eventListener.max}}}return s})(),Dt={general:{category:"General",nbEvents:new he("Nb of Events"),pendingTasks:new he("Pending Tasks"),pendingEvents:new he("Pending Tasks"),nbOfMutationObservers:new So("Nb of Mutation Observers"),inp:new Nh},mutations:{category:"Mutations",initialDOM:new ue("Initial DOM"),pendingMutations:new he("Nb of Mutations scheduled"),serializedMutations:new ue("Serialized Mutations"),count:new he("Mutation Count"),elementMutationObserved:new So("Nb of Elements Observed by MutationObserver"),unobserveGarbageCollection:new ue("Unobserve GC")},visibilityObserver:{category:"Visibility Observer",hiddenElements:new he("Nb of Hidden Elements "),nbElements:new he("Nb of  Elements")},tasks:{category:"Tasks",tasks:new he("Tasks"),errors:new he("Errors"),timer:new ue("Timers"),microtask:new ue("Microtasks"),mutationObserver:new ue("MutationObserver"),monkeyPatch:new ue("MonkeyPatch"),eventListener:new ue("EventListener"),intersectionObserver:new ue("Intersection")}};function Mh(){let s=null;Rh(()=>{let n=r=>Object.keys(r),t=csArray.prototype.map.call(n(Dt),r=>Dt[r]),e=csArray.prototype.map.call(t,r=>csArray.prototype.filter.call(csArray.prototype.map.call(n(r),a=>r[a]),a=>a instanceof ui));Gn({type:"UXA_PERFORMANCE_COUNTER_SCHEMA",event:csArray.prototype.map.call(t,(r,a)=>({category:r.category,performanceCounters:csArray.prototype.map.call(e[a],c=>({name:c.name,format:c.format}))}))}),!s&&(s=csSetInterval(()=>{hs(()=>{let r=Pa(Fe(e,a=>Fe(a,c=>c.getData())),a=>a);Gn({type:"UXA_PERFORMANCE_COUNTER",event:r})},ne.Timer)},1e3))})}var ne=(()=>{let s;return function(n){n.Timer="timer",n.MonkeyPatch="monkeyPatch",n.MutationObserver="mutationObserver",n.EventListener="eventListener",n.IntersectionObserver="intersectionObserver",n.MicroTask="microtask"}(s||(s={})),s})(),zt=null;async function hs(s,n,t=null){if(zt&&n!==ne.MicroTask)return s();t&&(zt=t),zt||(zt={type:n,elapsed:0},Dt.tasks.tasks.increase());try{zt.elapsed+=kh(s)}catch(e){Dt.tasks.errors.increase(),rt.critical(new Error(`Task error:  ${n}/${s.name}.
${e.message}
${e.stack}`,e),"TASK_ERROR")}finally{zn<=0&&(Dt.tasks[zt.type].elapsed(zt.elapsed),zt.elapsed>50?G.counters.longTasks.push(zt.elapsed):G.counters.tasks.push(zt.elapsed),zt=null)}}function kh(s){let n=P.elapsed();return s(),P.elapsed()-n}var gn,Dh="cs-native-frame";var Ie={navigatorProperties:[{propertyName:"sendBeacon",binding:navigator}],nodeProperties:["childNodes","parentNode","nextSibling","firstChild"],elementProperties:["shadowRoot"],elementPropertiesValues:["matches","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector"],eventProperties:["target"],imageProperties:["src"],constructors:{Date:"csDate",JSON:"csJSON",Array:"csArray",String:"csString",URL:"csURL",MutationObserver:"csMutationObserver",screen:"csScreen",RegExp:"csRegExp"}};function Na(s,n){let t=ls(window,s);return function(e,i){return t(()=>hs(e,n),i)}}window.csSetTimeout=Na("setTimeout",ne.Timer);window.csSetInterval=Na("setInterval",ne.Timer);window.csQueueMicrotask=(gn=ls(window,"queueMicrotask"))!==null&&gn!==void 0?gn:setTimeout;window.csClearTimeout=ls(window,"clearTimeout");window.csClearInterval=ls(window,"clearInterval");window.csFileReader=ls(window,"FileReader");(()=>{var s;let n=0;function t(i){return"cs$Symbol_"+i}function e(i){return t(i)+ ++n}e.for=t,window.csSymbol=(s=window.Symbol)!==null&&s!==void 0?s:e})();function xh(){let s=document.createElement("iframe");s.id=Dh,s.setAttribute("hidden",""),s.setAttribute("title","Intentionally blank"),s.setAttribute("sandbox","allow-same-origin");let n=document.createElement("cs-native-frame-holder");if(n.setAttribute("hidden",""),document.body.appendChild(n),!!Element.prototype.attachShadow){let e=n.attachShadow({mode:"closed"});return e.innerHTML=s.outerHTML,e.firstElementChild.contentWindow}return n.innerHTML=s.outerHTML,n.firstElementChild.contentWindow}function Lh(s,n){let t,e=s;for(;e&&!(t=Object.getOwnPropertyDescriptor(e,n));)e=Object.getPrototypeOf(e);return t}function Vh(s,n,t){let e=Lh(s,n);if(!e)return function(){return this[n]};switch(t){case"get":return e.get;case"set":return e.set;case"value":return e.value}}function Ma(s){var n,t;Object.keys(Ie.constructors).forEach(i=>{window[Ie.constructors[i]]=s[i]instanceof Function&&s[i].prototype==null?s[i].bind(window):s[i]}),Hh(s);let e=s.MutationObserver;("Prototype"in window||jh())&&(e=(t=(n=ls(window,"MutationObserver"))!==null&&n!==void 0?n:window.WebKitMutationObserver)!==null&&t!==void 0?t:window.MutationObserver),window.csIntersectionObserver=vo(window.IntersectionObserver,ne.IntersectionObserver),window.csMutationObserver=vo(e,ne.MutationObserver),ys("csNode",Ie.nodeProperties,s.Node.prototype,"get"),ys("csElement",Ie.elementProperties,s.Element.prototype,"get"),ys("csElement",Ie.elementPropertiesValues,s.Element.prototype,"value",!1),ys("csHTMLImageElement",Ie.imageProperties,s.HTMLImageElement.prototype,"set"),ys("csEvent",Ie.eventProperties,s.Event.prototype,"get"),ys("csNavigator",Ie.navigatorProperties,s.navigator,"value")}function ys(s,n,t,e,i=!0){n.forEach(r=>{let a=typeof r!="string"&&"binding"in r,c=a?r.propertyName:r;(i||c in t)&&(window[`${s+c}`]=Vh(t,c,e),a&&(window[`${s+c}`]=window[`${s+c}`].bind(r.binding)))})}function mr(s,n){window.CSProtectnativeFunctionsLogs=window.CSProtectnativeFunctionsLogs||{},window.CSProtectnativeFunctionsLogs[s]=n}function Uh(){try{let s=xh();return s?(window.CSPureWindow=s,Ma(window.CSPureWindow),!0):!1}catch(s){return mr("Warning",`failed to copy references from pure iframe: ${s.message}`),!1}}if(!Uh())try{Ma(tt)}catch(s){mr("Critical",`failed to copy references from window: ${s.message}`)}function jh(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Hh(s){window.csquerySelector={1:s.Element.prototype.querySelector,9:s.Document.prototype.querySelector,11:s.DocumentFragment.prototype.querySelector},window.csquerySelectorAll={1:s.Element.prototype.querySelectorAll,9:s.Document.prototype.querySelectorAll,11:s.DocumentFragment.prototype.querySelectorAll}}function vo(s,n){try{let t=function(e,i){return new s((a,c)=>{hs(()=>e(a,c),n)},i)};return t.base=s,t}catch{return mr("Warning",`failed to extends ${s.name}`),s}}var lt=(()=>{let s;return function(n){n.ELLIPSIS="\u2026";function t(a){return csString.prototype.replace.call(a,/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(a){return csString.prototype.replace.call(a,/([#;&,.+*~':"!^$[\]()<=>|/%?@`{}\\ ])/g,"\\$1")}n.escapeInvalidCharacters=e;function i(a,c,l){if("replaceAll"in csString.prototype)return csString.prototype.replaceAll.call(a,c,l);let u=new csRegExp(t(c),"g");return csString.prototype.replace.call(a,u,l)}n.stringReplaceAll=i;function r(a,c,l=""){return a.length<=c?a:csString.prototype.slice.call(a,0,c-l.length)+l}n.truncate=r}(s||(s={})),s})();function qn(s){return lt.escapeInvalidCharacters(csString.prototype.toLowerCase.call(s.localName))}function Bh(s){let n=s.getAttribute("id");return n&&lt.escapeInvalidCharacters(n)}function ot(s){return s.nodeType===1}function zi(s){return s.nodeType===3}function Fh(s){return s.nodeType===8}function ka(s){return ot(s)&&s.localName==="link"}function $h(s){return ot(s)&&s.localName==="source"}function Da(s){return ot(s)&&s.localName==="a"}function yr(s){return ka(s)&&csString.prototype.indexOf.call(s.rel,"stylesheet")!==-1}function zh(s){return ot(s)&&s.localName==="img"}function Ji(s){return ot(s)&&s.localName==="style"}function Qi(s){return ot(s)&&s.localName==="input"}function Er(s){return ot(s)&&s.localName==="textarea"}function Zi(s){return ot(s)&&s.localName==="script"}function Gh(s){return ot(s)&&s.localName==="button"}function Ms(s){return ot(s)&&"ownerSVGElement"in s}function Sr(s){return ot(s)&&s.localName==="select"}function qh(s){return ot(s)&&s.localName==="details"}function Wh(s){return ot(s)&&s.localName==="summary"}function Yh(s){return Ms(s)&&s.localName==="image"}function Xh(s){return Ms(s)&&s.localName==="use"}function Kh(s){return Ms(s)&&s.localName==="feImage"}function Jh(s){switch(s.nodeType){case 9:case 11:return!0;default:return!1}}function Qh(s){switch(s.nodeType){case 9:case 11:case 1:return!0;default:return!1}}function Gi(s){return s.nodeType===9}function si(s){return Jh(s)&&"host"in s&&"mode"in s}function xa(s){return ot(s)&&!!csElementshadowRoot.apply(s)&&si(csElementshadowRoot.apply(s))}var Zh=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];function tu(s){return ot(s)&&Tt(s.tagName)&&csString.prototype.indexOf.call(s.tagName,"-")>0&&csString.prototype.indexOf.call(s.tagName,":")===-1&&csString.prototype.indexOf.call(s.tagName,'"')===-1&&csString.prototype.indexOf.call(s.tagName,",")===-1&&csArray.prototype.indexOf.call(Zh,csString.prototype.toLocaleLowerCase.call(s.tagName))<0}var di="detached";function La(s){let n=s,t=[n];for(;csNodeparentNode.apply(n)!==null;)n=csNodeparentNode.apply(n),csArray.prototype.push.call(t,n);return qi(n)&&csArray.prototype.push.call(t,di),{ancestors:t,selectionRoot:n}}function eu(s){let n=s,t=[n],e=null;for(;csNodeparentNode.apply(n)!==null;)e===null&&Da(n)&&(e=n),csArray.prototype.push.call(t,csNodeparentNode.apply(n)),n=csNodeparentNode.apply(n);return qi(n)&&csArray.prototype.push.call(t,di),{firstAnchorParent:e,ancestors:t,selectionRoot:n}}function qi(s){return me.isValidElement(s)}var ss=(()=>{var s,n;return(n=(s=tt.Element)===null||s===void 0?void 0:s.prototype)!==null&&n!==void 0?n:{}})(),Qt=ss.matches||ss.matchesSelector||ss.mozMatchesSelector||ss.msMatchesSelector||ss.oMatchesSelector||ss.webkitMatchesSelector,_o=ss.closest,Va=9;function su(s,n){return n?csArray.prototype.some.call(n,t=>Qt.call(s,t)):!1}function iu(s,n,t){if(s===di||s.nodeType===Va)return 0;let e=t.dynamicElementNameRegex,i=!!(e!=null&&e.test(n.localName)),r=qn(n),a=0,c=n.previousElementSibling;for(;c;)(qn(c)===r||i&&(e!=null&&e.test(c.localName)))&&!su(c,t.reliableSelectors)&&(a+=1),c=c.previousElementSibling;return a}function nu(s,n,t){if(s===di||s.nodeType===Va)return 0;let e=0,i=n.previousElementSibling;for(;i;)Qt.call(i,t)&&(e+=1),i=i.previousElementSibling;return e}var ru=[/\d{4}/,/^ember\d+$/],ou="@",vr="data-cs-override-id",au="data-cs-dynamic-id";function Ua(s,n,t,e){let i=e.dynamicIdRegex||null,r=e.dynamicElementNameRegex,a=qn(s);if(r&&r.test(s.localName)&&(a=csString.prototype.replace.call(a,r,`$1${ou}`)),hu(s,t)){let E=_r(s);return{hasUniqueIdentifier:!0,elementSelector:`${a}[${vr}="${E}"]`}}let c=yu(s,t,e);if(c.success)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UA[${c.attributeName}="${c.attributeValue}"]`};let l=cu(s,t,e);if(l)return{hasUniqueIdentifier:!0,elementSelector:`${a}#UCS[${l}]`};let u=Bh(s);if(du(s,u,t,i))return{hasUniqueIdentifier:!0,elementSelector:`${a}#${u}`};let m=lu(s,e);if(m){let E=nu(n,s,m);return{hasUniqueIdentifier:!1,elementSelector:`${a}[${m}](${E})`}}let d=iu(n,s,e);return{hasUniqueIdentifier:!1,elementSelector:`${a}:eq(${d})`}}function cu(s,n,t){if(t.uniqueCssSelectors){for(let e of t.uniqueCssSelectors)if(Qt.call(s,e)&&mu(e,n))return e}}function lu(s,n){if(n.reliableSelectors){for(let t of n.reliableSelectors)if(Qt.call(s,t))return t}}function hu(s,n){let t=_r(s);return t&&csString.prototype.match.call(t,/^[\w-]+$/)&&wr(vr,t,n)}function uu(s){return _r(s)!==null}function _r(s){return s.getAttribute(vr)}function du(s,n,t,e){return n&&!uu(s)&&!pu(s,n,e)&&gu(n,t)}function pu(s,n,t){return s.hasAttribute(au)||fu(n,t)}function fu(s,n){let t=!1;return s&&n&&(t=n.test(s)),s&&(csArray.prototype.some.call(ru,e=>e.test(s))||t)}function gu(s,n){return s&&wr("id",s,n)}function wr(s,n,t){try{return window.csquerySelectorAll[t.nodeType].call(t,`[${s}="${n}"]`).length===1}catch(e){if(e.name!=="SyntaxError")throw e}return!1}function mu(s,n){try{return window.csquerySelectorAll[n.nodeType].call(n,s).length===1}catch(t){if(t.name!=="SyntaxError")throw t}return!1}function yu(s,n,t){if(!t.uniqueAttributes)return{success:!1};for(let e of t.uniqueAttributes){let i=s.getAttribute(e);if(i!==null&&wr(e,i,n))return{attributeName:e,attributeValue:i,success:!0}}return{success:!1}}var Wn=11;function Wi(s,n,t){let e=csArray.prototype.shift.call(s);if(s.length===0)return wo(e,t);let i=e,r=s[0],{elementSelector:a,hasUniqueIdentifier:c}=Ua(i,r,n,t);if(!t.fullPath&&c){let u=s[s.length-1];return`${wo(u,t)}${a}`}let l=Wi(s,n,t);return`${l?`${l}>`:""}${a}`}function wo(s,n){if(s===di)return"|detached|";if(s.host){let{ancestors:t,selectionRoot:e}=La(s.host);return`${Wi(t,e,n)}|shadow-root|`}return s.nodeType===Wn?"|fragment|":""}var ja=(()=>{class s{constructor(t){this.options=t,this.done=!1,this.path=null}getPath(){if(this.path===null)throw new Error("getPath was called before serializeElement");return this.path}isDone(){return this.done}}return s})(),Eu=(()=>{class s extends ja{constructor(){super(...arguments),this.mo=!1,this.yo=!1,this.cc=!1}oy(t,e){return this.mo&&!(e===null&&qi(t))&&t.nodeType!==Wn&&!t.host}ay(t){return!t.localName}serializeElement(t,e,i){var r;if((r=this.path)!==null&&r!==void 0||(this.path=""),this.oy(t,e))return;let a=!1;e===null&&qi(t)&&(a=!0,this.done=!0);let c=this.yo&&!this.options.fullPath?"":">",l=!!t.host;if(l&&this.path&&(this.path="|shadow-root|"+c+this.path,this.cc=!0,this.mo=!1,this.yo=!1),!l&&e===null&&t.nodeType===Wn){this.path="|fragment|"+c+this.path,this.done=!0;return}if(this.ay(t))return;let u=e!=null?e:"detached",{elementSelector:m,hasUniqueIdentifier:d}=Ua(t,u,i,this.options);d&&(this.yo=!0,this.mo=!this.options.fullPath);let E=`${a?`|detached|${c}`:""}${this.mo&&!d?"":m}`,v=!d&&this.yo&&!this.options.fullPath?"":this.path&&!this.cc?">":"";this.cc=!1,this.path=`${E}${v}${this.path}`}}return s})();function Jt(s,n=Rt.SHOW_ALL){let t=n|Rt.SHOW_ELEMENT,e=[document.createTreeWalker(s,t,null,!1)],i=To(s);i&&csArray.prototype.push.call(e,document.createTreeWalker(i,t,null,!1));let r=null;return{root:s,nextNode(){if(i){let a=i;return i=null,a}for(;e.length>0;){if(r){let u=r;return r=null,u}let c=e[e.length-1].nextNode();if(!c){csArray.prototype.pop.call(e);continue}let l=To(c);if(n&Rt.SHOW_DOCUMENT_FRAGMENT&&l&&(r=l),l&&csArray.prototype.push.call(e,document.createTreeWalker(l,t,null,!1)),(yn[c.nodeType]&n)!==0)return c}return null},visitAll(a){yn[s.nodeType]&n&&a(s);let c=this.nextNode();for(;c;){if((yn[c.nodeType]&n)===0){c=this.nextNode();continue}a(c),c=this.nextNode()}},collectAll(a){let c=[];return this.visitAll(l=>csArray.prototype.push.call(c,a?a(l):l)),c}}}function To(s){return s&&xa(s)?s.shadowRoot:null}var mn=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:{}})(),Rt=(()=>{var s;return(s=tt.NodeFilter)!==null&&s!==void 0?s:{}})(),yn={2:Rt.SHOW_ATTRIBUTE,4:Rt.SHOW_CDATA_SECTION,8:Rt.SHOW_COMMENT,11:Rt.SHOW_DOCUMENT_FRAGMENT,9:Rt.SHOW_DOCUMENT,10:Rt.SHOW_DOCUMENT_TYPE,1:Rt.SHOW_ELEMENT,[mn.ENTITY_NODE]:Rt.SHOW_ENTITY,[mn.ENTITY_REFERENCE_NODE]:Rt.SHOW_ENTITY_REFERENCE,[mn.NOTATION_NODE]:Rt.SHOW_NOTATION,7:Rt.SHOW_PROCESSING_INSTRUCTION,3:Rt.SHOW_TEXT},Ha=!1,Yn=5;function Su(s=5){Ha=rt.isPerfLoggingActive(),Yn=s}function us(s,n){return function(){if(!Ha)return s.apply(this,arguments);let t=P.elapsed(),e=s.apply(this,arguments);if(e!=null&&e.then)e.then(()=>{let i=P.elapsed()-t;i>=Yn&&G.counters.methodPerformance.add(n,i)});else{let i=P.elapsed()-t;i>=Yn&&G.counters.methodPerformance.add(n,i)}return e}}var Pt=function(s){return function(n,t,e){let i=e.value;e.value=us(i,s)}},rs=(()=>{let s;return function(n){function t(){return!!Element.prototype.attachShadow}n.isSupported=t;function e(r){return r&&xa(r)?r.shadowRoot:null}n.getShadowRoot=e;function i(r){return Jt(r,NodeFilter.SHOW_DOCUMENT_FRAGMENT).collectAll(a=>a.host)}n.getAllShadowHosts=us(i,"getAllShadowHosts")}(s||(s={})),s})(),dt=(()=>{let s;return function(n){function t(){let d=[i()];return document.documentElement&&csArray.prototype.push.call(d,document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight),document.body&&csArray.prototype.push.call(d,document.body.scrollHeight,document.body.offsetHeight),Math.max(...d)}n.documentHeight=t;function e(){return document.documentElement.scrollWidth}n.documentWidth=e;function i(){return window.innerHeight}n.windowHeight=i;function r(){return window.innerWidth}n.windowWidth=r;function a(){let d=window.csScreen.width;return Rs(d)&&d>0?d:window.screen.width}n.screenWidth=a;function c(){let d=window.csScreen.height;return Rs(d)&&d>0?d:window.screen.height}n.screenHeight=c;function l(){return window.pageXOffset}n.windowOffsetX=l;function u(){return window.pageYOffset}n.windowOffsetY=u;function m(){return{dw:`${e()}`,dh:`${t()}`,ww:`${r()}`,wh:`${i()}`,sw:`${a()}`,sh:`${c()}`}}n.getRequestParameters=m}(s||(s={})),s})(),En=(()=>{var s;return(s=tt.Node)!==null&&s!==void 0?s:Object})(),pt=(()=>{let s;return function(n){let t="isConnected"in En.prototype?T=>T.isConnected:T=>!T.ownerDocument||!(T.ownerDocument.compareDocumentPosition(T)&T.DOCUMENT_POSITION_DISCONNECTED);function e(T,M){for(let V=T;V;V=csNodenextSibling.apply(V))M(T)}n.forEachChild=e;function i(T){return t(T)}n.isConnected=i;function r(T,M){let V=[];for(let j of l(T,M))csArray.prototype.push.call(V,j);return V}n.getAncestors=r;let a=(T,M)=>{var V;return(V=csNodeparentNode.apply(T))!==null&&V!==void 0?V:M&&si(T)?T.host:null};function c(T,M,V=!1){let j=T;for(;j;){if(M(j))return j;let it=a(j,V);if(it&&it!==j)j=it;else break}return null}n.findAncestor=c;function*l(T,M=!1){let V=T;for(;V;){yield V;let j=a(V,M);if(j&&j!==V)V=j;else break}}n.walkUp=l;function u(T,M){if(T===M||M.contains(T))return!0;let V=n.getParentElement(T);return V&&V!==T?u(V,M):!1}n.isDescendantOf=u;function m(T){var M;return T.parentElement?T.parentElement:n.getRootNode(T)?(M=n.getRootNode(T))===null||M===void 0?void 0:M.host:null}n.getParentElement=m;function d(T,M=document){let V=ei(window.csquerySelectorAll[M.nodeType].call(M,T)),j=rs.getAllShadowHosts(M);for(let it of j){let At=rs.getShadowRoot(it);if(!At)continue;let Lt=ei(window.csquerySelectorAll[At.nodeType].call(At,T));csArray.prototype.push.call(V,...Lt)}return V}n.findAllElements=d,n.getRootNode=(()=>{if("getRootNode"in En.prototype)return(V,j)=>V.getRootNode(j);function T(V){let j=M(V);return si(j)?T(j.host):j}function M(V){return csNodeparentNode.apply(V)!=null?M(csNodeparentNode.apply(V)):V}return(V,j)=>typeof j=="object"&&!!j.composed?T(V):M(V)})();function E(T){return T==="transparent"||/^(rgba|hsla)\(\d+, \d+%?, \d+%?, 0\)$/.test(T)}function y(T){let M=T.getBoundingClientRect();return M.right+dt.windowOffsetX()<0||M.bottom+dt.windowOffsetY()<0}function v(T){var M,V;if(((M=T.checkVisibility)===null||M===void 0?void 0:M.call(T,{checkOpacity:!0,checkVisibilityCSS:!0}))===!1)return!0;if(!T.offsetParent){if(!T.getBoundingClientRect)return rt.warn(`SUP-11432: Element doesn't have getBoundingClientRect. Node: ${T instanceof En} Ctor: ${(V=T==null?void 0:T.constructor)===null||V===void 0?void 0:V.name}`),!1;let At=T.getBoundingClientRect();if(At.width==0&&At.height==0)return!0}let j=window.getComputedStyle(T);return j?j.display==="none"||j.visibility==="hidden"||j.visibility==="collapse"||j.opacity==="0"||j.filter==="opacity(0)"||j.width==="0px"&&j.height==="0px"||E(j.color):!0}n.isHiddenByCSS=v;function C(T){if(v(T))return!0;let V=m(T);return V!=null&&C(V)}n.areAncestorsHiddenByCSS=C;function I(T){let M=null,V=T;do if(v(V))M=V;else break;while(V=m(V));return M}n.getTopAncestorHiddenByCSS=I;function S(T){let M=_(T);return M!==null&&!T.contains(M)&&!M.contains(T)}function _(T){let M=T.getBoundingClientRect(),V=M.left+.5*M.width,j=M.top+.5*M.height;return O(document,V,j)}n.getTopElement=_;function D(T){if(!T.getBoundingClientRect)return null;let M=T.getBoundingClientRect(),V=M.x+M.width/2,j=M.y+M.height/2;return n.getTopElementFromPoint(document,V,j)}n.getElementOnTop=D;function O(T,M,V){let j=T.elementFromPoint(M,V);if(!j)return null;let it=rs.getShadowRoot(j);return it&&it!=n.getRootNode(document.body)&&it!==T?O(it,M,V):j}n.getTopElementFromPoint=O;function b(T){return!y(T)&&!v(T)&&!S(T)}n.isVisibleInDocument=b;function x(T){return v(T)?!1:J(T)}n.isVisibleInViewportInForeground=x;function J(T){let M=_(T);return M===null?!1:T===M?!0:bt(T)?T.textContent!==""&&M.contains(T):T.contains(M)}n.isInViewPort=J;function at(T,M,V){let j=T.getAttributeNS(M,V);return j===""?T.hasAttributeNS(M,V)?j:null:j}n.getAttributeNS=at;function Nt(T){return!!(T.hasAttribute("tabIndex")||T.getAttribute("contentEditable")==="true"||Da(T)&&T.hasAttribute("href")||(Sr(T)||Er(T)||Qi(T)||Gh(T))&&!T.hasAttribute("disabled")||qh(T)||Wh(T))}n.isElementFocusable=Nt;function bt(T){return T.localName==="span"||T.localName==="a"||T.localName==="b"||T.localName==="i"||T.localName==="button"||T.localName==="input"||T.localName==="label"||T.localName==="cite"||T.localName==="small"||T.localName==="strong"||T.localName==="code"||T.localName==="abbr"||T.localName==="em"||T.localName==="dfn"||T.localName==="time"||T.localName==="output"||T.localName==="object"||T.localName==="sub"}n.isInlineElement=bt}(s||(s={})),s})(),vu=(()=>{class s{constructor(t){this.cy=t}run(t){let e=[...this.cy],i=pt.getAncestors(t,!1),r=i[i.length-1];for(;e.length>0&&i.length>0;){let a=csArray.prototype.shift.call(i),c=i[0]||null;if(this.ly(e,a,c,r),this.hy(e),e.length===0)break;i.length===0&&a.host&&(i=pt.getAncestors(a.host,!1),r=i[i.length-1])}}ly(t,e,i,r){for(let a of t)a.serializeElement(e,i,r)}hy(t){for(let e=0;e<t.length;e++)t[e].isDone()&&(csArray.prototype.splice.call(t,e,1),e--)}}return s})(),_u=(()=>{class s extends ja{serializeElement(t){var e;if((e=this.path)!==null&&e!==void 0||(this.path=""),(t==="detached"||t.localName==="body")&&(this.done=!0,this.path.length>0))return;let i=this.uy(t);if(i+=i.length>0?"|":"",this.path.length+i.length>this.options.hierarchyMaxLength){this.done=!0;return}this.path=i+this.path}uy(t){if(!t.localName)return"";let e=`@${t.localName};`;return e+=this.dy(t.id),t.classList&&(e+=this.py(csArray.from(t.classList))),t.attributes&&(e+=this.fy(t)),e}dy(t){return t?`#${t};`:""}py(t){return t.length>0?`.${csArray.prototype.join.call(csArray.prototype.sort.call(t),";.")};`:""}gy(t,e){var i,r;return((r=(i=this.options).isAttributeSensitive)===null||r===void 0?void 0:r.call(i,t,e))||csArray.prototype.indexOf.call(this.options.attributeIgnoreTokens,e)!==-1||Ms(t)&&csString.prototype.indexOf.call(e,"data-")===-1&&e!=="aria-label"||Qi(t)&&e==="value"}my(t,e){return this.options.useAnonymization&&!this.options.allWhitelistedAttributes.has(t)||e.length>this.options.attrMaxLength}yy(t){let e={};for(let i of csArray.from(t.attributes))this.gy(t,i.name)||(e[i.name]=i.value);return e}fy(t){var e,i;if(!((i=(e=this.options).isNodeSensitive)===null||i===void 0)&&i.call(e,t))return"";let r=Object.entries(this.yy(t));return csArray.prototype.join.call(csArray.prototype.sort.call(csArray.prototype.map.call(csArray.prototype.filter.call(r,([a])=>a.length<this.options.attrMaxLength),([a,c])=>this.my(a,c)?`[${a}]`:`[${a}=${c}]`)),";")+(r.length>0?";":"")}}return s})(),me=(()=>{let s;return function(n){n.INVALID_ELEMENT="INVALID_ELEMENT";function t(c){return!!c&&"localName"in c&&"getAttribute"in c&&"hasAttribute"in c&&"parentNode"in c}n.isValidElement=t;function e(c,l,u={fullPath:!1,dynamicIdRegex:null}){let m=a(c);if(m===document)return{path:"",hierarchy:""};if(!t(m))return{path:n.INVALID_ELEMENT,hierarchy:n.INVALID_ELEMENT};let d=new Eu(u),E=new _u(l);return new vu([d,E]).run(m),{path:d.getPath(),hierarchy:E.getPath()}}n.getElementPathAndHierarchy=e;function i(c,l={fullPath:!1,dynamicIdRegex:null}){let u=a(c);if(u===document)return"";if(!t(u))return n.INVALID_ELEMENT;let{ancestors:m,selectionRoot:d}=La(u);return Wi(m,d,l)}n.getElementPath=i;function r(c,l={fullPath:!1,dynamicIdRegex:null}){let u=a(c);if(u===document)return{path:"",firstAnchorParent:null};if(!t(u))return{path:n.INVALID_ELEMENT,firstAnchorParent:null};let{firstAnchorParent:m,ancestors:d,selectionRoot:E}=eu(u);return{path:Wi(d,E,l),firstAnchorParent:m}}n.getElementPathAndFirstAnchorParent=r;function a(c){return c&&"jquery"in c&&c.length===1?c[0]:c}}(s||(s={})),s})();window.CSPathComputation=window.CSPathComputation||me;var Ba=["t.contentsquare.net","clicktale"],wu=s=>{var n;if(typeof s.filename=="string"&&csArray.prototype.some.call(Ba,t=>csString.prototype.indexOf.call(s.filename,t)>-1)&&!(csString.prototype.indexOf.call(s.filename,"blob")>-1&&(s.message==null?void 0:csString.prototype.indexOf.call(s.message,"importScripts"))>-1)){let t=new Error(s.message);t.stack=(n=s.error)===null||n===void 0?void 0:n.stack,F.critical(t)}};window.addEventListener("error",wu);var F=(()=>{class s{constructor(){}static whiteListFilename(t){csArray.prototype.push.call(Ba,t)}static setStrategy(t){s.qi=t}static computeIsActive(t){s.Be=as.boolean(t),s.Be?s.lc=as.boolean(10):s.lc=!1}static isLoggingActive(){return s.Be}static getStrategy(){return s.qi}static debug(t,e=""){s.Be&&this.qi.send(t,e,nt.debug)}static warn(t,e=!0,i=""){var r;G.counters.errors.count("warning"),s.Be&&e&&this.qi.send(t,i,nt.warn),(r=window.UXAnalytics.Console)===null||r===void 0||r.warn(t)}static implementation(t,e=""){G.counters.errors.count("implementation"),s.Be&&this.qi.send(t,e,nt.implementation)}static error(t,e=""){var i;G.counters.errors.count("error"),s.Be&&this.qi.send(t,e,nt.error),(i=window.UXAnalytics.Console)===null||i===void 0||i.error(t)}static critical(t,e=""){G.counters.errors.count("critical"),this.qi.send(t,e,nt.critical)}static tryToExecute(t,e){return function(...i){try{let r=e.apply(this,i);return Z(tt.Promise)&&r instanceof tt.Promise?r.then(a=>a,a=>s.error(qe(a)?a:new Error(a),t)):r}catch(r){try{s.error(qe(r)?r:new Error(r),t)}catch{}}}}static isPerfLoggingActive(){return s.lc}}return s.Be=!1,s.lc=!1,s})();var Tu=/^\d+\.\d+(?:\.\d+)?$/,bu=s=>{if(!Tu.test(s))return;let[n,t,e]=csArray.prototype.map.call(csString.prototype.split.call(s,"."),Number);return{major:n,minor:t,patch:!e||Number.isNaN(e)?0:e}},Au=(s,n)=>s.major!==n.major?s.major-n.major:s.minor!==n.minor?s.minor-n.minor:s.patch-n.patch,Ru=(s,n)=>Au(s,n)>=0;function qt(s){return xt(s,"data:")}function Cu(s){return xt(s,"#")}function Iu(s){return!!s&&(li(s,".css")||xt(s,"https://fonts.googleapis.com/css"))}var bo=/\bhttps?:\/\/[^\s<>"')\]]*[^\s<>"'),.;:…\])]/gi;function Pu(s){bo.lastIndex=0;let n,t=0,e=[];for(;(n=bo.exec(s))!==null;){let i=n.index,r=n.index+n[0].length;if(i>t){let c=csString.prototype.slice.call(s,t,i);csArray.prototype.push.call(e,{content:c,isUrl:!1})}let a=csString.prototype.slice.call(s,i,r);csArray.prototype.push.call(e,{content:a,isUrl:!0}),t=r}if(t<s.length){let i=csString.prototype.slice.call(s,t);csArray.prototype.push.call(e,{content:i,isUrl:!1})}return e}var Ou=["id","class","style","srcset","sizes","rel","type","width","height","media","align","dir","bgcolor","color","border","colspan","rowspan","cols","rows","size","start","slot","data-cs-override-id"],Fa=s=>{let n=new Set(Ou);return csArray.prototype.forEach.call(s,t=>{n.add(t)}),n},Nu=["svg","slot"],Mu=(s,n,t)=>t==="radio"&&s==="input"&&n==="name"||csArray.prototype.indexOf.call(Nu,s)>-1,$a={href:new Set(["a"]),src:new Set(["iframe"])},ku=s=>$a.hasOwnProperty(s),Du=(s,n,t)=>{var e;return((e=$a[n])===null||e===void 0?void 0:e.has(s))&&!qt(t)},xu=(s,n,t)=>(t==="submit"||t==="button")&&s==="input"&&n==="value";function Sn(s){return s?Lu(s):null}function Lu(s){try{let n=/^\/(.*)\/([gim]*)$/.exec(s);if(n){let[,t,e]=n;return new csRegExp(`^${t}$`,e)}return new csRegExp(`^${s}$`)}catch{return null}}var Vu=1,Uu="f553e78fb58e051e51fe8074c4c6e73e",Xn=(()=>{let s;return function(n){n[n.Disabled=0]="Disabled",n[n.ButtonAndLinkOnly=1]="ButtonAndLinkOnly",n[n.Enabled=2]="Enabled"}(s||(s={})),s})(),ju=(()=>{class s{constructor(t){var e,i,r,a,c,l,u,m,d,E,y,v,C,I;this.isChild=!1,this.isSMB=(e=t.isSMB)!==null&&e!==void 0?e:!1,this.trackerDomain=t.trackerDomain,this.dynamicConfDomain=t.dynamicConfDomain,this.settingsFileUri=t.settingsFileUri,this.tagDomain=t.tagDomain,this.loggerDomain=t.ed,this.minLogLevel=t.logLevel,this.projectId=t.projectId,this.smbConfig=t.smbConfig,this.status=t.status,this.hostnames=t.hostnames,this.iframesTracking=!!t.iframesTracking,this.crossDomainTracking=!!t.crossDomainTracking,this.crossDomainSingleIframeTracking=!!t.crossDomainSingleIframeTracking,this.consentRequired=!!t.consentRequired,this.allowSubdomains=!!t.allowSubdomains,this.visitorCookieTimeout=t.visitorCookieTimeout||fr,this.sampleRate=t.sampleRate,this.replayRecordingRate=t.replayRecordingRate,this.validationRate=t.validationRate,this.lastTrackingDraw=t.lastTrackingDraw||1,this.useHttps=!0,this.eMerchandisingEnabled=t.eMerchandisingEnabled,this.mouseMoveHeatmapEnabled=t.mouseMoveHeatmapEnabled,this.jsErrorsEnabled=t.jsErrorsEnabled,this.collectionEnabled=!!(!((a=(i=t.collectionEnabled)!==null&&i!==void 0?i:(r=t.smbConfig)===null||r===void 0?void 0:r.record)!==null&&a!==void 0)||a),this.useSentry=!!((c=t.useSentry)!==null&&c!==void 0?c:!((l=t.smbConfig)===null||l===void 0)&&l.useSentry),this.apiErrors={enabled:(u=t.apiErrorsEnabled)!==null&&u!==void 0?u:0,...t.apiErrors},this.customErrors={enabled:(m=t.customErrorsEnabled)!==null&&m!==void 0?m:0,...t.customErrors},this.jsCustomErrorsEnabled=t.jsCustomErrorsEnabled,this.triggerSessionReplayEnabled=t.triggerSessionReplayEnabled,this.triggerSessionReplayRegex=Sn(t.triggerSessionReplayRegex),this.dynamicIdRegex=t.dynamicIdRegex?new csRegExp(t.dynamicIdRegex):null,this.whitelistedAttributes=t.whitelistedAttributes||[],this.replayRecordingUnmaskedUrlRegex=Sn(t.replayRecordingUnmaskedUrlRegex),this.replayRecordingMaskedUrlRegex=Sn(t.replayRecordingMaskedUrlRegex),this.replayRecordingMaskedUrlRegexRules=t.replayRecordingMaskedUrlRegexRules||null,this.replayRecordingUnmaskedUrlRegexRules=t.replayRecordingUnmaskedUrlRegexRules||null,this.anonymisationMethod=t.anonymisationMethod||null,this.tagDeploymentMode=t.tagDeploymentMode,this.dualCollectionTagDomain=t.dualCollectionTagDomain||null,this.ptcDomain=t.ptcDomain||null,this.ptcGuid=t.ptcGuid||null,this.secureCookiesEnabled=!!t.secureCookiesEnabled,this.ptcSha512=t.ptcSha512||null,this.ptcSnapshotPath=t.ptcSnapshotPath||null,this.emitDebugEvents=!1,this.staticResourceManagerDomain=t.staticResourceManagerDomain||null,this.malkaRecordingDomain=t.malkaRecordingDomain||null,this.textVisibilityEnabled=t.textVisibilityEnabled,this.experimental=t.experimental||{},this.malkaEtrEnabled=!!t.malkaEtrEnabled,this.malkaUrlEnabled=!!t.malkaUrlEnabled,this.recordingUrlRules=(d=t.recordingUrlRules)!==null&&d!==void 0?d:[],this.cookielessTrackingEnabled=t.cookielessTrackingEnabled,this.customHashIdEnabled=!!t.customHashIdEnabled,this.encryptionEnabled=!!t.recordingEncryptionEnabled,this.encryptionPublicKey=t.recordingEncryptionPublicKey||null,this.pathComputationRules=t.pathComputationRules||{},t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex===""&&(this.pathComputationRules.dynamicElementNameRegex=null),t.pathComputationRules&&t.pathComputationRules.dynamicElementNameRegex&&(this.pathComputationRules.dynamicElementNameRegex=new csRegExp(t.pathComputationRules.dynamicElementNameRegex)),this.asyncSerializerEnabled=!!t.asyncSerializerEnabled,this.encryptionPublicKeyId=t.recordingEncryptionPublicKeyId,this.pendingInactivityTimeout=t.pendingInactivityTimeout||5e3,this.accessibilityEnabled=!!t.accessibilityEnabled,this.useStaticResourceManager=!!t.useStaticResourceManager,t.taskSchedulerOptions&&(this.taskSchedulerOptions={...t.taskSchedulerOptions,enabled:!!t.taskSchedulerOptions.enabled}),this.uxaDomain=t.uxaDomain,this.environment=((E=t.uxaDomain)===null||E===void 0?void 0:E.indexOf("staging"))>-1?"staging":"production",this.performanceTimingOptions=t.performanceTimingOptions,this.replayConsentRequiredForSession=!!t.replayConsentRequiredForSession,this.isWebView=!1,t.displayAdOptions&&t.displayAdOptions.length&&(this.displayAdOptions=t.displayAdOptions),t.voc&&(this.voc={...t.voc,enabled:!!t.voc.enabled}),this.vocData=t.vocData,t.heapEnvironment&&(this.heapEnvironment=t.heapEnvironment),t.implementations&&t.implementations.length&&(this.implementations=t.implementations),this.eventsApiEnabled=!!t.eventsApiEnabled,this.anonymizeDigits=(y=t.anonymizeDigits)!==null&&y!==void 0?y:null,this.isHeapPresent=window.heap!==void 0,this.recordTargetingRules=(v=t.recordTargetingRules)!==null&&v!==void 0?v:[],this.paProxyDomainUri=t.paProxyDomainUri||null,this.emitRecordInfoEvents=t.emitRecordInfoEvents!=!1,this.collectHierarchy=!!t.collectHierarchy,this.collectSubmit=!!t.collectSubmit,this.collectTargetText=(C=t.collectTargetText)!==null&&C!==void 0?C:Xn.Disabled,this.identityEncryptionKey=t.identityEncryptionKey||null,this.tagVerificationDomain=t.tagVerificationDomain,this.tagVerificationEnabled=!!t.tagVerificationEnabled,this.trackingCodeVerified=!!t.trackingCodeVerified,this.quotas=(I=t.quotas)!==null&&I!==void 0?I:null}getTrackerUri(){return`${this.us()}://${this.trackerDomain}`}getSentryFileUri(){return`${this.us()}://${this.tagDomain}/uxa/smb/errors.js`}getSentryDSNUri(){return`https://${Uu}@${this.loggerDomain}/4508608369131520`}getRecordingUri(){return`${this.us()}://${this.malkaRecordingDomain}`}getLoggerUri(){return`${this.us()}://${this.loggerDomain}`}getMetricsUri(){return`${this.us()}://${this.loggerDomain}/metrics`}getStaticResourceManagerUri(){return`${this.us()}://${this.staticResourceManagerDomain}`}getVerificationEndpoint(){return`${this.us()}://${this.tagVerificationDomain}`}getSettingsFileUri(){return this.settingsFileUri?this.settingsFileUri:`${this.us()}://${this.dynamicConfDomain}/${this.projectId}.json`}isQuotaEnabled(){return this.isSMB||this.quotas!==null}getPaProxyDomainUri(){return`${this.us()}://${this.paProxyDomainUri}`}us(){return this.useHttps?"https":"http"}isProjectActive(){return this.status===Vu}processOptionOverrides(t){t&&t.forEach&&t.forEach(([e,...i])=>{if(e==="setOption"){let[r,a]=i;this.Ey(r,a)}})}Ey(t,e){t==="trackerDomain"&&(this.trackerDomain=e),t==="loggerDomain"&&(this.loggerDomain=e),t==="malkaRecordingDomain"&&(this.malkaRecordingDomain=e),t==="staticResourceManagerDomain"&&(this.staticResourceManagerDomain=e),t==="minLogLevel"&&(this.minLogLevel=e),t==="useHttps"&&(this.useHttps=!!e),t==="isWebView"&&(this.isWebView=e),t==="dynamicConfDomain"&&(this.dynamicConfDomain=e),t==="paProxyDomainUri"&&(this.paProxyDomainUri=e)}getRequestParameters(){return{pid:`${this.projectId}`}}updateDynamicFields(t,e){t==="emitDebugEvents"&&(this.emitDebugEvents=e),t==="minLogLevel"&&(this.minLogLevel=e)}isCsSideloadingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_sideloads_heap"&&!this.isHeapPresent}isHeapSideloadsCs(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"}isHeapSideloadsCsV5(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="heap_sideloads_cs"&&this.sd()}isHeapSideloadsStartDataCollection(){if(this.isHeapSideloadsCs()){if(this.sd())return!0;let t=bu(this.getHeapVersion()||"");if(t&&t.major===4&&Ru(t,{major:4,minor:23,patch:5}))return!0}return!1}sd(){var t;return typeof((t=window.heap)===null||t===void 0?void 0:t.getUserId)=="function"}getHeapVersion(){var t,e,i,r,a,c;return typeof((t=window.heap)===null||t===void 0?void 0:t.getConfig)=="function"&&((r=(i=(e=window.heap)===null||e===void 0?void 0:e.getConfig())===null||i===void 0?void 0:i.sdk)===null||r===void 0?void 0:r.version)||((c=(a=window.heap)===null||a===void 0?void 0:a.version)===null||c===void 0?void 0:c.heapJsVersion)||void 0}isCsCrosswritingHeap(){var t;return((t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_tag_status)==="cs_crosswrites_heap"}getHeapStorageLocation(){var t,e;return(e=(t=this.heapEnvironment)===null||t===void 0?void 0:t.heap_storage_location)!==null&&e!==void 0?e:null}getHeapWebAppUri(){return this.getHeapStorageLocation()==="eu-west-1"?"https://eu.heapanalytics.com":"https://heapanalytics.com"}isCollectTargetTextEnabled(){return this.isSMB||this.collectTargetText!==Xn.Disabled}isNetworkDetailsEnabled(){return this.performanceTimingOptions?this.performanceTimingOptions.withResource||this.performanceTimingOptions.withNavigation:!1}hasRecordingUrlRules(){var t;return!!(!((t=this.recordingUrlRules)===null||t===void 0)&&t.length)}hasTargetingRules(){var t;return!!(!((t=this.recordTargetingRules)===null||t===void 0)&&t.length)}getHeapEnvId(){return this.heapEnvironment?this.heapEnvironment.env_id:""}}return s})(),Hu=(()=>{class s{constructor(t,e){this.Eo=t,this.nd=e}init(){this.rd=this.Eo!==this.Eo.top,this.od=this.nd.isWebView&&this.Eo===this.Eo.top,this.nd.iframesTracking&&this.rd||this.od?this.ad=!1:this.ad=!0}isInIframeContext(){return this.rd}isTopWindowTracker(){return this.ad}isInWebViewContext(){return this.od}}return s})();function Ao(){}function Kn(s,n){return csString.prototype.lastIndexOf.call(s,n,0)===0}function Bu(s,n){return csString.prototype.indexOf.call(s,n,s.length-n.length)!==-1}var vn=csSymbol("cachedJson");function Fu(s){if(s[vn])return s[vn];if(csArray.isArray(s)){if(s.length===0)return"[]";let n="["+Is(s[0]);for(let t=1;t<s.length;t++)n+=","+Is(s[t]);return n+="]"}return s[vn]=csJSON.stringify(s)}var Is=typeof window.Symbol!="undefined"?Fu:csJSON.stringify;var ii=(()=>{let s;return function(n){function t(e){return csArray.prototype.join.call(csArray.prototype.map.call(Object.keys(e),i=>`${encodeURIComponent(i)}=${encodeURIComponent(e[i])}`),"&")}n.toQuery=t}(s||(s={})),s})(),za=(()=>{class s{constructor(t,e){this.domainUri=t,this.path=e,this.beforeRequestCallbacks=[],this.afterRequestCallbacks=[]}setRequestParametersProviders(...t){this.requestParametersProviders=t}before(t){csArray.prototype.push.call(this.beforeRequestCallbacks,t)}after(t){csArray.prototype.push.call(this.afterRequestCallbacks,t)}retrieveParameters(){return this.requestParametersProviders?csArray.prototype.reduce.call(csArray.prototype.map.call(this.requestParametersProviders,t=>t.getRequestParameters()),(t,e)=>({...t,...e})):{}}}return s})(),Ps=(()=>{class s extends za{constructor(t,e){super(t,e)}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,i=>i());let t=this.retrieveParameters();this.hc(t);let e=ii.toQuery(t);this.Sy(e),csArray.prototype.forEach.call(this.afterRequestCallbacks,i=>i())}Sy(t){let e=new window.Image(1,1);e.onload=Ao,e.onerror=Ao,csHTMLImageElementsrc.call(e,`${this.domainUri}${this.path?`/${this.path}`:""}?${t}`)}hc(t){t.r=csString.prototype.slice.call(`${Math.random()}`,2,8)}}return s})();var $u=(()=>{class s{constructor(t,e){this.ds=t,this.vy=e}init(){this.ps=new Ps(this.ds.getLoggerUri()),this.ps.setRequestParametersProviders(this,this.vy)}send(t){this.So=t,this.ps.send()}getRequestParameters(){return{a:this.So.app,l:this.So.level,m:this.So.message,s:this.So.stacktrace}}}return s})(),zu=/[a-zA-Z0-9._%+-]+(?:@|%40|%2540)[a-zA-Z0-9.%-_]+((?:\.|%2[eE])[a-zA-Z0-9-]+)+/g,Gu=/[a-zA-Z0-9+_-](?:@|%40|%2540)/,qu="CS_ANONYMIZED_EMAIL",_n="([-A-Za-z0-9+/=_]|=[^=]|={3,})+",Wu=new csRegExp(`(ey${_n}\\.ey${_n}\\.${_n})`,"g"),Yu="CS_ANONYMIZED_JWT",Xu=/[0-9]{4}/,Ku=/(^|[^a-zA-Z0-9*.,-])([45*][0-9*]{3}([ -]?)[0-9*]{4}\3[0-9*]{4}\3[0-9*]{4})($|[^a-zA-Z0-9*.,-])/g,Ju="CS_ANONYMIZED_PII",Qu="\u2022",Zu=/\d/g,td=/([+(]{0,2}\d[-_ ()/]{0,4}){9,}/,ed=/(?:\d{1,3}\.){3}\d{1,3}/,sd=/(?:[A-F0-9]{1,4}:){7}[A-F0-9]{1,4}/,Pe=(()=>{let s;return function(n){function t(m){return csString.prototype.replace.call(m,zu,qu)}n.replaceEmail=t;function e(m){return csString.prototype.replace.call(m,Wu,Yu)}n.replaceJWT=e;function i(m,d){return csString.prototype.replace.call(m,Ku,d)}n.replaceCreditCardNumber=i;function r(m){return csString.prototype.replace.call(m,Zu,Qu)}n.replaceDigits=r;function a(m){return ed.test(m)||sd.test(m)}n.mayHaveIPAddress=a;function c(m){return td.test(m)}n.mayHaveNumberSequence=c;function l(m){return Xu.test(m)}n.mayHaveCreditCardNumber=l;function u(m){return Gu.test(m)}n.mayHaveEmail=u}(s||(s={})),s})(),pi=(()=>{class s{hasPII(t,e){let i=this.checkAndAnonymizePII(t,e);return t!==i}checkAndAnonymizePII(t,e=null){let i=this._y(this.pc(t));return e===!0?i=this.wy(i):e===!1&&(i=this.Ty(i)),i}anonymizePII(t){return this.pc(t)}anonymizeJwt(t){return Pe.replaceJWT(t)}anonymizeFields(t,e){return csArray.prototype.forEach.call(e,i=>{t[i]=this.pc(t[i])}),t}pc(t){if(Pe.mayHaveEmail(t)){let e=Pe.replaceEmail(t);return e!==t&&G.counters.redactedPII.count("email"),e}return t}wy(t){return Pe.replaceDigits(t)}Ty(t){return Pe.mayHaveNumberSequence(t)?Pe.replaceDigits(t):t}_y(t){return Pe.mayHaveCreditCardNumber(t)?Pe.replaceCreditCardNumber(t,(e,i,r,a,c)=>{if(csString.prototype.indexOf.call(r,"*")===-1){let u=a.length?csArray.prototype.join.call(csString.prototype.split.call(r,a),""):r;if(!this.by(u))return e;G.counters.redactedPII.count("cc")}else G.counters.redactedPII.count("cc-partial");return`${i}${Ju}${c}`}):t}by(t){let e=parseInt(t[t.length-1]),i=0;for(let r=t.length-2;r>=0;r--){let a=parseInt(t[r]);r%2===0&&(a*=2),i+=Math.floor(a/10)+a%10}return 10-i%10===e}}return s})(),Ga="15.134.1";function Tr(){return{v:Ga}}var id=(()=>{class s{constructor(t,e){this.f=t,this.N=e}getRequestParameters(){return{d:`${P.now()}`,p:this.N.anonymizePII(window.location.href),...this.f.getRequestParameters(),...Tr()}}}return s})(),nd="uxa",Ro=5,rd="No stacktrace",qa="snippet-",Wa="implementation-snippet-",Co=(()=>{let s;return function(n){n.IMPLEMENTATION="implementation",n.DYNAMIC="dynamic"}(s||(s={})),s})(),od=(()=>{class s{constructor(t,e,i){this.fs=e,this.N=new pi,this.cd=fn[nt.warn],this.cd=fn[t.minLogLevel||nt.warn],this.ps=i||new $u(t,new id(t,this.N)),this.ld={[nt.debug]:[],[nt.warn]:[],[nt.implementation]:[],[nt.error]:[],[nt.critical]:[]},this.vo={implementation:{},dynamic:{}},this.ps.init()}send(t,e="",i=nt.warn){if(!this.Ay(i,e))return;csArray.prototype.push.call(this.ld[i],e||"");let r={message:this.Ry(t,e),stacktrace:this.Cy(t),app:nd,level:i};this.ps.send(r)}Ry(t,e){let i=qe(t)?this.N.anonymizePII(t.message||t.toString()):t;return e&&(i+=` ErrorCode: ${e}`),i}Cy(t){return qe(t)?`${t.stack||rd} ${this.$n()}`:this.$n()}$n(){let t=this.fs.getVisitorService(),e=t==null?void 0:t.getVisitor();if(!e)return"No context";let i=this.fs.getSessionService(),r=i&&i.getSession(),a={userId:e.id,sessionNumber:e.visitsCount,pageNumber:r&&r.pageNumber};return csJSON.stringify(a)}Ay(t,e){if(fn[t]<this.cd)return!1;if((e==null?void 0:csString.prototype.indexOf.call(e,Wa,0))===0)return this.ud(e,Co.IMPLEMENTATION);if((e==null?void 0:csString.prototype.indexOf.call(e,qa,0))===0)return this.ud(e,Co.DYNAMIC);let i=this.ld[t];return i.length>=Ro?!1:!(e&&csArray.prototype.some.call(i,r=>r===e))}ud(t,e){return t in this.vo[e]?this.vo[e][t]>=Ro?!1:(this.vo[e][t]+=1,!0):(this.vo[e][t]=1,!0)}}return s})(),St=!ci&&document.createElement("a"),ad=/(:443|:80)$/;function $e(s){return St?(St.href=s,St.href):""}function cd(s,n){return new csURL(s,n).href}function ld(s,n){return csArray.prototype.some.call(n,t=>li(s,`.${t}`)||s===t||t==="")}function hd(s){return s[0]==="/"?s:`/${s}`}function Io(s){return csString.prototype.replace.call(s,ad,"")}function Ya(s){return!St||!xt(s,"http://")&&!xt(s,"https://")?null:(St.href=s,{hash:St.hash,host:Io(St.host),hostname:St.hostname,href:St.href,origin:St.origin?St.origin:Io(`${St.protocol}//${St.host}`),pathname:hd(St.pathname),port:St.port,protocol:St.protocol,search:St.search})}var Et=(()=>{let s;return function(n){n.Discovery="discovery",n.Stop="stop",n.RecordingContext="recordingContext",n.SensitiveStatus="sensitiveStatus",n.RecordingEvent="recordingEvent",n.EndOfBufferedMessages="endOfBufferedMessages",n.ChildLogMessage="childLogMessage",n.AnalysisEvent="analysisEvent",n.JavascriptError="javascriptError",n.ApiError="apiError",n.Assets="assets",n.DetailedApiError="detailedApiError",n.EmerchandisingMessage="emerchandisingMessage",n.Commands="commands",n.IntegrationCallback="integrationCallback",n.StaticResource="staticResource",n.TrackingContextResultMessage="trackingContextResultMessage",n.TrackingContextRequestMessage="trackingContextRequestMessage",n.CustomError="customError"}(s||(s={})),s})();var ud=(()=>{class s{setContext(t,e){this.I=t,this.R=e}getVisitorService(){return this.I}getSessionService(){return this.R}}return s})(),Jn=!1;function dd(){Jn=!0}function vt(){return(s,n,t)=>{if(t){let e=t.value;t.value=function(i,r){(i==null?void 0:i.isTrusted)===!1&&Jn||e.call(this,i,r)}}else{let e=s[n];if(typeof e!="function")return;s[n]=function(i,...r){(i==null?void 0:i.isTrusted)===!1&&Jn||e.call(this,i,r)}}}}function pd(s){if(document!=null&&document.prerendering){document.addEventListener("prerenderingchange",s,{once:!0});return}s()}function B(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(r=(i<3?a(r):i>3?a(n,t,r):a(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}function fd(){let s=new MutationObserver(n=>{n.forEach(t=>{K(t.removedNodes,e=>{e instanceof HTMLElement&&e.tagName==="CS-NATIVE-FRAME-HOLDER"&&(G.counters.pureWindowState.count("iframe-deletion"),rt.warn("<cs-native-frame-holder> deleted"),s.disconnect())})})});s.observe(document.body,{childList:!0})}function Po(s){return typeof s!="function"?!1:s.toString().indexOf("[native code]")!==-1}function gd(){(!Po(MutationObserver)||!Po(MutationObserver.prototype.observe))&&G.counters.patchedNativeFunctions.count("MutationObserver")}function md(){try{window.CSPureWindow&&fd(),gd()}catch{}}var ht=(()=>{let s;return function(n){n.CURRENT_DOMAIN="CURRENT_DOMAIN";function t(l){let m=new csRegExp(`(^|;)[ ]*${l}=([^;]*)`).exec(document.cookie);return m?decodeURIComponent(m[2]):null}n.get=t;function e(l,u,m,d,E,y){let v=encodeURIComponent(`${u}`),C=m===n.CURRENT_DOMAIN?void 0:m,I=i(d),S=I?`;expires=${I.toUTCString()}`:"",_=";path=/",D=Tt(C)?`;domain=${C}`:"",O=`${l}=${v}${S}${_}${D}`;return Z(E)&&E!==je.NotSet&&(O=`${O};SameSite=${E}`),Z(y)&&y===se.Yes&&(O=`${O};Secure`),document.cookie=O,!0}n.set=e;function i(l){return Yt(l)?new csDate(P.now()+l):l}n.toExpireDate=i;function r(l,u){t(l)&&e(l,"",u,new csDate(0)),t(l)&&e(l,"",u,new csDate(0),je.None,se.Yes)}n.remove=r;function a(){return document.cookie.length>0}n.isCookiePresent=a;function c(l,u){let m="_cs_root-domain",d=t(m);if(d!==null&&d!=="1")return d;let E=csString.prototype.split.call(window.location.hostname,"."),y=csArray.prototype.pop.call(E);for(;E.length&&(d===null||d==="1");)y=csArray.prototype.join.call([csArray.prototype.pop.call(E),y],"."),e(m,y,y,void 0,l,u),d=t(m);return r(m,y),y}n.getRootDomain=c}(s||(s={})),s})(),yd=(()=>{let s;return function(n){function t(){return window.navigator.vendor&&csString.prototype.indexOf.call(window.navigator.vendor,"Apple")>-1&&window.navigator.appVersion&&csString.prototype.indexOf.call(window.navigator.appVersion,"Version/12.")>-1}n.browserIsSafariV12=t}(s||(s={})),s})(),je=(()=>{let s;return function(n){n.None="None",n.Lax="Lax",n.NotSet="X"}(s||(s={})),s})(),se=(()=>{let s;return function(n){n[n.Yes=1]="Yes",n[n.No=0]="No"}(s||(s={})),s})(),tn=(()=>{class s{constructor(t,e,i){this.f=t,this.w=e,this.gi=i,this.fc=!1,this.dd=je.NotSet,this.gc=se.No}getSameSiteFlag(){return this.dd}getSecureFlag(){return this.gc}getDomain(){return this.mc}getRootDomain(){return this.pd}init(){if(this.f.cookielessTrackingEnabled)return;let t=this.Iy(),e=this.Py();this.fc=this.Oy(t,e),this.fc?(this.dd=t,this.gc=e):this.f.secureCookiesEnabled&&this.w.getUrlProtocol()==="https:"&&(this.gc=se.Yes),this.pd=this.Ny(),this.mc=this.My(this.pd)}Oy(t,e){return yd.browserIsSafariV12()?!1:(ht.set(s.COOKIE_TEST_FOR_SAME_SITE,"Test same site",s.CURRENT_DOMAIN,void 0,t,e),ht.get(s.COOKIE_TEST_FOR_SAME_SITE)?(ht.remove(s.COOKIE_TEST_FOR_SAME_SITE,s.CURRENT_DOMAIN),!0):!1)}Iy(){return this.w.getUrlProtocol()==="http:"?je.Lax:this.gi.isSameSiteNoneSecureNeeded()||this.f.crossDomainTracking?je.None:je.Lax}Py(){return this.w.getUrlProtocol()==="http:"?se.No:this.f.secureCookiesEnabled||this.f.crossDomainTracking||this.gi.isSameSiteNoneSecureNeeded()?se.Yes:se.No}isSameSiteSupported(){return this.fc}set(t,e,i,r){let a=ht.toExpireDate(i),c=r?se.Yes:this.getSecureFlag();ht.set(t,e,this.mc,a,this.getSameSiteFlag(),c)}get(t){let i=new csRegExp(`(^|;)[ ]*${t}=([^;]*)`).exec(document.cookie);return i?decodeURIComponent(i[2]):null}delete(t,e){let i=e||this.mc;ht.remove(t,i)}Ny(){let t=this.gi.isSameSiteNoneSecureNeeded()&&this.isSameSiteSupported(),e=t?je.None:void 0,i=t?se.Yes:void 0;return ht.getRootDomain(e,i)}My(t){return this.f.allowSubdomains?t:ht.CURRENT_DOMAIN}}return s.CURRENT_DOMAIN="CURRENT_DOMAIN",s.COOKIE_TEST_FOR_SAME_SITE="_cs_same_site",s})(),Es="_cs_t",Oo="1",Ed=(()=>{class s{constructor(t,e){this.wt=t,this.f=e,this._o=!1,this.wo=!1}init(){if(!this.f.cookielessTrackingEnabled&&this.wt.isTopWindowTracker()&&"cookie"in document){if(!this.wt.isInIframeContext()&&ht.isCookiePresent()){this._o=!0,this.wo=!1;return}if(ht.set(Es,Oo,ht.CURRENT_DOMAIN),ht.get(Es)!==null){this._o=!0,this.wo=!1,ht.remove(Es,ht.CURRENT_DOMAIN);return}ht.set(Es,Oo,ht.CURRENT_DOMAIN,void 0,je.None,se.Yes),ht.get(Es)!==null&&(this._o=!0,this.wo=!0,ht.remove(Es,ht.CURRENT_DOMAIN))}}areCookiesEnabled(){return this._o}isSameSiteNoneSecureNeeded(){return this.wo}}return s})();function Sd(){let s="CSSessionStorageTest";try{return sessionStorage.setItem(s,s),sessionStorage.getItem(s)!==s?!1:(sessionStorage.removeItem(s),!0)}catch{return!1}}var vd=(()=>{class s{constructor(t,e){this.f=t,this.gi=e}canTrack(){return this.f.isProjectActive()&&this.ky()&&this.gd()&&this.Dy()}canTrackInChild(){return this.f.isProjectActive()&&this.xy()&&(this.gd()||this.Ly())}Dy(){return this.f.cookielessTrackingEnabled?Sd():this.gi.areCookiesEnabled()}gd(){return ld(window.location.hostname,this.f.hostnames)}ky(){return!this.md()&&this.Vy()}xy(){return!this.md()&&this.Uy()}Ly(){return window.location.protocol==="about:"&&window.location.hostname===""}md(){return"visibilityState"in document&&document.visibilityState==="prerender"}Vy(){return this.yd()&&this.jy()}Uy(){return this.yd()}jy(){try{return!!window.localStorage}catch{return!1}}yd(){return"pageXOffset"in window&&"pageYOffset"in window&&"onpagehide"in window&&"JSON"in window&&"parse"in window.csJSON&&"stringify"in window.csJSON&&"addEventListener"in window&&"removeEventListener"in window&&"Node"in window&&"filter"in csArray.prototype&&"forEach"in csArray.prototype&&"querySelectorAll"in document&&"now"in csDate&&"keys"in Object&&"performance"in window&&"Map"in window&&"Set"in window}}return s})(),_d=(()=>{class s{constructor(t,e){this.yc=!1,this.Ed=new Map,this.Sd=new Map,this.vd=new Map,this._d="CS_WORKER_SIGNATURE";let i=`
    const algorithm = ${t.algorithm};
    const compressor = (${t.getCompressorSourceCode()})();
    (()=>{"use strict";function e(e,t,r,s){return new(r||(r=Promise))((function(o,a){function i(e){try{c(s.next(e))}catch(e){a(e)}}function n(e){try{c(s.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,n)}c((s=s.apply(e,t||[])).next())}))}var t,r;Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError,function(e){e.UNCOMPRESSED="0",e.GZIP="2"}(t||(t={})),function(e){e.debug="debug",e.warn="warn",e.implementation="implementation",e.error="error",e.critical="critical"}(r||(r={})),r.debug,r.warn,r.implementation,r.error,r.critical;let s={debug(...e){},warn(...e){},implementation(...e){},error(...e){},critical(...e){},isPerfLoggingActive:()=>!1};class o{constructor(e){var t;this.queryParams={},this.headers={},this.handleRecoveredRequests=e=>{for(const t of e){const{metadata:e,events:r}=t;this.send(r,e)}},this.endpoint=e.endpoint,this.compressionOpts=e.compressionOpts,this.recoveryStorage=e.recoveryStorage,this.mandatoryParameters=null!==(t=e.mandatoryParameters)&&void 0!==t?t:[],this.contentType=e.contentType,this.worker=!!e.worker,this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests)}setQueryParams(e){Object.keys(e).forEach((t=>{this.queryParams[t]=e[t]}))}removeQueryParams(e){e?e.forEach((e=>{delete this.queryParams[e]})):this.queryParams={}}send(e,r){const o=r||Object.assign({},this.queryParams),a=!("ct"in o),i="application/json"===this.contentType||"string"!=typeof e&&!this.isArrayBuffer(e);"ct"in o||(this.compressionOpts&&a?o.ct=this.compressionOpts.compressionType:o.ct=t.UNCOMPRESSED);const n=i?JSON.stringify(e):e,c=Object.keys(o).map((e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(o[e])}\`)).join("&"),h=\`\${this.endpoint}?\${c}\`;!function(e,t){const r=e.length;for(let s=0;s<r;s++)if(t(e[s],s))return!0;return!1}(this.mandatoryParameters,(e=>null==o[e]))?this.compressionOpts&&a&&"string"==typeof n?this.compressionOpts.compressor(n,this.compressionOpts.compressionOutputType,(e=>this.doSend(h,o,e))):this.doSend(h,o,n):s.warn(\`[\${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on \${h}\`)}onLoad(e){this.onLoadCallback=e}onError(e){this.onErrorCallback=e}onTimeout(e,t){this.onTimeoutCallback=e,this.timeout=t}abort(){this.abortCurrentXhrCall&&this.abortCurrentXhrCall()}setRequestHeader(e,t){this.headers[e]=t}getQueryParams(){return this.queryParams}isArrayBuffer(e){return e&&void 0!==e.byteLength}doSend(e,t,r){const s=new XMLHttpRequest,o=Object.keys(t).map((e=>\`\${encodeURIComponent(e)}=\${encodeURIComponent(t[e])}\`)).join("&");s.open("POST",e),this.contentType&&s.setRequestHeader("Content-Type",this.contentType),s.onload=()=>{if(this.recoveryStorage&&this.recoveryStorage.recover(this.handleRecoveredRequests),this.onLoadCallback){const e={params:t,responseText:s.responseText,status:s.status};this.onLoadCallback(e)}},s.onerror=()=>{this.recoveryStorage&&this.recoveryStorage.save({key:o,metadata:t,events:r}),this.onErrorCallback&&this.onErrorCallback({params:t})},this.timeout&&this.onTimeoutCallback&&(s.timeout=this.timeout,s.ontimeout=()=>{this.onTimeoutCallback()}),this.abortCurrentXhrCall=()=>s.abort(),Object.keys(this.headers).forEach((e=>{s.setRequestHeader(e,this.headers[e])})),s.send(r)}}class a{constructor(e){this.maxStoredBytes=e,this.storageBytesUsed=0}addString(e){this.storageBytesUsed+=2*e.length}addArrayBuffer(e){this.storageBytesUsed+=e.byteLength}isThresholdReached(){return this.storageBytesUsed>this.maxStoredBytes}reset(){this.storageBytesUsed=0}}class i{constructor(e){this.ramStorage={},this.byteSizeCounter=new a(e)}save({key:e,metadata:t,events:r}){this.byteSizeCounter.isThresholdReached()||(this.byteSizeCounter.addString(e),"string"==typeof r?this.byteSizeCounter.addString(r):this.byteSizeCounter.addArrayBuffer(r),this.byteSizeCounter.isThresholdReached()||(this.ramStorage[e]={metadata:t,events:r}))}recover(e){const t=[];this.getStorageKeys().forEach((e=>{const r=this.ramStorage[e];void 0!==r&&(delete r.metadata.datatype,t.push(r),this.removeItem(e))})),0!==t.length&&(e(t),this.byteSizeCounter.reset())}getStorageKeys(){return Object.keys(this.ramStorage)}removeItem(e){delete this.ramStorage[e]}}var n;!function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",e[e.OPEN_FAILED=2]="OPEN_FAILED",e[e.READY=3]="READY"}(n||(n={}));class c{constructor(e,t,r){this.storageName=e,this.onOpenError=r,this.cacheState=n.NOT_STARTED,this.toBeSavedBuffer=[],this.recoveryInProgress=0,this.origin=self.origin,this.context="object"==typeof window?"":"worker-",this.byteSizeCounter=new a(t),this.init()}init(){return e(this,void 0,void 0,(function*(){yield this.openCache(),this.cacheState===n.READY?this.flushToBeSavedBuffer():this.onOpenError(this.toBeSavedBuffer)}))}flushToBeSavedBuffer(){this.toBeSavedBuffer.forEach((e=>{this.save(e)})),this.toBeSavedBuffer=[]}save(t){return e(this,void 0,void 0,(function*(){try{if(this.cacheState===n.OPEN_IN_PROGRESS)return void this.toBeSavedBuffer.push(t);if(this.cacheState!==n.READY)return;if(this.byteSizeCounter.isThresholdReached())return;const{key:e,metadata:r,events:s}=t;if(this.byteSizeCounter.addString(e),"string"==typeof s?this.byteSizeCounter.addString(s):this.byteSizeCounter.addArrayBuffer(s),this.byteSizeCounter.isThresholdReached())return;yield this.cache.put(\`\${this.origin}/\${e}\`,new Response(s,{headers:r}))}catch(e){}}))}recover(t){return e(this,void 0,void 0,(function*(){(this.cache||(yield this.openCache(),this.cacheState===n.READY))&&this.doRecover(t)}))}openCache(){return e(this,void 0,void 0,(function*(){try{this.cacheState=n.OPEN_IN_PROGRESS,this.cache=yield self.caches.open(\`\${this.context}\${this.storageName}\`),this.cacheState=n.READY}catch(e){this.cacheState=n.OPEN_FAILED}}))}doRecover(t){return e(this,void 0,void 0,(function*(){try{if(this.recoveryInProgress++,this.recoveryInProgress>1)return;const e=yield this.cache.keys();if(0===e.length)return;const r=(yield this.cache.matchAll()).map((e=>{const t={};e.headers.forEach(((e,r)=>{t[r]=e})),delete t["content-type"];const r=t.datatype;return delete t.datatype,"json"===r||"base64"===r?e.text().then((e=>({metadata:t,events:e}))):e.arrayBuffer().then((e=>({metadata:t,events:e})))})),s=yield Promise.all(r);yield Promise.all(e.map((e=>this.cache.delete(e)))),t(s),this.byteSizeCounter.reset()}catch(e){}finally{this.recoveryInProgress--}}))}}class h{constructor(e){try{this.initializeStorageStrategy(e)}catch(e){this.setRamStorageStrategy()}}initializeStorageStrategy(e){self.caches?this.setCachesStrategy(e):this.setRamStorageStrategy()}save(e){this.storageStrategy.save(e)}recover(e){this.storageStrategy.recover(e)}setCachesStrategy(e){this.storageStrategy=new c(e,h.MAX_SIZE,(e=>{this.setRamStorageStrategy(e)}))}setRamStorageStrategy(e){this.storageStrategy=new i(h.MAX_SIZE),e&&e.forEach((e=>{this.storageStrategy.save(e)}))}}h.MAX_SIZE=16777216,function(){const t="CS_WORKER_SIGNATURE",r=new Map,s=new h("csPersisted");function a(e){var a;if((a=e)&&a.WORKER_SIGNATURE===t)switch(e.type){case"CreatePostRequest":{const{endpoint:a,compressionOutputType:i,useRetry:n,mandatoryParameters:c}=e,h={endpoint:a,mandatoryParameters:c,worker:!0};i&&(h.compressionOpts={compressor,compressionOutputType:i,compressionType:algorithm}),n&&(h.recoveryStorage=s);const d=new o(h);r.set(a,d),d.onLoad((e=>{const r={type:"onLoad",endpoint:a,response:e,WORKER_SIGNATURE:t};self.postMessage(r)})),d.onError((e=>{const r={type:"onError",endpoint:a,response:e,WORKER_SIGNATURE:t};self.postMessage(r)}))}break;case"SetQueryParams":{const{endpoint:t,queryParams:s}=e,o=r.get(t);o&&o.setQueryParams(s)}break;case"RemoveQueryParams":{const{endpoint:t,queryParams:s}=e,o=r.get(t);o&&o.removeQueryParams(s)}break;case"Send":{const{endpoint:t,payload:s,queryParams:o}=e,a=r.get(t);a&&a.send(s,o)}break;case"Abort":{const{endpoint:t}=e,s=r.get(t);s&&s.abort()}break;case"SetHeader":{const{endpoint:t,headerName:s,headerValue:o}=e,a=r.get(t);a&&a.setRequestHeader(s,o)}break;case"SetTimeout":{const{endpoint:s,timeout:o}=e,a=r.get(s);a&&a.onTimeout((()=>{const e={type:"onTimeout",endpoint:s,WORKER_SIGNATURE:t};self.postMessage(e)}),o)}break;default:throw new Error(JSON.stringify(e))}}self.addEventListener("message",(function(t){t.data.getReader?function(t,r){e(this,void 0,void 0,(function*(){const e=t.getReader();for(;;){const{done:t,value:s}=yield e.read();if(t)break;r(s)}}))}(t.data,a):a(t.data)}))}()})();`;try{this.gs=this.Hy(e||i),this.yc=!0,s.isTransferableStreamSupported()&&(this.wd=new ReadableStream({start:r=>{this.Ec=r},cancel:()=>{this.Ec=null}}),this.gs.postMessage(this.wd,[this.wd]))}catch(r){r.name==="SecurityError"&&G.counters.cspErrors.count("network-worker"),this.yc=!1}}postMessage(t){t.WORKER_SIGNATURE=this._d,this.Ec?this.Ec.enqueue(t):this.gs.postMessage(t)}Hy(t){let e=window.csURL||window.webkitURL,i=window.Blob,r=window.Worker,a=new i([t],{type:"application/javascript"}),c=e.createObjectURL(a);F.whiteListFilename(c);let l=new r(c);return l.onmessage=u=>{let{type:m,endpoint:d,WORKER_SIGNATURE:E}=u.data;if(E===this._d){if(m==="onLoad"){let{response:y}=u.data,v=this.Ed.get(d);v&&v(y)}else if(m==="onError"){let{response:y}=u.data,v=this.Sd.get(d);v&&v(y)}else if(m==="onTimeout"){let y=this.vd.get(d);y&&y()}}},l}registerOnLoadCallback(t,e){this.Ed.set(t,e)}registerOnErrorCallback(t,e){this.Sd.set(t,e)}registerOnTimeoutCallback(t,e){this.vd.set(t,e)}isSupported(){return this.yc}static isTransferableStreamSupported(){try{let t=new ReadableStream;return structuredClone(t,{transfer:[t]}),!0}catch{return!1}}}return s})(),wd=(()=>{class s{constructor(t){var e;this.Kt={},this.Jt=t.endpoint,this.ve=t.networkWorker,this.By=t.compressionOutputType,this.Fy=t.useRetry,this.ve.postMessage({type:"CreatePostRequest",endpoint:this.Jt,compressionOutputType:this.By,useRetry:this.Fy,mandatoryParameters:(e=t.mandatoryParameters)!==null&&e!==void 0?e:[]})}setQueryParams(t){this.ve.postMessage({type:"SetQueryParams",endpoint:this.Jt,queryParams:t}),csArray.prototype.forEach.call(Object.keys(t),e=>{this.Kt[e]=t[e]})}getQueryParams(){return this.Kt}removeQueryParams(t){this.ve.postMessage({type:"RemoveQueryParams",endpoint:this.Jt,queryParams:t}),t&&csArray.prototype.forEach.call(t,e=>{delete this.Kt[e]})}send(t,e){this.ve.postMessage({type:"Send",endpoint:this.Jt,payload:t,queryParams:e})}abort(){this.ve.postMessage({type:"Abort",endpoint:this.Jt})}onLoad(t){this.ve.registerOnLoadCallback(this.Jt,t)}onError(t){this.ve.registerOnErrorCallback(this.Jt,t)}setRequestHeader(t,e){this.ve.postMessage({type:"SetHeader",endpoint:this.Jt,headerName:t,headerValue:e})}onTimeout(t,e){this.ve.registerOnTimeoutCallback(this.Jt,t),this.ve.postMessage({type:"SetTimeout",endpoint:this.Jt,timeout:e})}}return s})(),en=(()=>{let s;return function(n){n.UNCOMPRESSED="0",n.GZIP="2"}(s||(s={})),s})(),Xa=(()=>{class s{constructor(t){this.onError=t}}return s})(),Td=(()=>{class s{constructor(t){var e;this.Kt={},this.Sc={},this.Td=i=>{for(let r of i){let{metadata:a,events:c}=r;this.send(c,a)}},this.Jt=t.endpoint,this.zn=t.compressionOpts,this.Qt=t.recoveryStorage,this.mandatoryParameters=(e=t.mandatoryParameters)!==null&&e!==void 0?e:[],this.vc=t.contentType,this.worker=!!t.worker,this.Qt&&this.Qt.recover(this.Td)}setQueryParams(t){Object.keys(t).forEach(e=>{this.Kt[e]=t[e]})}removeQueryParams(t){t?t.forEach(e=>{delete this.Kt[e]}):this.Kt={}}send(t,e){let i=e||{...this.Kt},r=!("ct"in i),a=this.vc==="application/json"||typeof t!="string"&&!this.$y(t);"ct"in i||(!this.zn||!r?i.ct=en.UNCOMPRESSED:i.ct=this.zn.compressionType);let c=a?JSON.stringify(t):t,l=Object.keys(i).map(m=>`${encodeURIComponent(m)}=${encodeURIComponent(i[m])}`).join("&"),u=`${this.Jt}?${l}`;if(Ph(this.mandatoryParameters,m=>i[m]==null)){rt.warn(`[${this.worker?"WORKER":"MAIN"}] All mandatory parameters are not present on ${u}`);return}this.zn&&r&&typeof c=="string"?this.zn.compressor(c,this.zn.compressionOutputType,m=>this.bd(u,i,m)):this.bd(u,i,c)}onLoad(t){this.Wi=t}onError(t){this.Gn=t}onTimeout(t,e){this.mi=t,this.qn=e}abort(){this.Ad&&this.Ad()}setRequestHeader(t,e){this.Sc[t]=e}getQueryParams(){return this.Kt}$y(t){return t&&t.byteLength!==void 0}bd(t,e,i){let r=new XMLHttpRequest,a=Object.keys(e).map(c=>`${encodeURIComponent(c)}=${encodeURIComponent(e[c])}`).join("&");r.open("POST",t),this.vc&&r.setRequestHeader("Content-Type",this.vc),r.onload=()=>{if(this.Qt&&this.Qt.recover(this.Td),this.Wi){let c={params:e,responseText:r.responseText,status:r.status};this.Wi(c)}},r.onerror=()=>{this.Qt&&this.Qt.save({key:a,metadata:e,events:i}),this.Gn&&this.Gn({params:e})},this.qn&&this.mi&&(r.timeout=this.qn,r.ontimeout=()=>{this.mi()}),this.Ad=()=>r.abort(),Object.keys(this.Sc).forEach(c=>{r.setRequestHeader(c,this.Sc[c])}),r.send(i)}}return s})(),Ka=(()=>{class s{constructor(t){this._c=t,this.ve=new _d(this._c)}create(t,e,i,r,a=[]){if(this.ve.isSupported()&&e)return new wd({networkWorker:this.ve,endpoint:t,compressionOutputType:i,useRetry:!!r,mandatoryParameters:a});{let c=i?{compressor:this._c.compress,compressionOutputType:i,compressionType:this._c.algorithm}:void 0;return new Td({endpoint:t,compressionOpts:c,recoveryStorage:r})}}}return s})(),bd=(()=>{class s{constructor(t,e,i,r,a){this.I=t,this.R=e,this.Ke=i,this.St=r,this.f=a}get(){return{exclusion:this.Ke.getAppliedTrackingDraw(),visitor:this.I.getVisitor(),session:this.R.getSession(),cvars:this.St.getCustomVariablesSession()}}apply(t){t&&(t.exclusion?this.exclude():this.include(t))}exclude(){this.Ke.exclude(this.f),this.I.removeVisitor(),this.R.removeSession(),this.St.removeCustomVariablesSession()}include(t){this.Ke.removeExclusion(),this.I.setVisitor(t.visitor),t.session?this.R.setSession(t.session):this.R.removeSession(),t.cvars?this.St.setCustomVariableSession(t.cvars):this.St.removeCustomVariablesSession()}}return s})(),Yi=".",br="__DOT__",Ad=/^(([a-z0-9\-])+(\.[0-9]+){6})(\.[0-1])?(\.\b(x|[0-9a-fA-F]{12})\b)?$/,Ja="x";function Rd(s){let[n,t,e,i,r,a,c,l,u]=Nd(s);return{id:n,creationTimestamp:Number(t),visitsCount:Number(e),hitTimestamp:Number(i),lastVisitTimestamp:Number(r),appliedTrackingDraw:Number(a),expires:Number(c),allowSubdomains:l===void 0?void 0:!!Number(l),identityPrint:u===void 0||u===Ja?null:u}}function Cd(s){var n;return csArray.prototype.join.call(csArray.prototype.map.call(csArray.prototype.map.call([s.id,s.creationTimestamp,s.visitsCount,s.hitTimestamp,s.lastVisitTimestamp,s.appliedTrackingDraw,s.expires,s.allowSubdomains?1:0,(n=s.identityPrint)!==null&&n!==void 0?n:Ja],csString),Pd),Yi)}function Id(s){return Ad.test(s)}function Pd(s){return csString.prototype.replace.call(s,/\./g,br)}function Od(s){return csString.prototype.replace.call(s,new csRegExp(br,"g"),Yi)}function Nd(s){return csString.prototype.indexOf.call(s,br)!==-1?csArray.prototype.map.call(csString.prototype.split.call(s,Yi),Od):csString.prototype.split.call(s,Yi)}var L=(()=>{let s;return function(n){n.QUOTA_REACHED="X",n.RECORDING_RULES_TARGETING="8",n.ANALYTICS_ONLY_RULES_TARGETING="9",n.ANALYTICS_ONLY="0",n.RECORDING_GLOBAL_SAMPLING="5",n.RECORDING_TEMPORARILY="T",n.RECORDING_URL_SAMPLING="6",n.RECORDING_ETR_SAMPLING="7",n.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED="B",n.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN="W"}(s||(s={})),s})(),jt=(()=>{let s;return function(n){n.ETR_OFF="0",n.ETR_ON="1"}(s||(s={})),s})(),ze=(()=>{let s;return function(n){n.ETR_LEGACY="0",n.ETR_SESSION="1",n.ETR_PAGE="2"}(s||(s={})),s})(),Gt=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),Qn=(()=>{let s;return function(n){n.UNNECESSARY="U",n.NOT_EXPRESSED="N",n.WITHDRAWN="W",n.GRANTED="G"}(s||(s={})),s})();var Md=(()=>{let s;return function(n){n.ETR_DISABLED="0",n.ETR_PENDING="1",n.ETR_SAVED_PAGE="2",n.ETR_SAVED_SESSION="3",n.ETR_NOT_SAVED_SESSION="9"}(s||(s={})),s})(),Qa=/^(\d+\.[01356789TBWX](\.[01UNWG])?(\.[39])?)(\.\d+)?$/,Za=".";function kd(s){return csArray.prototype.join.call([s.pageNumber,s.collectState,s.replayConsent,s.etrStatus],Za)}function Dd(s){if(!Ar(s))return null;let n=Zn(s);return n!==null?tc(n):null}function tc(s){var n,t;let[e,i,r,a]=csString.prototype.split.call(s,Za);return{collectState:i,replayConsent:(n=r)!==null&&n!==void 0?n:Qn.UNNECESSARY,etrStatus:(t=a)!==null&&t!==void 0?t:Md.ETR_NOT_SAVED_SESSION,pageNumber:parseInt(e,10)}}function Ar(s){return Qa.test(s)}function Zn(s){if(!s)return null;let n=(()=>{var t;return(t=csString.prototype.match.call(s,Qa))===null||t===void 0?void 0:t[1]})();return n!=null?n:null}var pe="_cs_ex",No=2592e6,xd=/^[0-9]+$/,Ld=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i}onCookieToSet(t){this.yi=t}onCookieToRemove(t){this.Ei=t}get(){return this.f.cookielessTrackingEnabled?Number(this.K.getItem(pe)):Number(this.M.get(pe))}set(t){var e;this.f.cookielessTrackingEnabled?this.K.setItem(pe,t):(this.M.set(pe,t,No),(e=this.yi)===null||e===void 0||e.call(this,pe,t,No))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(pe):(this.M.delete(pe),(t=this.Ei)===null||t===void 0||t.call(this,pe))}static isValidExclusionString(t){return xd.test(t)}}return s})(),Oe="_cs_cvars",Vd=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i}onCookieToSet(t){this.yi=t}onCookieToRemove(t){this.Ei=t}get(){return this.f.cookielessTrackingEnabled?this.K.getItem(Oe):this.M.get(Oe)}set(t){var e;this.f.cookielessTrackingEnabled?this.K.setItem(Oe,t):(this.M.set(Oe,t),(e=this.yi)===null||e===void 0||e.call(this,Oe,t))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(Oe):(this.M.delete(Oe),(t=this.Ei)===null||t===void 0||t.call(this,Oe))}static isValidCustomVarString(t){return typeof t=="string"}}return s})();function ye(s,n,t,e){var i=arguments.length,r=i<3?n:e===null?e=Object.getOwnPropertyDescriptor(n,t):e,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,n,t,e);else for(var c=s.length-1;c>=0;c--)(a=s[c])&&(r=(i<3?a(r):i>3?a(n,t,r):a(n,t))||r);return i>3&&r&&Object.defineProperty(n,t,r),r}var sn=(()=>{class s{constructor(){this.set=new Set}add(t){this.set.add(t),this.set.size===1&&csSetTimeout(()=>{this.set.clear()})}has(t){return this.set.has(t)}del(t){this.set.delete(t)}clear(){this.set.clear()}values(){return Ns(this.set)}get count(){return this.set.size}}return s})(),Ud=(()=>{class s extends sn{constructor(t="high"){super(),this.Yy=t}add(t){this.set.add(t),this.set.size===1&&Ht(()=>{this.set.clear()},this.Yy)}}return s})();function nn(s,n=!1){let t=new sn;return{push(e){t.count===0&&(n?Ht:csSetTimeout)(()=>{s(t.values()),t.clear()}),t.add(e)}}}function jd(){let s=new Error,n=s.stack?csArray.prototype.filter.call(csString.prototype.split.call(s.stack,`
`),e=>e!=="Error"&&csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(e),"promise ")===-1&&csString.prototype.indexOf.call(e,"[native code]")===-1&&csString.prototype.indexOf.call(e,"(<anonymous>)")===-1):[];if(n.length===0)return"";let t=Bd(n);return t===""||(n=Fd(n,t),n.length===0)?"":ec(n[0])}function Hd(s){return csString.prototype.indexOf.call(s,"@")!==-1}function Bd(s){return s.length>0?ec(s[0]):""}function Fd(s,n){return csArray.prototype.filter.call(s,t=>csString.prototype.indexOf.call(t,n)===-1)}function ec(s){let n="",t;Hd(s)?t=new csRegExp("@(.+):(\\d+):(\\d+)$"):t=new csRegExp("\\((.+):(\\d+):(\\d+)\\)");let e=t.exec(s);return e&&(n=e[1]),n}var $d=s=>s;function zd(s,n,t,e){let i=csSymbol.for("propertyProxy");Object.defineProperty(s,n,{get(){var r;if(this[i])return this[i];let a=(r=t.get)===null||r===void 0?void 0:r.apply(this);return typeof a!="object"?a:(typeof Proxy=="function"?this[i]=new Proxy(a,{get(c,l){let u=Reflect.get(c,l);return typeof u=="function"?u.bind(c):u},set:(c,l,u)=>{let m=c[l],d=Reflect.set(c,l,u);return e.forEach(E=>E(this,u,m,"subproperty")),d}}):this[i]=a,this[i])},set(){var r;let a=arguments,c=this[n],l=(r=t.set)===null||r===void 0?void 0:r.apply(this,a);delete this[i];try{e.forEach(u=>u(this,a[0],c,"property"))}catch(u){rt.error(u)}return l}})}function Gd(s,n,t){let e=qd(s,n);if(!e)return null;let i=(r,a,c,l)=>t(r,a,c,l);return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function qd(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,zd(s,n,i,e),e):(rt.warn(`Cannot intercept non configurable property '${csString(n)}' of object '${s}'`),null):(rt.warn(`Cannot intercept property '${csString(n)}' because it does not exist directly on the target object '${s}'`),null)}function Wd(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=Object.getOwnPropertyDescriptor(s,n);if(!(e!=null&&e.writable)&&!(e!=null&&e.set))return rt.warn(`Cannot intercept read only function '${csString(n)}' of object '${s}'`),null;let i=new Set;s[t]=i;let r=s[n];if(typeof r=="function"){let a=function(){let c=arguments,l=[];try{l=csArray.prototype.map.call(Ns(i),m=>m(c))}catch(m){rt.critical(m)}let u=r.apply(this,c);return hs(()=>{let m={result:u,context:this,args:c};csArray.prototype.forEach.call(l,d=>d(m))},ne.MonkeyPatch),u};Xd(a,r),s[n]=a}return i}function is({target:s,methodName:n,hook:t,hookPrepareArgs:e=$d,options:i}){let r=Wd(s,n);if(!r)return null;let a=c=>{let l=e(c),u=i!=null&&i.withCallerName?{callerName:jd()}:{};return m=>t({...m,...u,args:l})};return{activate:()=>{r.add(a)},deactivate:()=>{r.delete(a)}}}function Yd(s,n){let t=csSymbol.for(n);if(s[t])return s[t];let e=new Set,i=Object.getOwnPropertyDescriptor(s,n);return i?i.configurable?(s[t]=e,Object.defineProperty(s,n,{set(){var r;let a=this[n],c=arguments;return hs(()=>{e.forEach(l=>l(this,c[0],a,"property"))},ne.MonkeyPatch),(r=i.set)===null||r===void 0?void 0:r.apply(this,c)}}),e):(rt.warn(`Cannot intercept read only property '${csString(n)}' of object '${s}'`),null):e}function Xi(s,n,t){let e=Yd(s,n);if(!e)return null;let i=(r,a,c)=>t(r,a,c,"property");return{activate:()=>{e.add(i)},deactivate:()=>{e.delete(i)}}}function Xd(s,n){s.prototype=n.prototype,Object.defineProperty(s,"toString",{value:()=>n.toString()})}var ks=(()=>{var s;class n{static Xy(e){this.xs.forEach(i=>{e(i,"initial")})}static Wn(e){if(this.D||(this.D=new csMutationObserver(i=>{for(let r of i)r.target.isConnected&&K(r.addedNodes,this.Ky),K(r.removedNodes,this.Jy)})),csArray.prototype.push.call(this.we,e),!this.F){this.F=!0,this.D.observe(document,this.Yn);for(let i of rs.getAllShadowHosts(document)){let r=csElementshadowRoot.apply(i);this.xs.add(r),this.D.observe(r,this.Yn)}this.Rc||(this.Rc=is({target:Element.prototype,methodName:"attachShadow",hook:i=>i.result.isConnected&&this.Id(i.result)})),this.Rc.activate()}this.Xy(e)}static Xn(e){var i,r;this.we=csArray.prototype.filter.call(this.we,a=>a!==e),this.we.length===0&&(this.we=[],this.F=!1,(i=this.D)===null||i===void 0||i.disconnect(),(r=this.Rc)===null||r===void 0||r.deactivate(),this.xs.clear())}constructor(e){this.A=e,this.A=os("DocumentShadowRootObserver:callback",(i,r)=>e(i,r))}get shadowRoots(){return Ns(s.xs)}takeRecords(){var e,i;return(i=(e=s.D)===null||e===void 0?void 0:e.takeRecords())!==null&&i!==void 0?i:[]}observe(){rs.isSupported()&&s.Wn(this.A)}disconnect(){rs.isSupported()&&s.Xn(this.A)}}return s=n,n.we=[],n.xs=new Set,n.F=!1,n.Yn={childList:!0,subtree:!0},n.Id=t=>{s.xs.has(t)||(s.D.observe(t,s.Yn),s.xs.add(t),K(s.we,e=>e(t,"added")))},n.Ky=t=>{Jt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(s.Id)},n.Jy=t=>{t.isConnected||Jt(t,NodeFilter.SHOW_DOCUMENT_FRAGMENT).visitAll(e=>{s.xs.has(e)&&(s.xs.delete(e),K(s.we,i=>i(e,"removed")))})},ct([U()],n.prototype,"observe",null),ct([U()],n.prototype,"disconnect",null),n})(),Mo={childList:!0,subtree:!0,attributes:!0,characterData:!0,characterDataOldValue:!0,attributeOldValue:!0},We=(()=>{var s;class n{static setShadowRootFilter(e){csArray.prototype.push.call(s.shadowRootFilters,e)}static Cc(e){if(s.shadowRootFilters.length>0&&si(e))for(let i=0;i<s.shadowRootFilters.length;i++){let r=s.shadowRootFilters[i];if(r(e))return}this.observedTargets.add(e),this.mutationObserver.observe(e,Mo)}static disconnectShadowRoot(e){this.observedTargets.has(e)&&(this.observedTargets.delete(e),this.isRefreshing||(this.isRefreshing=!0,Ht(()=>{this.isRefreshing=!1;let i=this.mutationObserver.takeRecords();i.length&&s.mutationCallback(i),this.mutationObserver.disconnect(),this.observedTargets.forEach(r=>{this.mutationObserver.observe(r,Mo)})})))}static observe(e,i){csArray.prototype.push.call(this.callbacks,e),i&&csArray.prototype.push.call(this.shadowRootCallbacks,i),this.started?i&&csArray.prototype.forEach.call(rs.getAllShadowHosts(document),r=>i(csElementshadowRoot.apply(r),"initial")):(this.mutationObserver=new csMutationObserver(this.mutationCallback),this.Cc(document),this.shadowRootObserver=new ks(this.onShadowRoot),this.shadowRootObserver.observe(),this.started=!0,K(this.shadowRootObserver.shadowRoots,r=>{this.Cc(r)}))}static disconnect(e,i){var r,a;this.callbacks=csArray.prototype.filter.call(this.callbacks,c=>c!==e),i&&(this.shadowRootCallbacks=csArray.prototype.filter.call(this.shadowRootCallbacks,c=>c!==i)),this.callbacks.length===0&&(this.callbacks=[],this.shadowRootCallbacks=[],s.shadowRootFilters=[],(r=this.shadowRootObserver)===null||r===void 0||r.disconnect(),(a=this.mutationObserver)===null||a===void 0||a.disconnect(),this.observedTargets.clear(),this.started=!1)}constructor(e,i){this.A=e,this.Pd=i;let r=nn(a=>e(a,this),!0);this.A=os("DocumentMutationObserver:callback",a=>{K(a,c=>r.push(c))})}get shadowRoots(){var e,i;return(i=(e=s.shadowRootObserver)===null||e===void 0?void 0:e.shadowRoots)!==null&&i!==void 0?i:[]}takeRecords(){var e;let i=(e=s.mutationObserver)===null||e===void 0?void 0:e.takeRecords(),r=s.shadowRootObserver.takeRecords();return i!=null&&i.length&&r.length?Oh(i,r):i!=null?i:r}observe(){s.observe(this.A,this.Pd)}disconnect(){s.disconnect(this.A,this.Pd)}}return s=n,n.callbacks=[],n.shadowRootCallbacks=[],n.started=!1,n.observedTargets=new Set,n.shadowRootFilters=[],n.mutationCallback=t=>{Dt.mutations.count.increase(t.length),csArray.prototype.forEach.call(s.callbacks,e=>e(t,s.mutationObserver))},n.onShadowRoot=(t,e)=>{K(s.shadowRootCallbacks,i=>i(t,e)),e!=="removed"?s.Cc(t):s.disconnectShadowRoot(t)},n.isRefreshing=!1,ct([U()],n.prototype,"observe",null),ct([U()],n.prototype,"disconnect",null),n})(),wn;function qs(s){if(wn||(wn=document.createElement("div")),!(!!s&&z(s)))return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1;try{return Qt.call(wn,s),!0}catch{return rt.warn(`isValidSelector: invalid selector provided '${s}'`),!1}}function tr(s,n){if(_o)return _o.call(s,n);let t=s;do{if(Qt.call(t,n))return t;t=t==null?void 0:t.parentElement}while(t!==null&&t.nodeType===1);return null}var Os=(()=>{class s{get selectors(){return this.Fe===""?null:this.Fe}constructor(t,e={closest:!1}){this.A=t,this.bt=e,this.Fe="",this.Kn=new sn,this.To=us(i=>{if(this.Fe==="")return;let r=[];for(let a of Pa(i,c=>c.addedNodes)){if(!(Qh(a)||this.bt.closest&&zi(a)))continue;let c=this.bt.closest?this.Qy(a,this.Fe):this.findMatchingElements(a,this.Fe);Eo(c,r)}r.length&&this.A(r,"added")},"SelectorObserver.processMutations"),this.Zy=(i,r)=>{if(this.Fe===""||r!=="added")return;let a=this.findMatchingElements(i,this.Fe);a.length&&this.A(a,"added")},this.z=new We(this.To,this.Zy)}observe(t){this.Fe===""?this.z.observe():this.Fe+=",",this.Fe+=t;let e=this.findMatchingElements(document,t);for(let i of this.z.shadowRoots){let r=this.findMatchingElements(i,t);Eo(r,e)}e.length&&(K(e,i=>{this.Kn.add(i)}),this.A(e,"initial"))}processPendingMutations(){this.To(this.z.takeRecords())}disconnect(){this.z.disconnect(),this.Kn.clear(),this.Fe=""}Qy(t,e){let i=[];if(zi(t)){if(t.parentElement){let r=tr(t.parentElement,e);r&&csArray.prototype.push.call(i,r)}return csArray.prototype.filter.call(i,r=>this.Kn.has(r)===!1)}else{if(ai(t)){let r=tr(t,e);if(r)return csArray.prototype.push.call(i,r),csArray.prototype.filter.call(i,a=>this.Kn.has(a)===!1)}return this.findMatchingElements(t,e)}}findMatchingElements(t,e){let i=ei(window.csquerySelectorAll[t.nodeType].call(t,e));return ot(t)&&Qt.call(t,e)&&csArray.prototype.push.call(i,t),csArray.prototype.filter.call(i,r=>this.Kn.has(r)===!1)}}return ct([U()],s.prototype,"observe",null),ct([U()],s.prototype,"disconnect",null),ct([Pt("SelectorObserver.findMatchingElements")],s.prototype,"findMatchingElements",null),s})();function Kd(){let s=csSymbol.for("propStore");return{getStore(n){return n[s]},get(n,t){let e=n[s];return e==null?void 0:e[t]},set(n,t,e){let i=n[s];i||(i={},n[s]=i),i[t]=e}}}var Ui=Kd(),W=(()=>{let s;return function(n){function t(l,u,m){var d;if(typeof Node!="undefined"&&l instanceof Node)Ui.set(l,u,m);else{let E=l;(d=E.props)!==null&&d!==void 0||(E.props={}),E.props[u]=m}}n.setProperty=t;function e(l,u){var m;return typeof Node!="undefined"&&l instanceof Node?Ui.get(l,u):(m=l.props)===null||m===void 0?void 0:m[u]}n.getProperty=e;function i(l){return typeof Node!="undefined"&&l instanceof Node?Ui.getStore(l):l.props}n.getProperties=i;function r(l,u){let m=null;return a(l,(d,E,y)=>u(d)&&(m=d)&&!!y()),m}n.findDescendant=r;function a(l,u){c(l,void 0,u)}n.traverse=a;function c(l,u,m){let d=!1;if(m(l,u,()=>d=!0),d)return;let y=l.shadowRoot;y&&c(y,l,m);let v=l.children;if(v!=null&&v.length){for(let C of v)if(C&&(c(C,l,m),d))break}}}(s||(s={})),s})(),k=(()=>{let s;return function(n){let t;(function(S){S[S.NotMasked=0]="NotMasked",S[S.Parent=1]="Parent",S[S.Child=2]="Child"})(t=n.MaskedElementState||(n.MaskedElementState={})),n.maskedProp="masked",n.maskedAttributeProp="maskedAttribute";function e(S){return Cs(S)&&"Attributes"in S&&"PIISelectors"in S?S.Attributes instanceof Array&&S.PIISelectors instanceof Array:!1}n.isSelectorUserInput=e;function i(S){if(!Cs(S)||S===null)throw new Error("Command misuse: setPIISelectors");return"Attributes"in S||(S.Attributes=[]),"PIISelectors"in S||(S.PIISelectors=[]),S}n.sanitizeSelectorUserInput=i;function r(S){var _;return(_=W.getProperty(S,n.maskedProp))!==null&&_!==void 0?_:{state:t.NotMasked}}n.getMaskedElementDetails=r;function a(S){var _;return(_=W.getProperty(S,n.maskedAttributeProp))!==null&&_!==void 0?_:{attributes:[]}}n.getMaskedAttributeDetails=a;function c(S){let _=W.getProperty(S,n.maskedProp);return(_==null?void 0:_.state)===t.Parent}n.isMaskedElement=c;function l(S){let _=W.getProperty(S,n.maskedProp);return(_==null?void 0:_.state)===t.Child}n.isMaskedElementChild=l;function u(S,_){let D=W.getProperty(S,n.maskedAttributeProp);return((D==null?void 0:D.attributes)==null?void 0:csArray.prototype.indexOf.call(D==null?void 0:D.attributes,_))>-1}n.isMaskedAttribute=u;function m(S,_){W.setProperty(S,n.maskedProp,_)}n.setMaskedElementProperty=m;function d(S){W.setProperty(S,n.maskedProp,void 0)}n.unsetMaskedElementProperty=d;function E(S,_){W.setProperty(S,n.maskedAttributeProp,_)}n.setMaskedAttributeProperty=E;function y(S,_){let D=csArray.prototype.filter.call(S.PIISelectors,x=>qs(x));_.elementSelector.length>0&&csArray.prototype.push.call(D,...csString.prototype.split.call(_.elementSelector,","));let O=I([...D]),b={elementSelector:csArray.prototype.join.call(O,","),attrSelector:_.attrSelector,attrSelectors:_.attrSelectors};return csArray.prototype.forEach.call(S.Attributes,x=>{x!=null&&x.attrName&&(x!=null&&x.selector)&&qs(x.selector)&&!v(b.attrSelectors,x)&&csArray.prototype.push.call(b.attrSelectors,x)}),b.attrSelector=C(b.attrSelectors),b}n.getComputedSelectorSettings=y;function v(S,_){return csArray.prototype.some.call(S,D=>D.selector===_.selector&&D.attrName===_.attrName)}function C(S){let _="";return csArray.prototype.forEach.call(S,D=>{let O=csString.prototype.split.call(D.selector,",");csArray.prototype.forEach.call(O,b=>{qs(b)&&(_&&(_+=","),_+=b)})}),_}function I(S){if(S.length<=1)return S;let _=[];for(let D of S){let O=csString.prototype.split.call(D,",");for(let b of O)csArray.prototype.indexOf.call(_,b)===-1&&csArray.prototype.push.call(_,b)}return _}}(s||(s={})),s})(),ae=(()=>{class s{constructor(){this.ae=[],this.isStarted=!1}produceEvent(t){var e;this.isStarted&&(t.timestamp=(e=t.timestamp)!==null&&e!==void 0?e:P.now(),t.timestamp==null&&(t.timestamp=P.now()),csArray.prototype.forEach.call(this.ae,i=>i(t)))}onStop(){}start(){this.isStarted||(this.isStarted=!0,this.onStart())}stop(){this.isStarted&&(this.isStarted=!1,this.onStop(),this.ae=[])}stopForInactivity(){this.isStarted&&(this.isStarted=!1,this.onStop())}subscribe(t){return csArray.prototype.push.call(this.ae,t),()=>{let e=csArray.prototype.indexOf.call(this.ae,t);csArray.prototype.splice.call(this.ae,e,1)}}}return s})(),sc=1,Ws=csSymbol("nodeIdentifier");function Jd(s=!1){s&&(sc=1),Ws=csSymbol("nodeIdentifier")}function Qd(s){return W.getProperty(s,Ws)}function et(s){let n=W.getProperty(s,Ws);return n!=null?n:(W.setProperty(s,Ws,sc++),W.getProperty(s,Ws))}var Zd=(()=>{class s extends ae{constructor(t){super(),this.j=null,this.bo=null,this.D=null,this.Ls=null,this.Od=["value","checked","src","data","alt"],this.Ao={state:k.MaskedElementState.Child},this.tE=e=>{for(let i of e){if(k.isMaskedElement(i.target)||k.isMaskedElementChild(i.target))for(let r=0;r<i.addedNodes.length;r+=1){let a=i.addedNodes[r];k.isMaskedElement(a)||k.isMaskedElementChild(a)||ot(a)&&this.Nd(a)}for(let r=0;r<i.removedNodes.length;r+=1){let a=i.removedNodes[r];pt.isConnected(a)||this.Md(a)}}},this.eE=t}setMaskedElementSettings(t){this.ms=t}startIdentifier(){this.isStarted||(this.isStarted=!0,this.onStart())}stopIdentifier(){return this.isStarted=!1,this.onStop()}start(){}stop(){}onStart(){var t,e,i,r;this.ms||(rt.error("maskedElementSettings not initialized","MaskedElementIdentifier.start"),this.ms={elementSelector:"",attrSelector:"",attrSelectors:[]});let{elementSelector:a,attrSelector:c,attrSelectors:l}=this.ms;(t=this.Ls)!==null&&t!==void 0||(this.Ls=this.sE()),a.length!==0&&((e=this.j)!==null&&e!==void 0||(this.j=this.iE()),this.j.observe(a)),c.length!==0&&((i=this.bo)!==null&&i!==void 0||(this.bo=this.nE(l)),this.bo.observe(c)),(r=this.D)!==null&&r!==void 0||(this.D=new We(this.tE,(u,m)=>m==="added"&&this.rE(u))),this.D.observe(),csSetTimeout(this.eE)}onStop(){var t,e,i;this.j&&(this.Md(document),this.j.disconnect()),(t=this.bo)===null||t===void 0||t.disconnect(),(e=this.D)===null||e===void 0||e.disconnect(),(i=this.Ls)===null||i===void 0||i.disconnect()}sE(){return window.ResizeObserver?new ResizeObserver(t=>{csArray.prototype.forEach.call(t,e=>{this.resizeObserverCallback(e)})}):null}iE(){return new Os(t=>{csArray.prototype.forEach.call(t,e=>{this.oE(e)?this.Nd(e):(this.aE(e),this.cE(e))})})}nE(t){return new Os(e=>{csArray.prototype.forEach.call(e,i=>this.lE(i,t))})}resizeObserverCallback(t){let e=t.target.getBoundingClientRect(),i=k.getMaskedElementDetails(t.target);if(i.state!==k.MaskedElementState.Parent||e.width===i.width&&e.height===i.height)return;let r={state:k.MaskedElementState.Parent,width:e.width,height:e.height};k.setMaskedElementProperty(t.target,r),this.produceEvent({type:"ResizeMaskedElement",target:et(t.target),width:e.width,height:e.height})}cE(t){!this.Ls||!ot(t)||Zi(t)||this.Ls.observe(t)}oE(t){let e=csNodeparentNode.apply(t);return e?k.isMaskedElement(e)||k.isMaskedElementChild(e):si(t)?k.isMaskedElement(t.host)||k.isMaskedElementChild(t.host):!1}rE(t){(k.isMaskedElement(t.host)||k.isMaskedElementChild(t.host))&&k.setMaskedElementProperty(t,this.Ao)}Md(t){Jt(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{k.unsetMaskedElementProperty(i)})}aE(t){let e=t.getBoundingClientRect(),i={state:k.MaskedElementState.Parent,width:e.width,height:e.height};k.setMaskedElementProperty(t,i),this.hE(t),Jt(t).visitAll(r=>r!=t&&k.setMaskedElementProperty(r,this.Ao))}Nd(t){k.setMaskedElementProperty(t,this.Ao),Jt(t).visitAll(e=>e!=t&&k.setMaskedElementProperty(e,this.Ao))}hE(t){var e;let i=(e=W.getProperty(t,k.maskedAttributeProp))!==null&&e!==void 0?e:{attributes:[]};for(let r=0;r<this.Od.length;r+=1){let a=this.Od[r];csArray.prototype.indexOf.call(i.attributes,a)===-1&&csArray.prototype.push.call(i.attributes,a)}i.attributes.length!==0&&k.setMaskedAttributeProperty(t,i)}lE(t,e){var i;let r=(i=W.getProperty(t,k.maskedAttributeProp))!==null&&i!==void 0?i:{attributes:[]};for(let a=0;a<t.attributes.length;a+=1){let c=t.attributes[a].name;csArray.prototype.indexOf.call(r.attributes,c)===-1&&csArray.prototype.some.call(e,l=>csString.prototype.indexOf.call(l.attrName,c)>-1&&Qt.call(t,l.selector))&&csArray.prototype.push.call(r.attributes,c)}r.attributes.length!==0&&k.setMaskedAttributeProperty(t,r)}}return ye([U()],s.prototype,"resizeObserverCallback",null),s})(),fe=(()=>{let s;return function(n){n.ANONYMIZED_TEXT_STATUS_PROP="anonymizationStatus",n.WHITELISTED_STATUS="whitelisted";function t(r){return W.getProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP)===n.WHITELISTED_STATUS}n.isWhitelistedElement=t;function e(r){W.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,n.WHITELISTED_STATUS)}n.whitelistElement=e;function i(r){W.setProperty(r,n.ANONYMIZED_TEXT_STATUS_PROP,void 0)}n.removeWhitelistElement=i}(s||(s={})),s})(),tp=(()=>{class s{constructor(){this.Ic=0,this.V=!1,this.kd="data-cs-capture",this.Vs=t=>{for(let e of t){if(fe.isWhitelistedElement(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];fe.isWhitelistedElement(r)||ot(r)&&this.Dd(r)}for(let i=0;i<e.removedNodes.length;i+=1){let r=e.removedNodes[i];pt.isConnected(r)||this.xd(r)}}}}start(){this.Ic++,!this.V&&(this.V=!0,this.uE())}uE(){this.j||(this.j=new Os(e=>K(e,i=>this.Dd(i))));let t=this.Pc?`[${this.kd}], ${this.Pc}`:`[${this.kd}]`;this.j.observe(t),this.D||(this.D=new We(this.Vs,(e,i)=>i==="added"&&this.dE(e))),this.D.observe()}stop(){this.V&&(this.Ic--,this.Ic===0&&(this.V=!1,this.pE()))}pE(){this.j&&(this.xd(document),this.j.disconnect()),this.D&&this.D.disconnect()}setWhitelistedElementsSelector(t,e=!0){if(qs(t))this.Pc=t;else if(e)throw new Error("Command misuse: setCapturedElementsSelector")}getWhitelistedElementsSelector(){return this.Pc}Dd(t){Jt(t).visitAll(e=>{fe.whitelistElement(e)})}dE(t){fe.isWhitelistedElement(t.host)&&fe.whitelistElement(t)}xd(t){Jt(t,NodeFilter.SHOW_ELEMENT).visitAll(i=>{fe.removeWhitelistElement(i)})}}return s})(),Ve=(()=>{let s;return function(n){n.EDITABLE_NODE_PROP="editableNode";function t(r){return W.getProperty(r,n.EDITABLE_NODE_PROP)===!0}n.isEditableNode=t;function e(r){W.setProperty(r,n.EDITABLE_NODE_PROP,!0)}n.markEditableNode=e;function i(r){W.setProperty(r,n.EDITABLE_NODE_PROP,void 0)}n.unmarkEditableNode=i}(s||(s={})),s})(),ep=(()=>{class s{constructor(){this.j=null,this.D=null,this.V=!1,this.Vs=t=>{for(let e of t)if(Ve.isEditableNode(e.target))for(let i=0;i<e.addedNodes.length;i+=1){let r=e.addedNodes[i];if(!Ve.isEditableNode(r)){if(zi(r)||Fh(r)){Ve.markEditableNode(r);continue}ot(r)&&this.Ld(r)}}}}start(){this.V||(this.V=!0,this.j=new Os(t=>K(t,e=>{this.Ld(e)})),this.j.observe("[contenteditable]"),this.D=new We(this.Vs,(t,e)=>e==="added"&&this.fE(t)),this.D.observe())}stop(){var t,e;this.V&&(this.V=!1,(t=this.j)===null||t===void 0||t.disconnect(),this.j=null,(e=this.D)===null||e===void 0||e.disconnect(),this.D=null)}Ld(t){Jt(t).visitAll(e=>{Ve.markEditableNode(e)})}fE(t){Ve.isEditableNode(t.host)&&Ve.markEditableNode(t)}}return s})(),sp=(()=>{let s;return function(n){n.ENCRYPTED_NODE_PROP="toEncrypt";function t(r){return W.getProperty(r,n.ENCRYPTED_NODE_PROP)===!0}n.shouldEncrypt=t;function e(r){W.setProperty(r,n.ENCRYPTED_NODE_PROP,!0)}n.markEncryptedNode=e;function i(r){W.setProperty(r,n.ENCRYPTED_NODE_PROP,void 0)}n.unmarkEncryptedNode=i}(s||(s={})),s})();var ip="spki",ko="RSA-OAEP",np="SHA-256",Do="AES-CTR",rp="SHA-1",xo=190,Ys=(()=>{let s;return function(n){var t;let e=!1,i=null,r,a=typeof TextEncoder!="undefined"?new TextEncoder:null,c;n.crypto=(t=tt.crypto)===null||t===void 0?void 0:t.subtle,n.MAX_DIGEST_INPUT_SIZE=100;function l(){return!e}n.isKeyImported=l;function u(){return i}n.getCryptoKey=u;function m(){var O,b;return((b=(O=tt.self.crypto)===null||O===void 0?void 0:O.subtle)===null||b===void 0?void 0:b.encrypt)!=null&&tt.self.CryptoKey!=null}n.isSupported=m;async function d(O){r=n.crypto.importKey(ip,Ta(O),{name:ko,hash:np},!1,["encrypt"]).catch(()=>(e=!0,null)),i=await r,r=void 0,i||rt.warn(`Fail to import public key '${O}'`)}n.importKey=d;async function E(O){if(!m()||e)return null;await r;let b=pr(O);b.byteLength>xo&&(b=b.slice(0,xo));try{let x=await n.crypto.encrypt({name:ko},i,b);return ho(x)}catch{return null}}n.asymmetricEncrypt=E;async function y(O,b){if(!m()||e)return null;let x={counter:b.initializationVector,name:Do,length:64},J=a.encode(O);try{let at=await n.crypto.encrypt(x,b.cryptoKey,J);return ho(at)}catch{return null}}n.symmetricEncrypt=y;async function v(O){let b=await C(O);if(!b)throw new Error("Export secret failed");let x=await E(b);if(!x)throw new Error("Encrypt secret failed");return x}n.encryptSecret=v;async function C(O){var b;if(!m())return null;try{return(b=(await n.crypto.exportKey("jwk",O)).k)!==null&&b!==void 0?b:null}catch{return null}}async function I(){if(!m()||e)return null;try{return{cryptoKey:await n.crypto.generateKey({name:Do,length:128},!0,["encrypt","decrypt"]),initializationVector:tt.crypto.getRandomValues(new Uint8Array(16))}}catch{return null}}n.generateSymmetricKey=I;function S(O){c=O}n.setDigestSalt=S;async function _(O){O=csString.prototype.toLocaleLowerCase.call(csString.prototype.trim.call(O)),c&&(O=`${O}:${c}`);let b=a.encode(O);try{let x=await n.crypto.digest(rp,b);return $n(x)}catch{return null}}n.digest=_;function D(){return tt.crypto.subtle.generateKey({name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:"SHA-256"},!0,["encrypt","decrypt"])}n.generateKeyPair=D}(s||(s={})),s})(),de=(()=>{let s;return function(n){n.REGEX="regex",n.START="start",n.NOT_START="not-start",n.END="end",n.NOT_END="not-end",n.CONTAIN="contain",n.NOT_CONTAIN="not-contain",n.EXACT="exact",n.NOT_EXACT="not-exact"}(s||(s={})),s})(),Ne=(()=>{let s;return function(n){n.START="start",n.NOT_START="not-start",n.END="end",n.NOT_END="not-end",n.CONTAIN="contain",n.NOT_CONTAIN="not-contain",n.EXACT="exact",n.NOT_EXACT="not-exact"}(s||(s={})),s})(),ts=(()=>{let s;return function(n){n.replayRecordingUnmaskedUrlRegex="replayRecordingUnmaskedUrlRegex",n.replayRecordingMaskedUrlRegex="replayRecordingMaskedUrlRegex",n.replayRecordingUnmaskedUrlRegexRules="replayRecordingUnmaskedUrlRegexRules",n.replayRecordingMaskedUrlRegexRules="replayRecordingMaskedUrlRegexRules"}(s||(s={})),s})(),ic=(()=>{class s{constructor(){this.Nc=[]}setRegexRules(t){this.Nc=csArray.prototype.filter.call(csArray.prototype.map.call(t,e=>this.mE(e)),e=>e!==null)}evaluateUrl(t){return csArray.prototype.some.call(this.Nc,e=>this.Ud(t,e))}getMatchingRules(t){return csArray.prototype.filter.call(this.Nc,e=>this.Ud(t,e))}Ud(t,e){var i,r;let a=this.yE(t,e);return!this.EE(e)||!this.SE(e)?!1:!!(e!=null&&e.notOperator?!(!((i=e.regex)===null||i===void 0)&&i.test(a)):!((r=e.regex)===null||r===void 0)&&r.test(a))}EE(t){let e=new csDate,i=t.startDate&&t.startDate>e,r=t.endDate&&t.endDate<e;return!i&&!r}SE(t){let e=t.samplingRate!==100,i=e&&as.boolean(t.samplingRate);return!e||i}Ro(t){return!xt(t,"http://")&&!xt(t,"https://")?`https://${t}`:t}yE(t,e){let i=Ya(this.Ro(t));return i?e.ignoreQueryParams&&e.ignoreURIFragments?`${i.origin}${i.pathname}`:e.ignoreQueryParams?`${i.origin}${i.pathname}${i.hash}`:e.ignoreURIFragments?`${i.origin}${i.pathname}${i.search}`:t:t}Co(t){return t!=null&&t.ignoreCaseSensitivity?"i":""}mE(t){let e=null,i=!1;switch(t.operator){case Ne.NOT_START:case de.NOT_START:i=!0;case Ne.START:case de.START:e=new csRegExp(`^${t.value}`,this.Co(t));break;case Ne.NOT_END:case de.NOT_END:i=!0;case Ne.END:case de.END:e=new csRegExp(`${t.value}$`,this.Co(t));break;case Ne.NOT_CONTAIN:case de.NOT_CONTAIN:i=!0;case Ne.CONTAIN:case de.CONTAIN:case de.REGEX:e=new csRegExp(`${t.value}`,this.Co(t));break;case Ne.NOT_EXACT:case de.NOT_EXACT:i=!0;case Ne.EXACT:case de.EXACT:e=new csRegExp(`^${t.value}$`,this.Co(t));break;default:rt.warn(`compileRegexRule, unknown operator: ${t.operator}`)}if(e===null)return null;let r=t.startDate?this.jd(t.startDate):void 0,a=t.endDate?this.jd(t.endDate):void 0;return{regex:e,ignoreQueryParams:t.ignoreQueryParams,ignoreURIFragments:t.ignoreURIFragments,notOperator:i,maskMedia:t.maskMedia,samplingRate:t.samplingRate!==void 0?t.samplingRate:100,startDate:r,endDate:a}}jd(t){let e=new csDate(t);return isNaN(e.getTime())?void 0:e}}return s})(),op=(()=>{class s{constructor(t,e,i,r){this.ce=t,this.Jn=e,this.Qn=i,this.Tt=r}init(){this.vE()}shouldMaskNonTextElements(){if(this.ce.anonymisationMethod!==ts.replayRecordingMaskedUrlRegexRules)return!1;if(this.ce.isSMB)return this.shouldUseAnonymization();let t=this.Qn.getMatchingRules(this.Jn.getAnonymizedUrl());return csArray.prototype.some.call(t,e=>e.maskMedia)}shouldUseAnonymization(){if(this.Tt&&!this.Tt.isReplayUnanonymizedAllowedByConsent()){switch(this.ce.anonymisationMethod){case null:case ts.replayRecordingUnmaskedUrlRegex:return!(this.ce.replayRecordingUnmaskedUrlRegex&&this.ce.replayRecordingUnmaskedUrlRegex.test(this.Jn.getAnonymizedUrl()));case ts.replayRecordingUnmaskedUrlRegexRules:return!this.Qn.evaluateUrl(this.Jn.getAnonymizedUrl())}return!0}else{switch(this.ce.anonymisationMethod){case null:case ts.replayRecordingMaskedUrlRegex:return!!(this.ce.replayRecordingMaskedUrlRegex&&this.ce.replayRecordingMaskedUrlRegex.test(this.Jn.getAnonymizedUrl()));case ts.replayRecordingMaskedUrlRegexRules:return this.Qn.evaluateUrl(this.Jn.getAnonymizedUrl())}return!1}}vE(){this.ce.anonymisationMethod===ts.replayRecordingMaskedUrlRegexRules&&this.ce.replayRecordingMaskedUrlRegexRules?this.Qn.setRegexRules(this.ce.replayRecordingMaskedUrlRegexRules):this.ce.anonymisationMethod===ts.replayRecordingUnmaskedUrlRegexRules&&this.ce.replayRecordingUnmaskedUrlRegexRules&&this.Qn.setRegexRules(this.ce.replayRecordingUnmaskedUrlRegexRules)}}return s})();function ap(s){return s.nodeType===1}function ft(s){let n=csEventtarget.apply(s);return n&&ap(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}function cp(s){return s.composedPath&&Object.defineProperty(s,"__csOriginalTarget",{value:s.composedPath()[0],writable:!1,enumerable:!1}),s}function lp(){return(s,n,t)=>{let e=t.value;return e&&(t.value=function(i){if(ft(i)===csEventtarget.apply(i))return e.call(this,i)}),t}}var gt=(()=>{let s;return function(n){n[n.TAP=0]="TAP",n[n.LONG_PRESS=1]="LONG_PRESS",n[n.DRAG=2]="DRAG",n[n.FLICK=3]="FLICK",n[n.PINCH_IN=4]="PINCH_IN",n[n.PINCH_OUT=5]="PINCH_OUT"}(s||(s={})),s})(),Pi=(()=>{let s;return function(n){n[n.UP=1]="UP",n[n.DOWN=2]="DOWN",n[n.LEFT=3]="LEFT",n[n.RIGHT=4]="RIGHT"}(s||(s={})),s})(),hp=(()=>{class s{compute(t,e){let i=this.Us(e.x)-this.Us(t.x),r=this.Us(e.y)-this.Us(t.y),a=e.time-t.time;return{duration:a,distance:this.Hd(i,r),direction:this._E(i,r),velocity:this.wE(i,r,a)}}computePinchMetrics(t,e){let i=this.Us(e.x)-this.Us(t.x),r=this.Us(e.y)-this.Us(t.y);return{duration:e.time-t.time,distance:this.Hd(i,r)}}getScale(t,e){return Math.abs(e/t-1)}Us(t){return t/window.devicePixelRatio}Hd(t,e){return Math.round(Math.sqrt(t*t+e*e))}wE(t,e,i){let r=i/1e3,a=t/r,c=e/r;return Math.round(Math.abs(a)+Math.abs(c))}_E(t,e){return Math.abs(t)>Math.abs(e)?t>0?Pi.RIGHT:Pi.LEFT:e>0?Pi.DOWN:Pi.UP}}return s})(),nc=typeof performance!="undefined"&&!!performance.now,Lo=nc?()=>performance.now():()=>csDate.now(),up=(()=>{var s;return nc?(s=performance.timing)===null||s===void 0?void 0:s.navigationStart:0})(),Oi={now(){return Math.round(Lo()+up)},elapsed(){return Lo()}};function Vo(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var dp=1e3,pp=100,fp=.1,er=(()=>{class s{constructor(){this.Ht={},this.Mc=()=>{},this.Io=new hp,this.Te()}static isGestureDetectionSupported(){return typeof devicePixelRatio!="undefined"}onGesture(t){this.Mc=t}isValidTouchEvent(t){return"touches"in t&&"changedTouches"in t}processActionDown(t){if(!this.TE(t))return;this.bE(t)&&this.Te();let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:Oi.now()};if(t.touches.length===1)this.Ht.startPinchTime=e.time,this.Ht.firstTouch=e;else if(t.touches.length===2&&(this.Ht.secondTouch={x:t.touches[1].clientX,y:t.touches[1].clientY,time:Oi.now()},this.Ht.firstTouch&&this.Ht.secondTouch)){let i=this.Io.computePinchMetrics(this.Ht.firstTouch,this.Ht.secondTouch);this.Yi=i.distance}csArray.prototype.push.call(this.Zn,e),this.Po=ft(t)}processActionMove(){this.kc=!0}processActionUp(t){if(this.AE(t)){if(csArray.prototype.push.call(this.Zn,{x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Oi.now()}),this.RE(t)&&this.Ht.startPinchTime){let e={x:t.touches[0].clientX,y:t.touches[0].clientY,time:this.Ht.startPinchTime},i={x:t.changedTouches[0].clientX,y:t.changedTouches[0].clientY,time:Oi.now()};this.Ht.firstTouch&&(this.Ht.firstTouch=e,this.Ht.secondTouch=i),this.CE(t)}this.Yi||this.IE()&&this.PE(t)}}Te(){this.Zn=[],this.Po=null,this.kc=!1,this.Yi=null,this.tr=!0}PE(t){let e=this.Io.compute(this.Zn[0],this.Zn[1]);this.tr=t.isTrusted;let i=this.kc?this.OE(e):this.NE(e);if(this.ME(i.type,t.changedTouches)){let r=t.changedTouches[0];i.pageX=Vo(r.pageX,1),i.pageY=Vo(r.pageY,1)}this.Mc(i,t)}CE(t){if(!(this.Ht.firstTouch&&this.Ht.secondTouch))return;let e=this.Io.computePinchMetrics(this.Ht.firstTouch,this.Ht.secondTouch);this.tr=t.isTrusted;let i=this.kE(e);i&&this.Mc(i,t)}kE(t){return!this.Yi||this.Io.getScale(this.Yi,t.distance)<fp?void 0:{type:this.Yi>t.distance?gt.PINCH_IN:gt.PINCH_OUT,target:this.Po,distance:t.distance,isTrusted:this.tr}}OE(t){return{type:t.velocity<pp?gt.DRAG:gt.FLICK,target:this.Po,velocity:t.velocity,distance:t.distance,direction:t.direction,isTrusted:this.tr}}NE(t){return{type:t.duration<dp?gt.TAP:gt.LONG_PRESS,target:this.Po,isTrusted:this.tr}}ME(t,e){return t===gt.TAP&&e&&e.length===1}bE(t){return t.touches.length===1}IE(){return this.Zn.length===2}TE(t){return t.touches.length>0}AE(t){return t.changedTouches.length>0}RE(t){return this.kc&&!!this.Yi&&t.changedTouches.length===1&&t.touches.length===1}}return s})(),rc=(()=>{class s{constructor(){this.subscriptions={}}subscribe(t,e){this.subscriptions[t]=e,Object.keys(this.subscriptions).length===1&&this.onStartTracking()}unsubscribe(t){delete this.subscriptions[t],Object.keys(this.subscriptions).length===0&&this.onStopTracking()}}return s})(),oc=!0,ji=csSymbol("safe"),Uo=csSymbol("task");function Ct(s,n=oc){var t;(t=s[ji])!==null&&t!==void 0||(s[ji]=function(e){let i=arguments;hs(()=>(e[Uo]=zt,s.listener.apply(s.boundElement,i)),ne.EventListener,e[Uo])}),s.boundElement.addEventListener(s.type,s[ji],n)}function It(s,n=oc){s.boundElement.removeEventListener(s.type,s[ji],n)}var gp=(()=>{class s extends rc{constructor(t){super(),this.DE=t,this.js=[{boundElement:document,type:"touchstart",listener:e=>this.J(e)},{boundElement:document,type:"touchmove",listener:e=>this.J(e)},{boundElement:document,type:"touchend",listener:e=>this.J(e)}],this.er=new er,this.er.onGesture((e,i)=>this.Dc(e,i))}Dc(t,e){for(let i in this.subscriptions){let r=this.subscriptions[i];r(t,e)}}onStartTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.js,t=>Ct(t))}onStopTracking(){this.canDetectGesture()&&csArray.prototype.forEach.call(this.js,t=>It(t))}canDetectGesture(){return typeof devicePixelRatio!="undefined"}J(t){this.DE.tryToExecute("process gesture event",()=>{if(this.er.isValidTouchEvent(t))switch(t.type){case"touchstart":this.er.processActionDown(t);break;case"touchmove":this.er.processActionMove();break;case"touchend":this.er.processActionUp(t);break}})()}static isSwipe(t){return t.type===gt.FLICK||t.type===gt.DRAG}}return s})();var Ot=(()=>{class s{constructor(){this._isStarted=!1}get isStarted(){return this._isStarted}start(...t){this._isStarted||(this._isStarted=!0,this.onStart(...t))}stop(){this._isStarted&&(this._isStarted=!1,this.onStop())}restart(){this.stop(),this.start()}}return s})();var cs;(function(s){s.ContentSquare="CONTENTSQUARE",s.LoadedByClicktale="LOADED_BY_CLICKTALE",s.LoadClicktalePtc="LOAD_CLICKTALE_PTC",s.DualCollectionReview="DUAL_COLLECTION_REVIEW",s.DualCollection="DUAL_COLLECTION",s.ContentSquareTagClickTaleEndpoints="CONTENTSQUARE_TAG_CLICKTALE_ENDPOINTS"})(cs||(cs={}));function ac(s){return s.tagDeploymentMode===cs.DualCollectionReview||s.tagDeploymentMode===cs.DualCollection}function mp(s){return ac(s)||s.tagDeploymentMode===cs.LoadClicktalePtc}var jo=(()=>{let s;return function(n){function t(){return window.ClickTaleIsRecording&&window.ClickTaleIsRecording()}n.isRecording=t;function e(){window.ClickTaleStop&&window.ClickTaleStop()}n.stopRecording=e;function i(c){window.ClickTaleLogicalWithUploadPage&&window.ClickTaleLogicalWithUploadPage(c)}n.triggerLogicalPageView=i;function r(c){window.ClickTaleEvent&&window.ClickTaleEvent(c)}n.sendPageEvent=r;function a(c){window.ClickTaleEventTrigger&&window.ClickTaleEventTrigger(c)}n.sendEventTriggerRecording=a}(s||(s={})),s})();var yp=(()=>{class s{constructor(t){this.ft=t}on(t,e){return i=>{this.ft.hasValidEventTarget(i)&&this.sS(i,t)&&e(i)}}sS(t,e){let i=ft(t);return Qt.call(i,e)}isMatchesSelectorSupported(){return!!Qt}}return s})(),Ep=(()=>{class s extends Ot{constructor(){super(),this.qd=0}onStart(){F.isPerfLoggingActive()&&(this.ir=window.csSetInterval(()=>this.Wd(),s.iS))}onStop(){F.isPerfLoggingActive()&&(this.Wd(),csClearInterval(this.ir))}Wd(){this.qd>=s.nS||G.counters.methodPerformance.flush()&&this.qd++}}return s.iS=5e3,s.nS=5,s})(),Sp=(()=>{class s{constructor(){}init(){this.Yd=new Ep}onStartTracking(){this.Yd.start()}onOptout(){this.Yd.stop()}}return s})();var vp=s=>{let n=s*60*1e3;return`${Math.floor(csDate.now()/n)}`},_p=5e3,wp=(()=>{class s extends za{constructor(t,e,i){super(t,e),this.Ki=null,this.lS=(i==null?void 0:i.type)||"json",this.Jd=i==null?void 0:i.cacheMinutes,this.qn=i==null?void 0:i.timeout}onLoad(t){this.Wi=t}onError(t){this.Gn=t}onTimeout(t,e){this.mi=t,this.qn=e}send(){csArray.prototype.forEach.call(this.beforeRequestCallbacks,r=>r());let t=this.retrieveParameters();this.hc(t);let e=ii.toQuery(t),i=`${this.domainUri}${this.path?`/${this.path}`:""}?${e}`;this.hS(i,this.lS)}abort(){this.Ki&&(this.Ki.abort(),this.Ki=null)}isInProgress(){return this.Ki!==null}hS(t,e){var i;let r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onerror=()=>{var a;return(a=this.Gn)===null||a===void 0?void 0:a.call(this,r)},r.ontimeout=()=>{var a;return(a=this.mi)===null||a===void 0?void 0:a.call(this,r)},r.onload=()=>{var a,c;r.status>=200&&r.status<400?((a=this.Wi)===null||a===void 0||a.call(this,this.uS(r,e)?r.response:r.responseText),csArray.prototype.forEach.call(this.afterRequestCallbacks,l=>l())):(c=this.Gn)===null||c===void 0||c.call(this,r)},r.onloadend=()=>{this.Ki=null},r.timeout=(i=this.qn)!==null&&i!==void 0?i:_p,this.Ki=r,r.send()}uS(t,e){let i=t.getResponseHeader("Content-Type");return i===null?e==="json":csString.prototype.indexOf.call(csString.prototype.toLowerCase.call(i),"json")>0}hc(t){let e;this.Jd?e=`${vp(this.Jd)}`:e=csString.prototype.slice.call(`${Math.random()}`,2,8),t.r=e}}return s})();var ni={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11};var Ho=new Map,Tn=!ci&&document.implementation.createHTMLDocument("");function cc(s){var n,t;return(t=(n=s.sheet)===null||n===void 0?void 0:n.href)!==null&&t!==void 0?t:s.getAttribute("href")}function Tp(s){if(!Ji(s))return null;let n=lc(s);if(n===null||n.length===0)return null;let t="";if(Fn(s.textContent))K(n,e=>t+=e.cssText);else{let e=bp(s);if(e===n.length||e>n.length)return null;let i=new csArray(n.length-e);for(let r=e,a=0;r<n.length;r+=1,a+=1)i[a]=n[r];K(i,r=>t+=r.cssText)}return t}function bp(s){if(!Tn)return 0;let n=Ho.get(s.textContent);if(n)return n;let t=s.cloneNode(!0);t.textContent=s.textContent,Tn.head.appendChild(t);let e=lc(t);return n=e?e.length:0,Ho.set(s.textContent,n),Tn.head.removeChild(t),n}function lc(s){try{if(s.disabled)return null;let n=s.sheet;return n?n.cssRules||n.rules:null}catch(n){if(n.name!=="SecurityError"&&n.name!=="InvalidAccessError")throw n;return null}}var zs=s=>s instanceof HTMLFormElement?"form":s.localName;var ds=(()=>{class s{constructor(t){this.csId=et(t),this.props=Ui.getStore(t)}}return s})(),hc=(()=>{class s extends ds{constructor(t){super(t),this.nodeType=3,this.data=t.data}}return s})(),Ts=(()=>{class s extends ds{constructor(t){var e,i,r;super(t),this.attributes=[],this.nodeType=ni.ELEMENT_NODE,this.localName=zs(t),this.namespaceURI=(e=t.namespaceURI)!==null&&e!==void 0?e:void 0,this.children=[];let a=Tp(t);if(a){this.children=new csArray(csNodechildNodes.apply(t).length);let c=document.createTextNode(a),l=new hc(c);csArray.prototype.push.call(this.children,l)}Ms(t)&&W.setProperty(this,"SVG",!0),(Ji(t)||yr(t))&&(this.disabledSheet=(r=(i=t.sheet)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:!1)}static isElement(t){return t.nodeType===ni.ELEMENT_NODE}static getAttribute(t,e){return He(t.attributes,i=>i.name===e)}static getAttributeValue(t,e){var i;return(i=this.getAttribute(t,e))===null||i===void 0?void 0:i.value}}return s})(),Ap=(()=>{class s extends ds{constructor(t){super(t),this.nodeType=4,this.data=t.data}}return s})(),Rp=(()=>{class s extends ds{constructor(t){super(t),this.nodeType=8,this.data=t.data}}return s})(),Cp=(()=>{class s extends ds{constructor(t){super(t),this.nodeType=10,this.name=t.name,this.publicId=t.publicId,this.systemId=t.systemId}}return s})(),Ip=(()=>{class s extends ds{constructor(t){super(t),this.nodeType=9,this.baseURI=s.getBaseURI(t),this.children=[]}static getBaseURI(t){let e=t.baseURI;if(e==null){let i=t.getElementsByTagName("base");e=i.length!==0?i[0].href:t.URL}return e}}return s})(),Pp=(()=>{class s extends ds{constructor(t){super(t),this.nodeType=11,this.mode=t.mode,this.children=[]}}return s})(),Op=(()=>{class s{constructor(t,e,i){var r;typeof t=="string"?(this.name=t,this.value=e,this.namespaceURI=i!=null?i:""):(this.name=t.name,this.value=t.value,this.namespaceURI=(r=t.namespaceURI)!==null&&r!==void 0?r:"")}static create(t){let e=t.attributes,i=new csArray(e.length);for(let r=0;r<i.length;r++){let a=e[r];i[r]=new s(a.name,a.value,a.namespaceURI),a.name==="href"&&yr(t)&&(i[r].value=cc(t))}return i}}return s})(),Bo={workTime:40,async:!0,initialDOM:!0};var Xs=csSymbol("InitialDom"),Fo=csSymbol.for("ignoreNextSerialization");function uc(s){return s[Fo]?(delete s[Fo],!0):!1}function Np(s=Bo){return function(t,e){var i;(i=s.workTime)!==null&&i!==void 0||(s.workTime=Bo.workTime);let r=os("serialize:callback",E=>e(E)),a=new hi,c=(E,y)=>{E.hasChildNodes()&&a.push({node:E,serializedNode:y});let v=E instanceof Element&&csElementshadowRoot.apply(E);if(v){let C=y.shadowRoot=Ks(v);s.async&&s.initialDOM&&W.setProperty(v,Xs,!0),c(v,C)}},l,u=!0,m=8,d=os("work",()=>{var E;if(u)l=Ks(t),s.async&&s.initialDOM&&W.setProperty(t,Xs,!0),c(t,l),u=!1;else if(a.isEmpty)return;let y=Dp(100);for(;!a.isEmpty;){if(s.async&&y.elapsed()>=s.workTime){--m<=0&&csSetTimeout(d);return}let{node:v,serializedNode:C}=a.pop(),I=(E=C.children)!==null&&E!==void 0?E:[];if(Zi(v))continue;let S=0;for(let _=csNodefirstChild.apply(v);_;_=csNodenextSibling.apply(_)){if(uc(_))continue;let D=Ks(_);s.async&&s.initialDOM&&W.setProperty(_,Xs,!0),I[S++]=D,c(_,D)}}s.async?csSetTimeout(()=>r(l)):e(l)});if(!s.async)s.workTime=1/0,d();else for(let E=0;E<m;E++)csSetTimeout(d,1)}}function Mp(s){let n=Ks(s),t=n;if(Zi(s))return n;let e=0;for(let r=csNodefirstChild.apply(s);r;r=csNodenextSibling.apply(r))uc(r)||(t.children[e++]=sr(r));let i=s.shadowRoot;return i&&(t.shadowRoot=sr(i)),n}var sr=us(Mp,"serializeSync");function Ks(s){let n,t;switch(s.nodeType){case 1:t=n=new Ts(s),n.attributes=xp(s);break;case 3:t=new hc(s);break;case 4:t=new Ap(s);break;case 8:t=new Rp(s);break;case 10:t=new Cp(s);break;case 9:t=new Ip(s);break;case 11:t=new Pp(s);break;default:throw new Error("Node type not supported: "+s.nodeType)}return t}function kp(){Xs=csSymbol("InitialDom")}function Dp(s){if(s<1)throw new Error("Precision should be >= 1");let n=0,t=P.elapsed();return{started:t,elapsed(){return++n%s===0&&(t=P.elapsed()),t-this.started}}}function xp(s){return Zi(s)?[]:Op.create(s)}var Lp=/[\u4E00-\u9FFF]|[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]/g,Vp="\uFF41",Up=/[^ａ\s]/g,jp="a";function bn(s){let n=csString.prototype.replace.call(s,Lp,Vp);return csString.prototype.replace.call(n,Up,jp)}var Hp=(()=>{class s{constructor(t,e,i,r=null,a=!1){this.Je=t,this.pS=e,this.N=i,this.Uo=r,this.fS=a,this.gS=Fa(this.pS)}sanitize(t,e){return W.traverse(t,(i,r)=>{if(i.anonymized=this.Je,i.nodeType===ni.TEXT_NODE){let a=i,{anonymizedValue:c,withAnonymization:l}=this.getAnonymizedValue(a.data,r?r==null?void 0:r.localName:e==null?void 0:e.targetLocalName,r?W.getProperties(r):e==null?void 0:e.targetProps);i.anonymized=l,a.data=c;return}if(Ts.isElement(i))return this.mS(i);if(i.nodeType===ni.CDATA_SECTION_NODE){let a=i;a.data=this.Je?bn(a.data):this.N.checkAndAnonymizePII(a.data,this.Uo);return}}),t}setAnonymization(t){this.Je=t}getAnonymizedValue(t,e,i){if(e==="style")return{anonymizedValue:t,withAnonymization:!1};let r=(i==null?void 0:i[fe.ANONYMIZED_TEXT_STATUS_PROP])===fe.WHITELISTED_STATUS;return this.Je&&!r?{anonymizedValue:bn(t),withAnonymization:!0}:{anonymizedValue:this.N.checkAndAnonymizePII(t,this.Uo),withAnonymization:!1}}mS(t){if(W.getProperty(t,"SVG"))return;let e=He(t.attributes,r=>r.name==="type"),i=e==null?void 0:e.value;t.attributes=csArray.prototype.map.call(t.attributes,r=>(r.anonymized=this.Je,r.value=this.getAnonymizedAttributeValue(t.localName,r.name,r.value,i),r))}getAnonymizedAttributeValue(t,e,i,r){if(this.yS(t,e,r))return i;if(ku(e))return Du(t,e,i)?this.N.anonymizePII(i):i;let a=this.fS&&e==="placeholder";return this.Je&&(xu(t,e,r)||a)?bn(i):this.Je?"":this.N.checkAndAnonymizePII(i,null)}yS(t,e,i){return Mu(t,e,i)||this.gS.has(e)}}return s})(),Bp=(()=>{let s;return function(n){function t(){let i=navigator.userAgent+navigator.language+navigator.platform,r=csString.prototype.slice.call(e(i).toString(16),-4),a=new csDate().getTime(),c="xxxxxxxx-hhhh-axxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,l=>{let u=(a+Math.random()*16)%16|0;return a=Math.floor(a/16),(l==="x"?u:u&7|8).toString(16)});return csString.prototype.replace.call(c,"hhhh",r)}n.generate=t;function e(i){let r=0;for(let a=0;a<i.length;a+=1)r=csString.prototype.charCodeAt.call(i,a)+(r<<6)+(r<<16)-r;return Math.abs(r)}}(s||(s={})),s})();var dc=(()=>{class s{emit(t,e,i,r=document){let c=`${i!==void 0?`${i}`:`${s.bS}`}${t}`,l=s.createEvent(c,{detail:e});l!==null&&r.dispatchEvent(l)}static createEvent(t,e={}){if(typeof CustomEvent=="function")return new CustomEvent(t,e);let i=this.AS();if(i===null)return null;let{bubbles:r=!1,cancelable:a=!1,detail:c}=e;return i.initCustomEvent(t,r,a,c),i}static AS(){try{return document.createEvent("CustomEvent")}catch{return null}}}return s.bS="cs.tracking.",s})();var Fp=(()=>{class s{constructor(){}onLoad(t){this.Wi=t}onLoadCallbackExecute(){this.Wi()}start(){let t=this.onLoadCallbackExecute.bind(this);this.XS(t)}XS(t){document.readyState==="complete"||document.readyState!=="loading"&&!document.documentElement.doScroll?csSetTimeout(t):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e));function e(){document.removeEventListener("DOMContentLoaded",e),window.removeEventListener("load",e),t()}}}return B([U("onLoad")],s.prototype,"onLoadCallbackExecute",null),s})(),$p=(()=>{class s{constructor(t){this.Ho=t.performance}getRequestParameters(){if(this.KS())return{};let t=this.JS();return{str:t.startRender,di:t.domInteractive,dc:t.domComplete,fl:t.fullyLoaded}}JS(){let t=this.Ho.timing;return{startRender:`${t.domLoading-t.requestStart}`,domInteractive:`${t.domInteractive-t.requestStart}`,domComplete:`${t.domComplete-t.requestStart}`,fullyLoaded:`${t.loadEventEnd-t.requestStart}`}}KS(){return!(this.Ho&&this.Ho.timing&&this.Ho.timing.loadEventEnd>0)}}return s})(),kt=(()=>{class s{static build(t,e,i){return csArray.prototype.reduce.call(i,(r,a)=>a.enhanceAnalysisEvent(t,r),e)}}return s})(),$=(()=>{let s;return function(n){n[n.RESIZE=0]="RESIZE",n[n.SCROLL=1]="SCROLL",n[n.MOUSEMOVE=2]="MOUSEMOVE",n[n.MOUSEDOWN=3]="MOUSEDOWN",n[n.MOUSEUP=4]="MOUSEUP",n[n.CLICK=5]="CLICK",n[n.MOUSEOVER=6]="MOUSEOVER",n[n.MOUSEOUT=7]="MOUSEOUT",n[n.CHANGE=10]="CHANGE",n[n.FOCUSIN=11]="FOCUSIN",n[n.FOCUSOUT=12]="FOCUSOUT",n[n.TAP=14]="TAP",n[n.KEYDOWN=15]="KEYDOWN",n[n.KEYUP=16]="KEYUP",n[n.COMMAND=17]="COMMAND",n[n.SUBMIT_COMMAND=18]="SUBMIT_COMMAND",n[n.PERFORMANCE=19]="PERFORMANCE",n[n.DRAG=20]="DRAG",n[n.FLICK=21]="FLICK",n[n.KEYBOARD_NAVIGATION=22]="KEYBOARD_NAVIGATION",n[n.ZOOM=23]="ZOOM",n[n.VIEWPORT_SCALE=24]="VIEWPORT_SCALE",n[n.TEXT_HIGHLIGHT=25]="TEXT_HIGHLIGHT",n[n.DEAD_CLICK=30]="DEAD_CLICK",n[n.DEAD_ZOOM=31]="DEAD_ZOOM",n[n.PAGE_RELOAD=32]="PAGE_RELOAD",n[n.THRASHED_CURSOR=33]="THRASHED_CURSOR",n[n.BLANK_PAGE=34]="BLANK_PAGE",n[n.EXTERNAL_EVENT=35]="EXTERNAL_EVENT",n[n.SUBMIT=36]="SUBMIT",n[n.CUSTOM_EVENT=37]="CUSTOM_EVENT"}(s||(s={})),s})(),An=(()=>{let s;return function(n){n.SUCCESS="success",n.FAILURE="failure",n.ATTEMPT="attempt"}(s||(s={})),s})(),vs=(()=>{let s;return function(n){n.APPCUES="appcues",n.CHAMELEON="chameleon",n.CONTENTSQUARE="contentsquare",n.SEGMENT="segment",n.WEB="web"}(s||(s={})),s})();function zp(s){return s.tgtHM!==void 0}function pc(s){return s.tgt!==void 0}function Gp(s){return s.tgtLk!==void 0}function qp(s){return s.x!==void 0&&s.y!==void 0}function Wp(s){return s===An.SUCCESS||s===An.FAILURE||s===An.ATTEMPT}function Yp(s){return s===vs.APPCUES||s===vs.CHAMELEON||s===vs.CONTENTSQUARE||s===vs.SEGMENT||s===vs.WEB}var Xp=(()=>{class s{constructor(t,e,i){this.Zt=t,this.xt=e,this.bt=i}processGesture(t,e){switch(t.type){case gt.TAP:this.QS(e);break;case gt.FLICK:this.ZS(t,e);break;case gt.DRAG:this.sv(t,e);break;default:break}}QS(t){let e={type:$.TAP,ts:0,x:0,y:0,tgt:""},i=kt.build(t,e,this.Zt);i.tgt!==me.INVALID_ELEMENT&&this.L(i)}sv(t,e){var i,r;let a={type:$.DRAG,ts:0,fd:t.direction,tgt:""};!((i=this.bt)===null||i===void 0)&&i.collectGestureDistance&&(a.distance=t.distance),!((r=this.bt)===null||r===void 0)&&r.collectGestureVelocity&&(a.velocity=t.velocity);let c=kt.build(e,a,this.Zt);c.tgt!==me.INVALID_ELEMENT&&this.L(c)}ZS(t,e){var i,r;let a={type:$.FLICK,ts:0,fd:t.direction,tgt:""};!((i=this.bt)===null||i===void 0)&&i.collectGestureDistance&&(a.distance=t.distance),!((r=this.bt)===null||r===void 0)&&r.collectGestureVelocity&&(a.velocity=t.velocity);let c=kt.build(e,a,this.Zt);c.tgt!==me.INVALID_ELEMENT&&this.L(c)}onEvent(t){this.L=t}start(){this.xt.subscribe(s.ap,(t,e)=>this.processGesture(t,e))}stop(){this.xt.unsubscribe(s.ap)}}return s.ap="AnalysisGestureTracker",B([vt()],s.prototype,"processGesture",null),s})();function rn(s,n){typeof n=="number"&&(n={wait:n});let t=n.wait,e=n.mode||"leading",i,r=[],a=null,c=0,l,u=()=>{c=P.now(),a=null,l=s.apply(i,r),r=[],i=null},m=function(...d){if(i=this!==null&&this!==void 0?this:tt,r=[...d],e==="trailing")return a||(a=tt.csSetTimeout(u,t)),l;let E=P.now(),y=t-(E-c);return y<=0||y>t?(c=E,l=s.apply(i,r),a?(tt.csClearTimeout(a),a=null):r=[]):a||(a=tt.csSetTimeout(u,y)),l};return m.cancel=()=>{a&&(tt.csClearTimeout(a),c=0,a=null,r=[])},m.flushPending=()=>{a&&(tt.csClearTimeout(a),u())},m}var Rr=s=>(n,t,e)=>{e.value=rn(e.value,s)},$o="data-cs-scroll-container";function Kp(s){try{if(Tt(csEventtarget.apply(s)))return!0}catch{}return!1}var bs=(()=>{let s;return function(n){function t(i){return!!(Tt(i)&&Kp(i)&&ai(csEventtarget.apply(i))&&csEventtarget.apply(i).getAttribute($o)!==null)}n.isEventOnScrollContainer=t;function e(){return window.csquerySelector[document.nodeType].call(document,`[${$o}]`)}n.getScrollContainer=e}(s||(s={})),s})(),As=(()=>{let s;return function(n){n[n.COPY=0]="COPY",n[n.CUT=1]="CUT",n[n.PASTE=2]="PASTE"}(s||(s={})),s})(),q=(()=>{let s;return function(n){n[n.SPACE=0]="SPACE",n[n.ENTER=1]="ENTER",n[n.BACKSPACE=2]="BACKSPACE",n[n.DELETE=3]="DELETE",n[n.ARROWUP=4]="ARROWUP",n[n.ARROWDOWN=5]="ARROWDOWN",n[n.ARROWLEFT=6]="ARROWLEFT",n[n.ARROWRIGHT=7]="ARROWRIGHT",n[n.CAPSLOCK=8]="CAPSLOCK",n[n.SHIFT=9]="SHIFT",n[n.TAB=10]="TAB",n[n.ALPHANUMERICAL=11]="ALPHANUMERICAL",n[n.ESCAPE=12]="ESCAPE",n[n.END=13]="END",n[n.ALT=14]="ALT",n[n.CTRL=15]="CTRL",n[n.META=16]="META"}(s||(s={})),s})(),Jp=(()=>{class s{constructor(t,e,i,r=["submit"]){this.Zt=t,this.ft=e,this.Lt=i,this.iv=r,this.cp="select, select *, input, textarea",this.nv="select, select *, input, textarea",this.lp="a, a *, button, button *, select, select *, input, textarea",this.or="input, select, textarea",this.rv="form",this.Bo=150,this.ov=400,this.hp=!1,this.ar=Zs((a,c)=>this.scrollListener(a,c),this.Bo),this.up=Zs(a=>this.resizeListener(a),this.Bo),this.av=rn(a=>this.mouseMoveListener(a),this.ov),this.cv=[{boundElement:window,type:"resize",listener:()=>this.up()},{boundElement:document,type:"scroll",listener:a=>this.ar(a)},{boundElement:window,type:"mousemove",listener:a=>{this.av(cp(a))}},{boundElement:document,type:"mousedown",listener:a=>this.mouseDownListener(a)},{boundElement:document,type:"mouseup",listener:a=>this.mouseUpListener(a)},{boundElement:document,type:"click",listener:a=>this.clickListener(a)}],this.dp=[{type:"change",listener:this.Lt.on(this.nv,a=>this.changeListener(a))},{type:"submit",listener:this.Lt.on(this.rv,a=>this.submitListener(a))}],this.lv=[{boundElement:document,type:"mouseover",listener:this.Lt.on(this.lp,a=>this.mouseOverListener(a))},{boundElement:document,type:"mouseout",listener:this.Lt.on(this.lp,a=>this.mouseOutListener(a))},{boundElement:document,type:"focusin",listener:this.Lt.on(this.cp,a=>this.focusInListener(a))},{boundElement:document,type:"focusout",listener:this.Lt.on(this.cp,a=>this.focusOutListener(a))},{boundElement:document,type:"keyup",listener:this.Lt.on(this.or,a=>this.keyUpListener(a))},{boundElement:document,type:"keydown",listener:this.Lt.on(this.or,a=>this.keyDownListener(a))},{boundElement:document,type:"copy",listener:this.Lt.on(this.or,a=>this.copyListener(a))},{boundElement:document,type:"cut",listener:this.Lt.on(this.or,a=>this.cutListener(a))},{boundElement:document,type:"paste",listener:this.Lt.on(this.or,a=>this.pasteListener(a))},...csArray.prototype.map.call(this.dp,a=>({...a,boundElement:document}))],this.U={},this.Xc=(a,c)=>{switch(c){case"initial":case"added":this.vi(a);break;case"removed":this._i(a);break}},this.ue=new ks(this.Xc),this.Kc()}vi(t){if(Gi(t)){let e=this.pp();csArray.prototype.forEach.call(e,i=>Ct(i))}else{let e=this.fp();csArray.prototype.forEach.call(e,i=>{Ct({...i,boundElement:t})})}}_i(t){if(Gi(t)){let e=this.pp();csArray.prototype.forEach.call(e,i=>It(i))}else{let e=this.fp();csArray.prototype.forEach.call(e,i=>{It({...i,boundElement:t})})}}onEvent(t){this.L=t}start(){this.ue.observe(),this.vi(document),this.resizeListener()}stop(){this._i(document),this.ue.disconnect()}flushPendingDebouncedListeners(){this.ar.flushPending(),this.up.flushPending()}gp(t){return csArray.prototype.some.call(this.iv,e=>e===t)}fp(){return this.Lt.isMatchesSelectorSupported()?csArray.prototype.filter.call(this.dp,t=>!this.gp(t.type)):(F.warn("Element.matches is not implemented yet"),[])}pp(){let t=[];return csArray.prototype.push.call(t,...this.cv),this.Lt.isMatchesSelectorSupported()?csArray.prototype.push.call(t,...this.lv):F.warn("Element.matches is not implemented yet"),csArray.prototype.filter.call(t,e=>!this.gp(e.type))}resizeListener(t){let e=bs.getScrollContainer(),i=ai(e);i&&(this.hp=!0);let r={type:$.RESIZE,ts:0,x:i?e.clientWidth:dt.windowWidth(),y:i?e.clientHeight:dt.windowHeight()};t!==void 0&&(r.d=t),this.L(r)}scrollListener(t,e){let i=bs.isEventOnScrollContainer(e);!this.hp&&i&&this.resizeListener();let r={type:$.SCROLL,ts:0,x:i?csEventtarget.apply(e).scrollLeft:dt.windowOffsetX(),y:i?csEventtarget.apply(e).scrollTop:dt.windowOffsetY(),d:t},a=kt.build(e,r,this.Zt);this.L(a)}mouseMoveListener(t){let e={type:$.MOUSEMOVE,ts:0,x:t.pageX,y:t.pageY},i=kt.build(t,e,this.Zt);this.L(i)}mouseDownListener(t){let e={type:$.MOUSEDOWN,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=kt.build(t,e,this.Zt);this.de(i)}mouseUpListener(t){let e={type:$.MOUSEUP,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=kt.build(t,e,this.Zt);this.de(i)}clickListener(t){let e={type:$.CLICK,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=kt.build(t,e,this.Zt);this.de(i)}mouseOverListener(t){let e={type:$.MOUSEOVER,ts:0,x:t.pageX,y:t.pageY,tgt:""},i=kt.build(t,e,this.Zt);this.de(i)}mouseOutListener(t){let e={type:$.MOUSEOUT,ts:0,x:t.pageX,y:t.pageY,tgt:this.ft.getEventTargetPath(t)},i=kt.build(t,e,this.Zt);this.de(i)}focusInListener(t){let e={type:$.FOCUSIN,ts:0,tgt:this.ft.getEventTargetPath(t)},i=kt.build(t,e,this.Zt);this.de(i)}focusOutListener(t){let e={type:$.FOCUSOUT,ts:0,tgt:this.ft.getEventTargetPath(t)},i=kt.build(t,e,this.Zt);this.de(i)}changeListener(t){let e={type:$.CHANGE,ts:0,tgt:""},i=kt.build(t,e,this.Zt);this.de(i)}submitListener(t){let e={type:$.SUBMIT,ts:0,tgt:""},i=kt.build(t,e,this.Zt);this.de(i)}copyListener(t){let e={type:$.COMMAND,ts:0,tgt:this.ft.getEventTargetPath(t),key:As.COPY};this.de(e)}cutListener(t){let e={type:$.COMMAND,ts:0,tgt:this.ft.getEventTargetPath(t),key:As.CUT};this.de(e)}pasteListener(t){let e={type:$.COMMAND,ts:0,tgt:this.ft.getEventTargetPath(t),key:As.PASTE};this.de(e)}keyUpListener(t){let e={type:$.KEYUP,ts:0,tgt:this.ft.getEventTargetPath(t),key:this.mp(t)};this.de(e)}keyDownListener(t){let e={type:$.KEYDOWN,ts:0,tgt:this.ft.getEventTargetPath(t),key:this.mp(t)};this.de(e)}mp(t){let e=this.U[t.key];return e===void 0?q.ALPHANUMERICAL:e}de(t){pc(t)&&t.tgt!==me.INVALID_ELEMENT&&this.L(t)}Kc(){this.U[" "]=q.SPACE,this.U.Spacebar=q.SPACE,this.U.Enter=q.ENTER,this.U.Backspace=q.BACKSPACE,this.U.Delete=q.DELETE,this.U.ArrowUp=q.ARROWUP,this.U.ArrowDown=q.ARROWDOWN,this.U.ArrowLeft=q.ARROWLEFT,this.U.ArrowRight=q.ARROWRIGHT,this.U.Up=q.ARROWUP,this.U.Down=q.ARROWDOWN,this.U.Left=q.ARROWLEFT,this.U.Right=q.ARROWRIGHT,this.U.CapsLock=q.CAPSLOCK,this.U.Shift=q.SHIFT,this.U.Tab=q.TAB}}return B([U("Event handler type: resize")],s.prototype,"resizeListener",null),B([U("Event handler type: scroll")],s.prototype,"scrollListener",null),B([U("Event handler type: mouseMove"),vt()],s.prototype,"mouseMoveListener",null),B([U("Event handler type: mouseDown"),vt()],s.prototype,"mouseDownListener",null),B([U("Event handler type: mouseUp"),vt()],s.prototype,"mouseUpListener",null),B([U("Event handler type: click"),vt()],s.prototype,"clickListener",null),B([U("Event handler type: mouseOver"),vt()],s.prototype,"mouseOverListener",null),B([U("Event handler type: mouseOut"),vt()],s.prototype,"mouseOutListener",null),B([U("Event handler type: focusIn")],s.prototype,"focusInListener",null),B([U("Event handler type: focusOut")],s.prototype,"focusOutListener",null),B([U("Event handler type: change")],s.prototype,"changeListener",null),B([U("Event handler type: submit"),vt()],s.prototype,"submitListener",null),B([U("Event handler type: copy")],s.prototype,"copyListener",null),B([U("Event handler type: cut")],s.prototype,"cutListener",null),B([U("Event handler type: paste")],s.prototype,"pasteListener",null),B([U("Event handler type: keyup")],s.prototype,"keyUpListener",null),B([U("Event handler type: keydown")],s.prototype,"keyDownListener",null),s})(),Qp=(()=>{class s{constructor(){this.yp=100,this.cr=0,this.lr=dt.documentHeight(),this.Ep={boundElement:document,type:"scroll",listener:t=>this.maxScrollRateListener(t)},this.cr=this.Jc(bs.getScrollContainer()).maxScrollRate}onEvent(t){this.L=t}start(){Ct(this.Ep)}stop(){It(this.Ep)}reset(){let t=bs.getScrollContainer(),{maxScrollRate:e,maxDocumentHeight:i}=this.Jc(t);this.lr=i,this.cr=e,this.L()}Jc(t){let e=0,i=0;if(t===null)i=dt.documentHeight(),e=this.hv(i);else{let r=this.uv(t);i=this.Sp(t,r),e=this.pv(t,r)}return{maxScrollRate:e,maxDocumentHeight:i}}maxScrollRateListener(t){let e=null;bs.isEventOnScrollContainer(t)&&(e=csEventtarget.apply(t));let{maxScrollRate:i,maxDocumentHeight:r}=this.Jc(e);(i>this.cr||r>this.lr)&&(this.cr=i,r>this.lr&&(this.lr=r),this.L())}hv(t){let e=Math.round(this.fv()/t*100);return Math.min(e,this.yp)}fv(){let t=dt.windowHeight();return dt.windowOffsetY()+t}pv(t,e){let i=t.scrollTop+t.clientHeight+t.getBoundingClientRect().top+e,r=this.Sp(t,e),a=Math.round(i/r*100);return Math.min(a,this.yp)}uv(t){let e=window.getComputedStyle(t).paddingTop||"0px";return parseInt(e,10)}Sp(t,e){return t.scrollHeight+t.getBoundingClientRect().top+e}getRequestParameters(){return{sr:`${this.cr}`,mdh:`${this.lr}`}}}return B([U("MaxScrollRate handler")],s.prototype,"maxScrollRateListener",null),s})(),Wt=(()=>{let s;return function(n){n.Visible="visible",n.Hidden="hidden",n.Blur="blur",n.PagehideVisible="pagehideVisible",n.PagehideHidden="pagehideHidden",n.ExitPageByNavigate="exitPageByNavigate"}(s||(s={})),s})(),fc=(()=>{class s{constructor(){this.V=!1,this.zs=t=>{try{switch(t.type){case"visibilitychange":return document.visibilityState==="hidden"?this.te(Wt.Hidden):this.te(Wt.Visible);case"pagehide":return document.visibilityState==="hidden"?this.te(Wt.PagehideHidden):this.te(Wt.PagehideVisible);case"blur":return this.te(Wt.Blur);case"navigate":return this.gv(t)?this.te(Wt.ExitPageByNavigate):void 0;default:return}}catch{}}}start(){this.V||(this.V=!0,this.Qc(),this.mv(),this.yv(),go()&&this.Ev())}stop(){this.V&&(this.V=!1,this.Zc(),this.Sv(),this.vv(),go()&&this._v())}onEvent(t){this.te=t}Ev(){window.navigation.addEventListener("navigate",this.zs)}_v(){window.navigation.removeEventListener("navigate",this.zs)}Qc(){document.addEventListener("visibilitychange",this.zs)}Zc(){document.removeEventListener("visibilitychange",this.zs)}mv(){window.addEventListener("pagehide",this.zs)}Sv(){window.removeEventListener("pagehide",this.zs)}yv(){window.addEventListener("blur",this.zs)}vv(){window.removeEventListener("blur",this.zs)}gv(t){return t instanceof NavigateEvent?!t.hashChange&&!t.downloadRequest&&!t.formData:!1}}return s})();var Zp=1024,tf=512,Rn=1024,Cn="||",ef=(()=>{class s extends Ot{constructor(t,e,i,r,a,c,l,u,m,d,E,y,v,C,I,S,_,D,O,b,x){super(),this.f=t,this.Gs=e,this.xt=i,this.rn=r,this.tl=a,this.$e=c,this.Re=l,this.sl=u,this.G=m,this.Qt=d,this.Q=E,this.il=y,this.ze=v,this.W=C,this.Fo=I,this.Es=S,this.Ss=_,this.nl=D,this.wi=O,this.Ti=b,this.bi=x,this.$s=new dc,this.$o=!1,this.rl=[]}init(){var t,e,i,r,a,c,l;this.Gs.onEvent(u=>this.Nt(u)),this.xt.onEvent(u=>this.Nt(u)),this.rn.onEvent(()=>{let u=this.rn.getRequestParameters();this.W.setQueryParams(u),this.Re.setQueryParams(u)}),this.il.onEvent(u=>this.Ce(u)),this.ol(),(t=this.Fo)===null||t===void 0||t.onEvent(u=>this.Nt(u)),(e=this.wi)===null||e===void 0||e.onEvent(u=>this.Nt(u)),(i=this.Es)===null||i===void 0||i.onEvent(u=>this.Nt(u)),(r=this.Ss)===null||r===void 0||r.onEvent(u=>this.Nt(u)),this.wv(),(a=this.nl)===null||a===void 0||a.onEvent(u=>this.Ce(u)),(c=this.Ti)===null||c===void 0||c.onEvent(u=>this.Ce(u)),(l=this.bi)===null||l===void 0||l.onEvent(u=>this.Ce(u))}wv(){this.Re.onBeaconSuccess(()=>{this.$e.clearEvents()}),this.Re.onBeaconFailure(t=>{this.Tv(t)})}initStates(){let t=this.sl.getRequestParameters(),e=this.tl.getRequestParameters(),i=this.rn.getRequestParameters();this.W.setQueryParams(t),this.W.setQueryParams(e),this.W.setQueryParams(i),this.Re.setQueryParams(t),this.Re.setQueryParams(e),this.Re.setQueryParams(i),this.al()}clearStates(t){var e,i;this.Gs.flushPendingDebouncedListeners(),(e=this.Es)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.Ss)===null||i===void 0||i.flushPendingTextHighlightEvent(),t?(this.cl(),this.sendLastMessageBeacon()):this.sendEvents(),this.rn.reset(),this.W.removeQueryParams()}onStart(t){var e,i,r,a,c,l,u;t||(e=this.nl)===null||e===void 0||e.start(),this.ze.start(),this.Gs.start(),this.rn.start(),this.xt.start(),(i=this.Fo)===null||i===void 0||i.start(),(r=this.Ss)===null||r===void 0||r.start(),t||this.il.start(),(a=this.Es)===null||a===void 0||a.start(),(c=this.wi)===null||c===void 0||c.start(),(l=this.Ti)===null||l===void 0||l.start(),(u=this.bi)===null||u===void 0||u.start(),csArray.prototype.forEach.call(this.rl,m=>{this.Ce(m)}),this.rl=[]}collectInitialEvents(){var t;(t=this.Fo)===null||t===void 0||t.collectInitialEvents()}onIframeAnalysisBrowserEvent(t){this.Ce(t)}onIframeAnalysisUserEvent(t){this.Nt(t)}onExternalEvent(t){this.J(t)}Ce(t){this.G.isCurrentPageviewValid()&&this.J(t)}Nt(t){this.G.refreshSession(),this.G.isSessionValid()&&this.J(t)}J(t){this.$e.addEvent(this.bv(t)),this.$e.isFull()&&this.sendEvents(),this.f.emitDebugEvents&&this.$s.emit("analysisEvent",{...t,typeName:$[t.type]})}bv(t){return t.ts=this.Ai(),t}cl(){this.Re.setQueryParams({hlm:"true"}),this.$o=!0}sendLastMessageBeacon(){this.Re.removeQueryParams(["i"]),this.Re.setQueryParams(this.sl.getRequestParameters()),this.Re.setQueryParams(this.tl.getRequestParameters()),this.Re.send(this.$e.stringifyEvents()),this.Re.removeQueryParams(["hlm"]),this.$o=!1}sendEvents(){this.$e.isEmpty()||(this.Re.removeQueryParams(["i"]),this.W.setQueryParams(this.sl.getRequestParameters()),this.W.setQueryParams(this.tl.getRequestParameters()),this.W.send(this.$e.getEvents()),this.$e.clearEvents())}onStop(){var t,e,i,r,a,c,l;this.ze.stop(),this.Gs.stop(),this.rn.stop(),this.xt.stop(),this.il.stop(),(t=this.Fo)===null||t===void 0||t.stop(),(e=this.Es)===null||e===void 0||e.stop(),(i=this.Ss)===null||i===void 0||i.stop(),(r=this.wi)===null||r===void 0||r.stop(),this.$e.empty(),(a=this.nl)===null||a===void 0||a.stop(),(c=this.Ti)===null||c===void 0||c.stop(),(l=this.bi)===null||l===void 0||l.stop()}al(){this.Ze=P.now()}Ai(){return P.now()-this.Ze}ol(){this.ze.onEvent(t=>{var e,i;t!==Wt.Visible&&((e=this.Es)===null||e===void 0||e.flushPendingKeyboardNavigationEvent(),(i=this.Ss)===null||i===void 0||i.flushPendingTextHighlightEvent(),t===Wt.PagehideVisible?this.cl():t===Wt.PagehideHidden?(this.cl(),this.sendLastMessageBeacon()):(!this.$e.isEmpty()||this.$o)&&this.sendLastMessageBeacon())})}Tv(t){try{(!this.$e.isEmpty()||this.$o)&&this.Qt.save({requestParameters:t,events:this.$e.getEvents()})}catch{}}pushSubmitCommandEvent(t,e){if(!Wp(t)||!ai(e))throw new Error(`Command misuse: ${Ac}`);let i={status:t,type:$.SUBMIT_COMMAND,ts:0,tgt:this.Q.getElementPath(e)};i.tgt!==me.INVALID_ELEMENT&&this.Ce(i)}pushCustomEvent(t,e,i){if(!(z(t)&&!Fn(t))||i!==void 0&&!wa(i))throw new Error(`Command misuse: ${cr}`);let r=Yp(e)?e:vs.WEB,a=this.Av(i),c={type:$.CUSTOM_EVENT,ts:0,customEventName:lt.truncate(t,Zp),sourceLibrary:r,...Bn(a)?{}:{properties:a}};this.isStarted?this.Ce(c):csArray.prototype.push.call(this.rl,c)}Av(t){let e={};for(let i in t){if(i.length>tf)continue;let r=t[i];if(Yt(r)||Bi(r))e[i]=csString(r);else if(this.vp(r))e[i]=lt.truncate(r,Rn);else if(this.Rv(r)){let a=this.Cv(r);a!==""&&(e[i]=a)}}return e}Cv(t){let e="";for(let i=0;i<t.length;i++){let r=t[i];if(!Yt(r)&&!Bi(r)&&!this.vp(r))continue;let a=csString(r);if(e==="")e=lt.truncate(a,Rn);else if(e.length+Cn.length+a.length<=Rn)e+=Cn+a;else break}return e}vp(t){return z(t)&&!Fn(t)&&!csString.prototype.includes.call(t,Cn)}Rv(t){return csArray.isArray(t)&&t.length>0}}return s})(),ri=(()=>{class s{constructor(...t){this._p=t}addProvider(t){csArray.prototype.push.call(this._p,t)}getRequestParameters(){return csArray.prototype.reduce.call(this._p,(t,e)=>({...e.getRequestParameters(),...t}),{})}}return s})(),sf=(()=>{class s{constructor(t,e){this.Qt=t,this.W=e,this.wp=()=>{document.visibilityState==="visible"&&this.Tp()}}start(){this.Tp(),this.Qc()}stop(){this.Zc()}getRecoveryStorage(){return this.Qt}Tp(){let t=this.Qt.recover();if(t!==null){let{requestParameters:e,events:i}=t;this.W.send(i,e)}}Qc(){document.addEventListener("visibilitychange",this.wp)}Zc(){document.removeEventListener("visibilitychange",this.wp)}}return s})(),gc=(()=>{class s{constructor(t){this.bp=[],this.Ap=[],this.Kt={},this.Jt=t}setQueryParams(t){csArray.prototype.forEach.call(Object.keys(t),e=>{this.Kt[e]=t[e]})}removeQueryParams(t){t?csArray.prototype.forEach.call(t,e=>{delete this.Kt[e]}):this.Kt={}}onBeaconSuccess(t){csArray.prototype.push.call(this.bp,t)}onBeaconFailure(t){csArray.prototype.push.call(this.Ap,t)}send(t){let e=ii.toQuery({...this.Kt,ct:en.UNCOMPRESSED}),i=this.Iv(e,t);return i?csArray.prototype.forEach.call(this.bp,r=>r()):csArray.prototype.forEach.call(this.Ap,r=>r(this.Kt)),i}Iv(t,e){try{if(typeof csNavigatorsendBeacon!="function")return!1;let i=csNavigatorsendBeacon(`${this.Jt}?${t}`,e||"");if(i)return i}catch{}return typeof navigator.sendBeacon!="function"?!1:navigator.sendBeacon(`${this.Jt}?${t}`,e||"")}}return s})(),nf=(()=>{class s{constructor(t){this.an=t}save(t){localStorage.setItem(this.an,csJSON.stringify(t))}clear(){localStorage.removeItem(this.an)}recover(){let t=localStorage.getItem(this.an);if(t===null)return null;let e=null;try{e=csJSON.parse(t)}catch{F.error(`Invalid item in localStorage.
         (key:${this.an}; value:${t})`)}finally{this.clear()}return e}}return s})(),rf=(()=>{class s{constructor(t){this.ur=t,this.pr=e=>this.processMetric(e),this.V=!1}onEvent(t){this.L=t}start(){this.V||(this.V=!0,this.ur.onFCP(this.pr),this.ur.onCLS(this.pr),this.ur.onLCP(this.pr),this.ur.onTTFB(this.pr),this.ur.onINP(this.pr))}stop(){this.V=!1}processMetric(t){if(!this.V)return;let e={type:$.PERFORMANCE,name:t.name,val:t.value,ts:0};this.L(e)}}return B([U("Performance metric handler")],s.prototype,"processMetric",null),s})(),mc=-1,Ds=s=>{addEventListener("pageshow",n=>{n.persisted&&(mc=n.timeStamp,s(n))},!0)},re=(s,n,t,e)=>{let i,r;return a=>{n.value>=0&&(a||e)&&(r=n.value-(i!=null?i:0),(r||i===void 0)&&(i=n.value,n.delta=r,n.rating=((c,l)=>c>l[1]?"poor":c>l[0]?"needs-improvement":"good")(n.value,t),s(n)))}},Cr=s=>{requestAnimationFrame(()=>requestAnimationFrame(()=>s()))},Ir=()=>{let s=performance.getEntriesByType("navigation")[0];if(s&&s.responseStart>0&&s.responseStart<performance.now())return s},fi=()=>{var n;let s=Ir();return(n=s==null?void 0:s.activationStart)!=null?n:0},oe=(s,n=-1)=>{let t=Ir(),e="navigate";return mc>=0?e="back-forward-cache":t&&(document.prerendering||fi()>0?e="prerender":document.wasDiscarded?e="restore":t.type&&(e=t.type.replace(/_/g,"-"))),{name:s,value:n,rating:"good",delta:0,entries:[],id:`v5-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,navigationType:e}},In=new WeakMap;function Pr(s,n){return In.get(s)||In.set(s,new n),In.get(s)}var ir=class{constructor(){le(this,"t");le(this,"i",0);le(this,"o",[])}h(n){var i;if(n.hadRecentInput)return;let t=this.o[0],e=this.o.at(-1);this.i&&t&&e&&n.startTime-e.startTime<1e3&&n.startTime-t.startTime<5e3?(this.i+=n.value,this.o.push(n)):(this.i=n.value,this.o=[n]),(i=this.t)==null||i.call(this,n)}},gi=(s,n,t={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(s)){let e=new PerformanceObserver(i=>{Promise.resolve().then(()=>{n(i.getEntries())})});return e.observe({type:s,buffered:!0,...t}),e}}catch{}},Or=s=>{let n=!1;return()=>{n||(s(),n=!0)}},ws=-1,zo=()=>document.visibilityState!=="hidden"||document.prerendering?1/0:0,Ki=s=>{document.visibilityState==="hidden"&&ws>-1&&(ws=s.type==="visibilitychange"?s.timeStamp:0,of())},Go=()=>{addEventListener("visibilitychange",Ki,!0),addEventListener("prerenderingchange",Ki,!0)},of=()=>{removeEventListener("visibilitychange",Ki,!0),removeEventListener("prerenderingchange",Ki,!0)},yc=()=>{var s;if(ws<0){let n=fi(),t=document.prerendering||(s=globalThis.performance.getEntriesByType("visibility-state").filter(e=>e.name==="hidden"&&e.startTime>n)[0])==null?void 0:s.startTime;ws=t!=null?t:zo(),Go(),Ds(()=>{setTimeout(()=>{ws=zo(),Go()})})}return{get firstHiddenTime(){return ws}}},on=s=>{document.prerendering?addEventListener("prerenderingchange",()=>s(),!0):s()},qo=[1800,3e3],Ec=(s,n={})=>{on(()=>{let t=yc(),e,i=oe("FCP"),r=gi("paint",a=>{for(let c of a)c.name==="first-contentful-paint"&&(r.disconnect(),c.startTime<t.firstHiddenTime&&(i.value=Math.max(c.startTime-fi(),0),i.entries.push(c),e(!0)))});r&&(e=re(s,i,qo,n.reportAllChanges),Ds(a=>{i=oe("FCP"),e=re(s,i,qo,n.reportAllChanges),Cr(()=>{i.value=performance.now()-a.timeStamp,e(!0)})}))})},Wo=[.1,.25],af=(s,n={})=>{Ec(Or(()=>{let t,e=oe("CLS",0),i=Pr(n,ir),r=c=>{for(let l of c)i.h(l);i.i>e.value&&(e.value=i.i,e.entries=i.o,t())},a=gi("layout-shift",r);a&&(t=re(s,e,Wo,n.reportAllChanges),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(a.takeRecords()),t(!0))}),Ds(()=>{i.i=0,e=oe("CLS",0),t=re(s,e,Wo,n.reportAllChanges),Cr(()=>t())}),setTimeout(t))}))},Sc=0,Pn=1/0,Ni=0,cf=s=>{for(let n of s)n.interactionId&&(Pn=Math.min(Pn,n.interactionId),Ni=Math.max(Ni,n.interactionId),Sc=Ni?(Ni-Pn)/7+1:0)},nr,Yo=()=>{var s;return nr?Sc:(s=performance.interactionCount)!=null?s:0},lf=()=>{"interactionCount"in performance||nr||(nr=gi("event",cf,{type:"event",buffered:!0,durationThreshold:0}))},Xo=0,rr=class{constructor(){le(this,"u",[]);le(this,"l",new Map);le(this,"m");le(this,"p")}v(){Xo=Yo(),this.u.length=0,this.l.clear()}P(){let n=Math.min(this.u.length-1,Math.floor((Yo()-Xo)/50));return this.u[n]}h(n){var i,r;if((i=this.m)==null||i.call(this,n),!n.interactionId&&n.entryType!=="first-input")return;let t=this.u.at(-1),e=this.l.get(n.interactionId);if(e||this.u.length<10||n.duration>t.T){if(e?n.duration>e.T?(e.entries=[n],e.T=n.duration):n.duration===e.T&&n.startTime===e.entries[0].startTime&&e.entries.push(n):(e={id:n.interactionId,entries:[n],T:n.duration},this.l.set(e.id,e),this.u.push(e)),this.u.sort((a,c)=>c.T-a.T),this.u.length>10){let a=this.u.splice(10);for(let c of a)this.l.delete(c.id)}(r=this.p)==null||r.call(this,e)}}},vc=s=>{let n=globalThis.requestIdleCallback||setTimeout;document.visibilityState==="hidden"?s():(n(s=Or(s)),document.addEventListener("visibilitychange",s,{once:!0}))},Ko=[200,500],hf=(s,n={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&on(()=>{var c;lf();let t,e=oe("INP"),i=Pr(n,rr),r=l=>{vc(()=>{for(let m of l)i.h(m);let u=i.P();u&&u.T!==e.value&&(e.value=u.T,e.entries=u.entries,t())})},a=gi("event",r,{durationThreshold:(c=n.durationThreshold)!=null?c:40});t=re(s,e,Ko,n.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&(r(a.takeRecords()),t(!0))}),Ds(()=>{i.v(),e=oe("INP"),t=re(s,e,Ko,n.reportAllChanges)}))})},or=class{constructor(){le(this,"m")}h(n){var t;(t=this.m)==null||t.call(this,n)}},Jo=[2500,4e3],uf=(s,n={})=>{on(()=>{let t=yc(),e,i=oe("LCP"),r=Pr(n,or),a=l=>{n.reportAllChanges||(l=l.slice(-1));for(let u of l)r.h(u),u.startTime<t.firstHiddenTime&&(i.value=Math.max(u.startTime-fi(),0),i.entries=[u],e())},c=gi("largest-contentful-paint",a);if(c){e=re(s,i,Jo,n.reportAllChanges);let l=Or(()=>{a(c.takeRecords()),c.disconnect(),e(!0)});for(let u of["keydown","click","visibilitychange"])addEventListener(u,()=>vc(l),{capture:!0,once:!0});Ds(u=>{i=oe("LCP"),e=re(s,i,Jo,n.reportAllChanges),Cr(()=>{i.value=performance.now()-u.timeStamp,e(!0)})})}})},Qo=[800,1800],ar=s=>{document.prerendering?on(()=>ar(s)):document.readyState!=="complete"?addEventListener("load",()=>ar(s),!0):setTimeout(s)},df=(s,n={})=>{let t=oe("TTFB"),e=re(s,t,Qo,n.reportAllChanges);ar(()=>{let i=Ir();i&&(t.value=Math.max(i.responseStart-fi(),0),t.entries=[i],e(!0),Ds(()=>{t=oe("TTFB",0),e=re(s,t,Qo,n.reportAllChanges),e(!0)}))})},pf=(()=>{class s{onFCP(t){try{Ec(t,{reportAllChanges:!0})}catch{G.counters.webVitalsErrors.count("FCP")}}onCLS(t){try{af(t,{reportAllChanges:!0})}catch{G.counters.webVitalsErrors.count("CLS")}}onLCP(t){try{uf(t,{reportAllChanges:!0})}catch{G.counters.webVitalsErrors.count("LCP")}}onTTFB(t){try{df(t,{reportAllChanges:!0})}catch{G.counters.webVitalsErrors.count("TTFB")}}onINP(t){try{hf(t,{reportAllChanges:!0})}catch{G.counters.webVitalsErrors.count("INP")}}}return s})();var mi=(()=>{class s{isEventTypeSupported(t){return csArray.prototype.indexOf.call(this.supportedEventTypes,t)!==-1}enhanceAnalysisEvent(t,e){return this.isEventTypeSupported(e.type)?this.baseEnhanceAnalysisEvent(t,e):e}}return s})(),ff=(()=>{class s extends mi{constructor(){super(...arguments),this.supportedEventTypes=[$.CHANGE],this.Zv=["text","email","number","search","tel","url","password"]}baseEnhanceAnalysisEvent(t,e){let i=ft(t);return Qi(i)&&csArray.prototype.indexOf.call(this.Zv,i.type)>=0&&(e.isBlank=i.value===""),e}}return s})();var _c=(()=>{class s extends mi{constructor(t){super(),this.ft=t,this.supportedEventTypes=[$.MOUSEDOWN,$.MOUSEUP,$.CLICK,$.MOUSEOVER,$.TAP,$.DRAG,$.FLICK,$.SUBMIT,$.CHANGE]}baseEnhanceAnalysisEvent(t,e){return e.tgt||(e.tgt=this.ft.getEventTargetPath(t)),e}}return s})(),Zo=65535,gf=(()=>{let s;return function(n){function t(e){let i=ft(e);if(!i||!ot(i)||!Ge(i.getBoundingClientRect)||!Tt(e.pageX)||!Tt(e.pageY))return{xRel:-1,yRel:-1,valid:!1};let r=i.getBoundingClientRect(),a=e.pageX-r.left-dt.windowOffsetX(),c=e.pageY-r.top-dt.windowOffsetY();i!==document.documentElement&&(a+=i.scrollLeft,c+=i.scrollTop);let l=Math.max(i.scrollWidth,r.width),u=Math.max(i.scrollHeight,r.height),m=Math.round(a/l*Zo),d=Math.round(c/u*Zo);return{xRel:m,yRel:d,valid:!0}}n.getRelativePosition=t}(s||(s={})),s})(),mf=Math.pow(2,31);function yf(s,n=0){let l=n>>>0,u=s.length;for(let y=0;y<u-3;y+=4){let v=(csString.prototype.charCodeAt.call(s,y)&255|(csString.prototype.charCodeAt.call(s,y+1)&255)<<8|(csString.prototype.charCodeAt.call(s,y+2)&255)<<16|(csString.prototype.charCodeAt.call(s,y+3)&255)<<24)>>>0;v=Math.imul(v,3432918353),v=v<<15|v>>>17,v=Math.imul(v,461845907),l^=v,l=l<<13|l>>>19,l=Math.imul(l,5)+3864292196}let m=0,d=u&3,E=u-d;switch(d){case 3:m^=(csString.prototype.charCodeAt.call(s,E+2)&255)<<16;case 2:m^=(csString.prototype.charCodeAt.call(s,E+1)&255)<<8;case 1:m^=csString.prototype.charCodeAt.call(s,E)&255,m=Math.imul(m,3432918353),m=m<<15|m>>>17,m=Math.imul(m,461845907),l^=m}return l^=u,l^=l>>>16,l=Math.imul(l,2246822507),l^=l>>>13,l=Math.imul(l,3266489909),l^=l>>>16,l>>>0}function wc(s){return yf(s)+mf>>>0}var Ef=(()=>{class s extends mi{constructor(t,e){super(),this.ds=t,this.ft=e,this.supportedEventTypes=[$.MOUSEMOVE,$.CLICK],this.Sl=""}baseEnhanceAnalysisEvent(t,e){let{valid:i,xRel:r,yRel:a}=gf.getRelativePosition(t);if(i){let c=this.ft.getEventTargetPath(t);c!==me.INVALID_ELEMENT&&(e.xRel=r,e.yRel=a,e.type===$.MOUSEMOVE&&(c!==this.Sl||this.ds.iframesTracking?(this.Sl=c,e.tgtHM=c,this.ds.isChild||(e.tgtHMH=wc(e.tgtHM))):e.tgtHM=""))}else e.type===$.MOUSEMOVE&&(this.Sl="");return e}}return s})(),xe=(()=>{let s;return function(n){n[n.ANONYMIZED=0]="ANONYMIZED",n[n.CAPTURED=1]="CAPTURED",n[n.MASKED=2]="MASKED",n[n.ENCRYPTED=3]="ENCRYPTED"}(s||(s={})),s})(),ta=100,Tc=(()=>{class s extends mi{constructor(t,e,i){super(),this.f=t,this.le=e,this.N=i,this.supportedEventTypes=[$.TAP,$.CLICK,$.SUBMIT]}t_(t){let e="",i=document.createTreeWalker(t,NodeFilter.SHOW_TEXT),r=i.nextNode();for(;r;){if(e+=r.textContent,Sr(r.parentElement)||Er(r.parentElement)||this.le.getElementSensitiveStatus(r.parentElement)!==xe.CAPTURED)return!0;if(csString.prototype.trim.call(e).length>=ta)break;r=i.nextNode()}return!1}e_(t){let e=tr(t,"button,a");return e||(this.f.collectTargetText===Xn.ButtonAndLinkOnly?null:t)}baseEnhanceAnalysisEvent(t,e){if(ai(csEventtarget.apply(t))){let i=this.e_(csEventtarget.apply(t));if(i&&z(i.textContent)&&!this.t_(i)&&!this.N.hasPII(i.textContent,this.f.anonymizeDigits)){let r=lt.truncate(csString.prototype.trim.call(i.textContent),ta);r.length>0&&(e.text=r)}}return e}}return s})(),bc=(()=>{class s extends mi{constructor(t,e){super(),this.ft=t,this.le=e,this.supportedEventTypes=[$.CLICK,$.SUBMIT,$.CHANGE,$.TAP]}baseEnhanceAnalysisEvent(t,e){let i=this.le.getSensitiveStatus().useAnonymization,{path:r,hierarchy:a}=this.ft.getEventTargetPathAndHierarchy(t,i);return e.tgt=r,e.hrchy=a,e}}return s})();function Sf(s,n,t){let e=[];return s.mouseMoveHeatmapEnabled&&csArray.prototype.push.call(e,new Ef(s,n)),s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new Tc(s,t,new pi)),s.collectHierarchy&&csArray.prototype.push.call(e,new bc(n,t)),csArray.prototype.push.call(e,new ff,new _c(n)),e}function vf(s,n,t){let e=[];return s.isCollectTargetTextEnabled()&&csArray.prototype.push.call(e,new Tc(s,t,new pi)),s.collectHierarchy&&csArray.prototype.push.call(e,new bc(n,t)),csArray.prototype.push.call(e,new _c(n)),e}var _f=50,wf=(()=>{class s{constructor(t=[]){this.Vt=t}stringifyEvents(){return csJSON.stringify(this.Vt)}addEvent(t){csArray.prototype.push.call(this.Vt,t)}eventsCount(){return this.Vt.length}clearEvents(){this.Vt=[]}empty(){this.clearEvents()}isFull(){return this.eventsCount()>=_f}isEmpty(){return this.Vt.length===0}getEvents(){return this.Vt}}return s})(),Tf="csAnalysisEventsPersisted",ea="v2/events",Ac=["submit"],cr=["trackEvent"];var bf=(()=>{class s{constructor(t,e,i,r,a,c,l,u,m,d,E,y,v){this.f=t,this.mt=e,this.I=i,this.Q=r,this.Lt=a,this.E=c,this.G=l,this.xt=u,this.pt=m,this.zt=d,this.X=E,this.le=y,this.vl=v}init(){let t=new wf,e=this.zt.create(`${this.f.getTrackerUri()}/${ea}`,!0,"base64");this.Wo=this.s_(e),this.Ie=this.i_(t,this.Wo.getRecoveryStorage(),e),this.Ie.init(),this.X.addListener(this.Ie),this.pt.addListener(this.Ie),this.E.register(Ac,(i,r)=>{this.Ie.pushSubmitCommandEvent(i,r)}),this.E.register(cr,i=>{if(!wa(i))throw new Error(`Command misuse: ${cr}`);this.Ie.pushCustomEvent(i.name,i.source,i.properties)})}onStartTracking(t){this.Wo.start(),this.Ie.start(t)}onAfterNaturalPageView(){this.Ie.initStates()}onAfterArtificialPageView(){this.Ie.initStates(),this.Ie.collectInitialEvents()}onArtificialPageViewEnd(){this.Ie.clearStates(!0)}onBeforeSessionRenewal(){this.Ie.clearStates(),this.Ie.stop(),this.Wo.stop()}onOptout(){this.Ie.stop(),this.Wo.stop()}i_(t,e,i){var r;let a=new $p(window),c=new Qp,l=Sf(this.f,this.Q,this.le),u=[];this.f.collectSubmit||csArray.prototype.push.call(u,"submit");let m=new Jp(l,this.Q,this.Lt,u),d=vf(this.f,this.Q,this.le),E=new Xp(d,this.xt),y=new rf(new pf),v=new fc,C,I,S,_=new gc(`${this.f.getTrackerUri()}/${ea}`),D=new ri(this.mt,this.I),O,b,x,J;return new ef(this.f,m,E,c,a,t,_,D,this.G,e,this.Q,y,v,i,C,I,S,O,b,x,J)}s_(t){return new sf(new nf(Tf),t)}}return s})();var Af=(()=>{let s;return function(n){function a(u,m,d=!1){let y={message:lt.truncate(u,300,lt.ELLIPSIS),errorType:"customError"};return(d||l(m))&&(c(m),y.attributes=m),y}n.buildCustomErrorEvent=a;function c(u){for(let m in u){let d=u[m];if(typeof d=="string"&&d.length>30&&(d=lt.truncate(d,30,lt.ELLIPSIS),u[m]=d),m.length>30){let E=lt.truncate(m,30,lt.ELLIPSIS);delete u[m],u[E]=d}}}function l(u){let m=Object.keys(u).length;return m>0&&m<=5}}(s||(s={})),s})();var Nr=["trackError"],Rf=20,Cf=(()=>{class s extends Ot{constructor(t,e,i,r,a){super(),this.Il=t,this.mt=e,this.Xs=i,this.X=r,this.bs=a,this.Zo=[],this.Pi=0,this.Oi=[]}initStates(){var t;this.wl(),this.Ze=P.now(),this.Zo=[],this.Pi=0,(t=this.bs)===null||t===void 0||t.onEvent(e=>this.J(e))}trackCustomError(t,e={}){if(!(z(t)&&Cs(e)&&Tt(e)))throw new Error(`Command misuse: ${Nr[0]}`);let i=Af.buildCustomErrorEvent(t,e);this.vr(i)}onIframeCustomError(t){this.J(t)}onStart(){var t;this.Pl(),(t=this.bs)===null||t===void 0||t.start()}onStop(){var t;(t=this.bs)===null||t===void 0||t.stop()}Pl(){this.isStarted&&(csArray.prototype.forEach.call(this.Oi,t=>this.vr(t)),this.Oi=[])}vr(t){if(this.isStarted){let e=this.J(t);e&&this.X.emitCustomErrorEvent(e)}else csArray.prototype.push.call(this.Oi,t)}J(t){if(this.isStarted&&this.Pi<Rf){let e=this.C_(t);return csArray.prototype.push.call(this.Zo,e),this.yr(),e}return null}C_(t){let e={...t,rt:this.Ai()};return e.message=this.Xs.anonymize(t.message),e}wl(){this.Il.removeQueryParams(),this.Il.setQueryParams(this.mt.getRequestParameters())}Ai(){return P.now()-this.Ze}yr(){this.Il.send({errors:this.Zo}),this.Zo=[],this.Pi+=1}}return s})(),If="custom-errors",Pf=(()=>{class s{constructor(t,e,i,r,a,c,l,u){this.Xs=t,this.f=e,this.mt=i,this.E=r,this.Ks=a,this.zt=c,this.pt=l,this.bs=u}init(){let t=this.zt.create(`${this.f.getTrackerUri()}/${If}`,!0);this.Ni=new Cf(t,this.mt,this.Xs,this.Ks,this.bs),this.pt.addListener(this.Ni),this.ht()}ht(){this.E.register(Nr,(t,e)=>{this.Ni.trackCustomError(t,e)})}onStartTracking(){this.Ni.start()}onAfterNaturalPageView(){this.Ni.initStates()}onAfterArtificialPageView(){this.Ni.initStates()}onBeforeSessionRenewal(){this.Ni.stop()}onOptout(){this.Ni.stop()}}return s})(),Of=/(\b["']?key["']?\s*[=:]\s*["'](?:first|last|user|profile|primary|primary[ _-]?last)[ _-]?name["']\s*,?\s*["']?value["']?\s*[=:]\s*["'])(.+?)(["']|…$)|(\b["']?(?:first|last|user|profile|primary|primary[ _-]?last)[\s_-]?name["']?\s*[=:]\s*["'])(.+?)(["']|…$)/gi,Nf="$1$4CS_ANONYMIZED_NAME$3$6",Mf=/(?:\(\d{3}\) \d{3}[- ]\d{4}\b)|(?:\b\d{3}([-\. ])\d{3}\1\d{4}\b)|(?:\b\d{2} \d{2} \d{2} \d{2} \d{2}\b)|(?:\b\d{4} \d{3} \d{3}\b)|(?:\b\d{2}([-\. ])\d{4}\2\d{4}\b)|(?:\b\d{3}([- ])\d{4}\3\d{4}\b)|(?:\+\d{1,3} \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \(\d{3}\) \d{3}-\d{4}\b)|(?:\+\d{1,3}([- ])\d{4}\4\d{3}\4\d{3}\b)|(?:\+\d{1,3} \d \d{4} \d{4}\b)|(?:\+\d{1,3} \d \d{3} \d{3} \d{4}\b)|(?:\+\d{1,3} \d \d{2} \d{2} \d{2} \d{2}\b)|(?:\+\d{7,15}\b)|(?:\+\d{1,3} \d{6,12}\b)|(?:\+\d{1,3}([- ])\d{4}\5\d{3}\5\d{3}\b)/g,kf="CS_ANONYMIZED_PHONE",Df=(()=>{class s{constructor(t,e){this.N=t,this.tt=e}anonymize(t){return this.tt?csArray.prototype.join.call(csArray.prototype.map.call(Pu(t),({content:e,isUrl:i})=>{var r;return i?(r=this.tt)===null||r===void 0?void 0:r.anonymizeUrl(e,{maskNames:!0}):this.Qp(e)}),""):this.Qp(t)}Qp(t){t=this.N.anonymizePII(t);let e=t;t=this.Er(t),t!==e&&(G.counters.redactedPII.count("name"),G.counters.redactedPII.count("name-in-custom-error"));let i=t;return t=this.I_(t),t!==i&&(G.counters.redactedPII.count("phone"),G.counters.redactedPII.count("phone-in-custom-error")),t}Er(t){return csString.prototype.replace.call(t,Of,Nf)}I_(t){return csString.prototype.replace.call(t,Mf,kf)}}return s})(),xf=20,Lf="Custom Error:",Vf="https://cserror.com/texterror.js",Uf=(()=>{class s extends Ot{constructor(t,e,i,r,a,c){super(),this.As=t,this.Ol=e,this.mt=i,this.pe=r,this.Ks=a,this.w=c,this.ta=[],this.Mi=0,this.Oi=[]}initStates(){this.Ze=P.now(),this.Ol.removeQueryParams(),this.Ol.setQueryParams(this.mt.getRequestParameters()),this.ta=[],this.Mi=0}onStart(){this.As.subscribe(s.Ut,t=>this.J(t)),this.Pl()}onStop(){this.As.unsubscribe(s.Ut)}onIframeJavascriptError(t){this.J(t)}trackCustomError(t){let e={errorType:"jsError",message:`${Lf} ${t}`,lineno:1,colno:1,filename:Vf};this.vr(e)}vr(t){if(this.isStarted){let e=this.J(t);e&&this.Ks.emitCustomJavaScriptErrorEvent(e)}else csArray.prototype.push.call(this.Oi,t)}Pl(){this.isStarted&&(csArray.prototype.forEach.call(this.Oi,t=>this.vr(t)),this.Oi=[])}J(t){if(this.isStarted&&this.Mi<xf){let e={...t,pageUrl:this.w.getAnonymizedUrl(),rt:this.Ai()};return this.pe.anonymize(e),csArray.prototype.push.call(this.ta,e),this.yr(),e}return null}Ai(){return P.now()-this.Ze}yr(){this.Ol.send({errors:this.ta}),this.ta=[],this.Mi+=1}}return s.Ut="JavaScriptErrorsService",s})(),jf="errors",Hf=(()=>{class s{constructor(t,e,i,r,a,c,l,u,m){this.As=t,this.pe=e,this.f=i,this.mt=r,this.pt=a,this.E=c,this.Ks=l,this.w=u,this.zt=m}init(){let t=this.zt.create(`${this.f.getTrackerUri()}/${jf}`,!0);this.ki=new Uf(this.As,t,this.mt,this.pe,this.Ks,this.w),this.pt.addListener(this.ki),this.ht()}ht(){this.f.jsCustomErrorsEnabled&&!this.f.customErrors.enabled&&this.E.register(Nr,t=>{this.ki.trackCustomError(t)})}onStartTracking(){this.ki.start()}onAfterNaturalPageView(){this.ki.initStates()}onAfterArtificialPageView(){this.ki.initStates()}onBeforeSessionRenewal(){this.ki.stop()}onOptout(){this.ki.stop()}}return s})(),Rc=(()=>{class s{constructor(t){this.A=t,this.Js=!1,this.$t={boundElement:tt,type:"error",listener:e=>this.P_(e)}}observe(){Ct(this.$t,this.Js)}disconnect(){It(this.$t,this.Js)}P_(t){this.A(t)}}return s})(),Bf=(()=>{class s extends rc{constructor(){super(),this.z=new Rc(t=>this.errorListener(t))}onStartTracking(){this.z.observe()}onStopTracking(){this.z.disconnect()}errorListener(t){let e=this.O_(t);for(let i in this.subscriptions){let r=this.subscriptions[i];r(e)}}N_(t){return t=t!=null?t:"[NO ERROR MESSAGE]",lt.truncate(t,s.Nl,lt.ELLIPSIS)}M_(t){return!t||qt(t)?"":lt.truncate(t,s.Ml,lt.ELLIPSIS)}O_(t){return{errorType:"jsError",message:this.N_(t.message),filename:this.M_(t.filename),lineno:t.lineno,colno:t.colno}}}return s.Nl=1024,s.Ml=150,B([U("Event handler type: error")],s.prototype,"errorListener",null),s})(),Ff="CS_ANONYMIZED_VALUE",$f=(()=>{class s{constructor(t,e){this.N=t,this.w=e}anonymize(t){return z(t.message)&&(t.message=this.k_(t.message),t.message=this.N.anonymizePII(t.message)),z(t.filename)&&(t.filename=this.w.computeOverriddenUrl(t.filename)),t}k_(t){return csString.prototype.replace.call(t,/(value\s*=\s*".*"|value\s*=\s*'.*')/,`value='${Ff}'`)}}return s})(),zf=512,Gf=255,On=(()=>{class s{constructor(t,e){this.key=csString.prototype.slice.call(t,0,zf),this.value=z(e)?csString.prototype.slice.call(e,0,Gf):e}static isKeyValid(t){return z(t)}static isValueValid(t){return z(t)||Rs(t)}}return s})(),qf=(()=>{class s extends Ot{constructor(t,e){super(),this.Gt=t,this.N=e,this.kl=[]}onStart(){csArray.prototype.forEach.call(this.kl,t=>this.Zp(t.key,t.value)),this.kl=[]}onStop(){}Zp(t,e){let i=this.N.anonymizePII(t),r=Rs(e)?e:this.N.anonymizePII(e);this.Gt.add(new On(i,r))}trackDynamicVariable(t,e){if(On.isKeyValid(t)&&On.isValueValid(e)){if(!this.isStarted){csArray.prototype.push.call(this.kl,{key:t,value:e});return}this.Zp(t,e)}else throw new Error(`Command misuse: ${Cc[0]}`)}}return s})(),Wf=(()=>{class s{constructor(t){this.fe=t,this.Gt=[]}add(t){csArray.prototype.push.call(this.Gt,t),this.setBatchReadyCall()}clear(){this.Gt=[]}onBatchReady(t){this.D_=t}getRequestParameters(){let t={};for(let e of this.Gt)t[e.key]=e.value;return{dv:this.fe.compressSync(csJSON.stringify(t),"base64"),ct:this.fe.algorithm}}setBatchReadyCall(){this.D_()}}return B([Rr({wait:0,mode:"trailing"}),U("dynamicVariablesBatchReady")],s.prototype,"setBatchReadyCall",null),s})(),Yf="dvar",Cc=["trackDynamicVariable"],Xf=(()=>{class s{constructor(t,e,i,r,a,c){this.E=t,this.R=e,this.f=i,this.Le=r,this.fe=a,this.N=c,this.ps=new Ps(this.f.getTrackerUri(),Yf),this.Gt=new Wf(this.fe),this.Di=new qf(this.Gt,this.N)}init(){this.ps.setRequestParametersProviders(this.Le,this.Gt),this.R.setDynamicVariablesService(this.Di),this.Gt.onBatchReady(()=>this.ps.send()),this.ps.after(()=>this.Gt.clear()),this.E.register(Cc,({key:t,value:e}={})=>{this.Di.trackDynamicVariable(t,e)})}onStartTracking(){this.Di.start()}}return s})(),sa=(()=>{class s{constructor(t,e){this.id=t,this.revenue=e}static from(t){let e=new s(t.id,parseFloat(t.revenue));return isNaN(parseFloat(t.tax))||(e.tax=parseFloat(t.tax)),isNaN(parseFloat(t.shipping))||(e.shipping=parseFloat(t.shipping)),z(t.currency)&&t.currency.length<=10&&(e.currency=t.currency),e}hasValidRevenue(){return!isNaN(this.revenue)&&this.revenue>=0}static isValid(t){return Tt(t)&&Yt(t.revenue)&&z(t.currency)&&t.currency.length<=10&&(!Tt(t.id)||z(t.id))}}return s})(),Ic=100,Kf=100,Jf=(()=>{class s{constructor(t,e,i,r){this.id=t,this.name=e,this.price=i,this.quantity=r}static from(t){if(!s.Bc(t))return null;let e=new s(t.id,t.name,parseFloat(t.price),parseInt(t.quantity,10));return Z(t.sku)&&(e.sku=t.sku),Z(t.category)&&(e.category=t.category),Z(t.merchant)&&t.merchant.length>0&&(e.merchant=t.merchant.slice(0,Ic)),e}static Bc(t){return Tt(t)&&z(t.id)&&z(t.name)&&Yt(parseFloat(t.price))&&Rs(parseInt(t.quantity,10))&&(!Z(t.sku)||z(t.sku))&&(!Z(t.category)||z(t.category))&&(!Z(t.merchant)||z(t.merchant))}}return s})(),Qf=(()=>{class s extends Ot{constructor(t,e,i){super(),this.N=t,this.tf=e,this.G=i,this.Dl=[],this.clear()}onStart(){csArray.prototype.forEach.call(this.Dl,t=>{this.ge=t.transaction,this._r=t.transactionItems,this.sendTransaction()}),this.Dl=[]}onStop(){}addTransaction(t){let e=this.N.anonymizeFields(t,["id"]);this.ge=sa.from(e)}getTransaction(){return this.ge}sendTransaction(){if(!this.isStarted){csArray.prototype.push.call(this.Dl,{transaction:this.ge,transactionItems:[...this._r]}),this.clear();return}if(!(this.tf===null||this.G===null)&&(this.G.refreshSession(),!!this.G.isSessionValid())){if(!this.ge.hasValidRevenue()){F.warn("Transaction Service: unable to send transaction with invalid parameters");return}this.tf.send()}}addItem(t){if(Ge(t))throw new Error(`Command misuse: ${Pc[1]}`);let e=this.N.anonymizeFields(t,["id","name","sku","category"]),i=Jf.from(e);i!==null&&csArray.prototype.push.call(this._r,i)}getItems(){return this._r}clear(){this.ge=sa.from({revenue:NaN}),this._r=[]}getRequestParameters(){let t={id:this.ge.id?`${this.ge.id}`:"",revenue:`${this.ge.revenue}`};return Z(this.ge.tax)&&(t.tax=`${this.ge.tax}`),Z(this.ge.shipping)&&(t.shipping=`${this.ge.shipping}`),Z(this.ge.currency)&&(t.cu=`${this.ge.currency}`),t.items=window.csJSON.stringify(this._r),t}}return s})(),Zf=(()=>{class s extends Ot{constructor(t,e){super(),this.x_=t,this.G=e,this.Pe=null,this.xl=[]}onStart(){csArray.prototype.forEach.call(this.xl,t=>{this.Pe=t,this.ef()}),this.xl=[]}onStop(){}addToCart(t){let e={};z(t.sku)&&(e.sku=csString.prototype.slice.call(t.sku,0,Kf)),z(t.merchant)&&(e.merchant=csString.prototype.slice.call(t.merchant,0,Ic)),(e.sku||e.merchant)&&(this.Pe=e,this.ef())}getCartItem(){return this.Pe}ef(){if(!this.isStarted&&this.Pe!==null){csArray.prototype.push.call(this.xl,this.Pe),this.clear();return}this.G.refreshSession(),this.G.isSessionValid()&&this.x_.send()}clear(){this.Pe=null}getRequestParameters(){if(!this.Pe)return{};let t={};return z(this.Pe.sku)&&this.Pe.sku.length>0&&(t.sku=this.Pe.sku),z(this.Pe.merchant)&&this.Pe.merchant.length>0&&(t.me=this.Pe.merchant),t}}return s})(),tg=["ecommerce:addToCart","ec:cart:add"],eg=["ecommerce:addTransaction","ec:transaction:create"],Pc=["ecommerce:addItem","ec:transaction:items:add"],sg=["ecommerce:send","ec:transaction:send"],ig=(()=>{class s{constructor(t,e,i,r,a,c,l){this.f=t,this.mt=e,this.I=i,this.E=r,this.N=a,this.G=c,this.w=l}init(){let t=new Ps(this.f.getTrackerUri(),"transaction"),e=new Ps(this.f.getTrackerUri(),"addtocart");this.ss=new Qf(this.N,t,this.G),this.sa=new Zf(e,this.G);let i=new ri(this.mt,this.I,this.w,this.ss);t.setRequestParametersProviders(i),t.after(()=>{this.ss.clear()});let r=new ri(this.mt,this.I,this.w,this.sa);e.setRequestParametersProviders(r),e.after(()=>{this.sa.clear()}),this.E.register(eg,a=>{this.ss.addTransaction(a)}),this.E.register(Pc,a=>this.ss.addItem(a)),this.E.register(sg,()=>this.ss.sendTransaction()),this.E.register(tg,a=>{this.sa.addToCart(a)})}onStartTracking(){this.ss.start(),this.sa.start()}}return s})();var ng=2,Mr=(()=>{class s{constructor(t){this.$_=t,this.ia=0}addString(t){this.ia+=t.length*ng}addArrayBuffer(t){this.ia+=t.byteLength}isThresholdReached(){return this.ia>this.$_}reset(){this.ia=0}}return s})();var rg=()=>(s,n,t)=>{t.value=og(t.value)};function og(s){let n=csSymbol("oncePerTickSymbol"),t=null,e={},i=function(){var r;let a=(r=this)!==null&&r!==void 0?r:e;if(t=arguments,a[n])return;a[n]=!0,gr(()=>{a[n]=!1,s.apply(a,t)})};return i.oncePerTickSymbol=n,i}rg.isScheduled=(s,n)=>{let t=n.oncePerTickSymbol;return s[t]};var Mi=(()=>{let s;return function(n){n[n.NOT_NEEDED=1]="NOT_NEEDED",n[n.NOT_EXPRESSED=2]="NOT_EXPRESSED",n[n.WITHDRAWN=3]="WITHDRAWN",n[n.GRANTED=4]="GRANTED"}(s||(s={})),s})(),Be=(()=>{let s;return function(n){function t(r){return r.replayConsentRequiredForSession}n.isReplayConsentNeeded=t;function e(r){return r.collectState===L.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED||r.collectState===L.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingBlockedByConsent=e;function i(r){return r.collectState===L.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}n.isRecordingWithDrawn=i}(s||(s={})),s})(),ag=(()=>{class s{constructor(t,e,i,r){this.I=t,this.R=e,this.f=i,this.as=r,this.Ef=!1}isNaturalPageViewSent(){return this.Ef}setNaturalPageViewSent(t){this.Ef=t}getTrackingContext(){let t=this.R.getSession();if(!t)return null;let e=this.getSessionKey();if(!e)return null;let i=this.f.projectId,r=this.f.uxaDomain,a=t.pageNumber,c=this.as.getPageViewType(),l=this.R.isReplayRecorded(),u=this.Tw(t);return{projectId:i,sessionKey:e,pageNumber:a,pageViewType:c,isRecording:l,uxaDomain:r,recordingConsentState:u,...this.f.smbConfig}}getSessionKey(){let t=this.I.getVisitor();return t?`${t.id}.${t.visitsCount}`:null}Tw(t){return Be.isReplayConsentNeeded(this.f)?t.collectState===L.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED?Mi.NOT_EXPRESSED:t.collectState===L.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?Mi.WITHDRAWN:Mi.GRANTED:Mi.NOT_NEEDED}}return s})(),cg=(()=>{class s{constructor(t){this.It=t,this.se=[]}handleCommand(t){if(Ge(t)&&(this.Ir(t),this.It.isNaturalPageViewSent())){let e=this.It.getTrackingContext();e!==null&&this.jt(t,e)}}Ir(t){csArray.prototype.push.call(this.se,t)}executeRegisteredCallbacks(){let t=this.It.getTrackingContext();t!==null&&csArray.prototype.map.call(this.se,e=>this.jt(e,t))}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})(),lg=(()=>{class s{constructor(t){this.It=t,this.xi=[]}handleCommand(t){if(this.It.isNaturalPageViewSent())return this.bw(t);this.Pr(t)}bw(t){let e=this.It.getSessionKey();return this.Sf(t)&&e!==null&&this.jt(t.callback,e),e}Pr(t){this.Sf(t)&&csArray.prototype.push.call(this.xi,t.callback)}flushPendingCallbacks(){let t=this.It.getSessionKey();t!==null&&csArray.prototype.forEach.call(this.xi,e=>{this.jt(e,t)}),this.xi=[]}Sf(t){return t&&typeof t.callback=="function"}jt(t,e){csSetTimeout(()=>{t(e)})}}return s})();function hg(s,n){let{isRecording:t,pageNumber:e,projectId:i,siteId:r,uxaDomain:a,csLiteDomain:c}=s,l=/^(.+)\.(\d+)$/.exec(s.sessionKey),u;if(t&&l){let[,m,d]=l;r?u=`${c}/sites/${r}/player?uu=${m}&sn=${d}&pn=${e}`:u=`${a}/quick-playback/index.html?pid=${i}&uu=${m}&sn=${d}&pvid=${e}&recordingType=cs`,n.withTimestamp&&(u+=`&t=${P.now()-n.recordingStartTimestamp}`)}return{replayLink:u,isRecording:t}}var ug=(()=>{class s{constructor(t){this.It=t}handleCommand(t,e){Cs(t)&&Ge(e)&&this.jt(t,e)}jt(t,e){csSetTimeout(()=>{let i=this.It.getTrackingContext();if(i){let r=hg(i,t);e(r)}})}}return s})(),dg=(()=>{class s{constructor(){this.se=new Set}handleCommand(t,e){return!Ge(t)||this.se.has(t)?null:(this.se.add(t),e&&(this.Ne=e,this.vf(t,e)),()=>this.se.delete(t))}executeCallbacks(t){this.Aw(t)&&(this.Ne=t,this.se.forEach(e=>this.vf(e,t)))}vf(t,e){csSetTimeout(()=>{try{t(e)}catch{}})}Aw(t){let{isRecording:e,recordingStartTimestamp:i,etrState:r,etrStatus:a,collectState:c}=t;return this.Ne&&(this.Ne.isRecording!==e||this.Ne.recordingStartTimestamp!==i||this.Ne.etrState!==r||this.Ne.etrStatus!==a||this.Ne.collectState!==c)}}return s})(),pg=["afterPageView"],fg=["getSessionKey"],gg=["onRecordingContextChange","onRecordingStateChange"],mg=["replay:link:generate"],yg=(()=>{class s{constructor(t,e,i,r,a,c,l,u){this.I=t,this.R=e,this.E=i,this.pt=r,this.Z=a,this.f=c,this.as=l,this.Hs=u,this._f=null}init(){this.It=new ag(this.I,this.R,this.f,this.as),this.Hl=new cg(this.It),this.wf=new lg(this.It),this.Or=new dg,this.Rw=new ug(this.It),this.E.register(fg,t=>this.wf.handleCommand(t)),this.E.register(pg,t=>this.Hl.handleCommand(t)),this.E.register(gg,t=>this.Or.handleCommand(t,this.Hs.getRecordingContext())),this.E.register(mg,(t,e)=>{this._n&&this.Rw.handleCommand({...t,recordingStartTimestamp:this.Hs.getRecordingContext().recordingStartTimestamp},e)})}onAfterNaturalPageView(){var t;this.It.setNaturalPageViewSent(!0),this.wf.flushPendingCallbacks(),this.Hl.executeRegisteredCallbacks(),(t=this._f)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onAfterArtificialPageView(){var t;this.Hl.executeRegisteredCallbacks(),(t=this._f)===null||t===void 0||t.sendAfterPageViewCallbackToChildren()}onCollectStateChange(){this.executeRecordingContextChangeCallbacks()}onRecordingContextChange(){this.executeRecordingContextChangeCallbacks()}executeRecordingContextChangeCallbacks(){this.Or.executeCallbacks(this.Hs.getRecordingContext())}setRecordingService(t){this._n=t}}return B([Rr({wait:0,mode:"trailing"})],s.prototype,"executeRecordingContextChangeCallbacks",null),s})(),Eg=(()=>{class s{constructor(t){this.E=t}init(){this.Tf(s.Cw,Wa),this.Tf(s.Iw,qa)}Tf(t,e){this.E.register([t],(i,r)=>{!z(i)||!(z(r)||qe(r))||F.error(r,`${e}${i}`)})}}return s.Iw="logSnippetError",s.Cw="logImplementationSnippetError",s})(),Sg="@ETP@",ia="@user-identifier@",vg=(()=>{class s extends Ot{constructor(t,e,i,r){super(),this.f=t,this.Pw=e,this.fe=i,this.X=r,this.Bl=[],this.Li=[]}onStart(){csArray.prototype.forEach.call(this.Bl,t=>this.bf(t)),this.Bl=[],csArray.prototype.forEach.call(this.Li,t=>this.Af(t)),this.Li=[]}onStop(){}bf(t){this.Ow(t)?Ys.isSupported()&&this.Nw(t):this.Mw(t)}trackPageEvent(t){if(!s.Rf(t))throw new Error(`Command misuse: ${Oc[0]}`);this.isStarted?this.bf(t):csArray.prototype.push.call(this.Bl,t)}Ow(t){return Kn(t,ia)}async Nw(t){if(!this.f.customHashIdEnabled)return;let e=csString.prototype.slice.call(t,ia.length);if(e.length>Ys.MAX_DIGEST_INPUT_SIZE){F.warn("UserIdentifier event: invalid user identifier");return}let i=await Ys.digest(e);i?(this.wn={eventName:i,isETR:!1,isCustomHashId:!0},this.da()):F.warn("Page event: unable to compute customHashId"),this.f.encryptionEnabled&&this.X.emitUserIdentifierEvent(e)}Mw(t){this.X.emitPageEvent(t),this.wn={eventName:t,isETR:!1,isCustomHashId:!1},this.da(),this.f.tagDeploymentMode===cs.LoadClicktalePtc&&jo.sendPageEvent(t)}Af(t){this.f.malkaEtrEnabled?this.kw(t):this.Dw(t)}trackEventTriggerRecording(t){if(!s.Rf(t))throw new Error(`Command misuse: ${Nc[0]}`);this.isStarted?this.Af(t):csArray.prototype.push.call(this.Li,t)}kw(t){Kn(t,Sg)?this.X.emitEventTriggerRecording(t,ze.ETR_PAGE):this.X.emitEventTriggerRecording(t,ze.ETR_SESSION),this.wn={eventName:t,isETR:!0,isCustomHashId:!1},this.da()}Dw(t){mp(this.f)&&(this.X.emitEventTriggerRecording(t,ze.ETR_LEGACY),this.wn={eventName:t,isETR:!0,isCustomHashId:!1},this.da(),this.f.tagDeploymentMode===cs.LoadClicktalePtc&&jo.sendEventTriggerRecording(t))}getRequestParameters(){return{value:this.fe.compressSync(this.wn.eventName,"base64"),ct:this.fe.algorithm,isETR:`${this.wn.isETR}`,isCustomHashId:`${this.wn.isCustomHashId}`}}da(){this.Pw.send()}static Rf(t){return z(t)&&!!csString.prototype.trim.call(t)}}return s})(),Oc=["trackPageEvent"],Nc=["trackEventTriggerRecording"],_g=(()=>{class s{constructor(t,e,i,r,a){this.f=t,this.E=e,this.fe=i,this.Le=r,this.X=a}init(){let t=new Ps(this.f.getTrackerUri(),"pageEvent");this.pa=new vg(this.f,t,this.fe,this.X),t.setRequestParametersProviders(this.pa,this.Le),this.E.register(Oc,e=>{this.pa.trackPageEvent(e)}),this.E.register(Nc,e=>{this.pa.trackEventTriggerRecording(e)})}onStartTracking(){this.pa.start()}}return s})();var Hi=(()=>{let s;return function(n){n.Artificial="a",n.Renewal="r",n.Natural="n"}(s||(s={})),s})(),wg=(()=>{class s{constructor(){this.Fl=Hi.Natural}setPageViewType(t){this.Fl=t}getPageViewType(){return this.Fl}getRequestParameters(){return{pvt:this.Fl}}}return s})();var Tg=(()=>{class s extends Ot{constructor(t,e,i,r,a){super(),this.S=t,this.X=e,this.$l=i,this.w=r,this.as=a}init(){this.Hw()}onStart(t){t?this.Bw():this.Fw()}onStop(){}triggerArtificialPageView(t,e){this.isStarted?this.If(t,e):Tt(t)&&this.w.overridePath(t,e),this.isStarted||(this.X.emitTargetingRulesArtificialPageview(this.w.getUrl()),this.w.cleanupOverrideLifespan())}Fw(){this.as.setPageViewType(Hi.Natural),this.S.emitBeforeNaturalPageView(this.w.getAnonymizedUrl()),this.$l.send(),this.w.cleanupOverrideLifespan(),this.S.emitAfterNaturalPageView()}Bw(){this.as.setPageViewType(Hi.Renewal),this.S.emitBeforeNaturalPageView(this.w.getAnonymizedUrl()),this.$l.send(),this.S.emitAfterNaturalPageView()}If(t,e){let i=this.w.getAnonymizedUrl();this.as.setPageViewType(Hi.Artificial),this.S.emitArtificialPageViewEnd(),Tt(t)&&this.w.overridePath(t,e),this.S.emitBeforeArtificialPageView(i,this.w.getAnonymizedUrl()),this.$l.send(),this.w.cleanupOverrideLifespan(),this.S.emitAfterArtificialPageView()}Hw(){window.addEventListener("pageshow",t=>{this.isStarted&&t.persisted&&this.If()})}}return s})(),bg=window.navigator.language||window.navigator.userLanguage||window.navigator.browserLanguage||window.navigator.systemLanguage||"unknown";function Ag(){return{la:bg}}var Rg=99999,Cg=(()=>{class s{constructor(t){this.R=t,this.$w=this.zw()&&window.CSCurrentScript}Gw(){let t=window.CSCurrentScript;if(!t)return null;let e=window.performance.getEntriesByName(t.src,"resource")[0];return!e||this.qw(e)?null:Math.round(e.responseEnd-e.fetchStart)}qw(t){let e=t.transferSize;return e!==void 0?e===0||e===300||e<t.encodedBodySize:t.connectStart===t.domainLookupEnd}getRequestParameters(){if(!this.$w||this.Ww()!==1)return{};let t=this.Gw();return t===null?{}:{dt:`${Math.min(t,Rg)}`}}Ww(){var t;return((t=this.R.getSession())===null||t===void 0?void 0:t.pageNumber)||null}zw(){return typeof window.performance=="object"&&typeof window.performance.getEntriesByName=="function"}}return s})(),Ig=["trackPageview"],na=["setPath"],ra=["setQuery"],oa=["referrer:maskUrl"],Pg=["referrer:removeQueryString"],Og=["referrer:keepQueryString"],Nn=s=>Cs(s)&&s!==null,Ng=(s,n,t,e)=>{s.register(Ig,(i,r)=>{if(!z(i)){n.triggerArtificialPageView();return}Nn(r)?n.triggerArtificialPageView(i,r):n.triggerArtificialPageView(i)}),s.register(na,(i,r)=>{if(!z(i))throw new Error(`Command misuse: ${na[0]}`);Nn(r)?t.overridePath(i,r):t.overridePath(i)}),s.register(ra,(i,r)=>{if(!z(i))throw new Error(`Command misuse: ${ra[0]}`);Nn(r)?t.overrideQuery(i,r):t.overrideQuery(i)}),e&&(s.register(oa,i=>{if(!z(i))throw new Error(`Command misuse: ${oa[0]}`);e.addUrlMaskingPattern(i)}),s.register(Pg,()=>e.enableRemoveQueryString()),s.register(Og,()=>e.disableRemoveQueryString()))};var Mg=(()=>{class s{constructor(t,e,i,r,a,c,l,u,m,d,E,y,v,C,I){this.f=t,this.E=e,this.S=i,this.Le=r,this.I=a,this.R=c,this.Vi=l,this.Tt=u,this.St=m,this.w=d,this.ie=E,this.as=y,this.X=v,this.We=C,this.Xi=I}init(){let t=new Ps(this.f.getTrackerUri(),"pageview");this.ti=new Tg(this.S,this.X,t,this.w,this.as),this.ti.init();let e=new ri(this.Le,this.I,dt,this.Vi,this.w,this.Tt,dr,this.St,this.as,new Cg(this.R),this.ie);this.We&&e.addProvider(this.We),this.Xi&&e.addProvider(this.Xi);let i=this.f.isCsCrosswritingHeap();if(i||this.f.isCsSideloadingHeap()||this.f.isHeapSideloadsCs()){let r=this.f.getHeapEnvId()||void 0;e.addProvider({getRequestParameters(){let a={cw:i?"1":"2"};return r&&(a.happid=r),a}})}t.setRequestParametersProviders(e),Ng(this.E,this.ti,this.w,this.Vi)}start(t){this.ti.start(t)}onBeforeSessionRenewal(){this.ti.stop()}}return s})();function kg(s,n){let t=!1,e=function(){if(!t)return s.apply(n,arguments)};return e.cancel=()=>t=!0,e}var ge=csSymbol(),kr=(()=>{class s{constructor(t){var e,i,r,a,c,l,u,m,d,E,y,v,C;this.A=t,this.zl=null,this.Gl=null,this.ql=null,this.Wl=null,this.Yl=null,this.Yw=nn(I=>this.processUpdateRulesInATick(I)),this.Xl=null,this.Kl=null,this.Jl=null,this.A=I=>Ht(()=>t(I)),typeof((i=(e=window.CSSStyleSheet)===null||e===void 0?void 0:e.prototype)===null||i===void 0?void 0:i.insertRule)=="function"&&(this.zl=is({target:window.CSSStyleSheet.prototype,methodName:"insertRule",hook:({context:I,args:S})=>{this.processInsertRule(I,S)}})),typeof((a=(r=window.CSSStyleSheet)===null||r===void 0?void 0:r.prototype)===null||a===void 0?void 0:a.deleteRule)=="function"&&(this.Gl=is({target:window.CSSStyleSheet.prototype,methodName:"deleteRule",hook:({context:I,args:S})=>{this.processDeleteRule(I,S)}})),typeof((l=(c=window.CSSGroupingRule)===null||c===void 0?void 0:c.prototype)===null||l===void 0?void 0:l.insertRule)=="function"&&(this.ql=is({target:window.CSSGroupingRule.prototype,methodName:"insertRule",hook:({context:I})=>this.processUpdateRule(I)})),typeof((m=(u=window.CSSGroupingRule)===null||u===void 0?void 0:u.prototype)===null||m===void 0?void 0:m.deleteRule)=="function"&&(this.Wl=is({target:window.CSSGroupingRule.prototype,methodName:"deleteRule",hook:({context:I})=>this.processUpdateRule(I)})),!((d=window.StyleSheet)===null||d===void 0)&&d.prototype&&"disabled"in window.StyleSheet.prototype&&(this.Yl=Xi(window.StyleSheet.prototype,"disabled",(I,S,_)=>{S!==_&&this.Xw(I,S)})),typeof((y=(E=window.CSSStyleDeclaration)===null||E===void 0?void 0:E.prototype)===null||y===void 0?void 0:y.setProperty)=="function"&&(this.Xl=is({target:window.CSSStyleDeclaration.prototype,methodName:"setProperty",hook:({context:I})=>{let S=I.parentRule;S instanceof CSSStyleRule&&this.processUpdateRule(S)}})),typeof((C=(v=window.CSSStyleDeclaration)===null||v===void 0?void 0:v.prototype)===null||C===void 0?void 0:C.removeProperty)=="function"&&(this.Kl=is({target:window.CSSStyleDeclaration.prototype,methodName:"removeProperty",hook:({context:I})=>{let S=I.parentRule;S instanceof CSSStyleRule&&this.processUpdateRule(S)}})),Object.getOwnPropertyDescriptor(window.CSSStyleRule.prototype,"style")&&(this.Jl=Gd(window.CSSStyleRule.prototype,"style",I=>{this.processUpdateRule(I)}))}observe(){var t,e,i,r,a,c,l,u;(t=this.zl)===null||t===void 0||t.activate(),(e=this.Gl)===null||e===void 0||e.activate(),(i=this.ql)===null||i===void 0||i.activate(),(r=this.Wl)===null||r===void 0||r.activate(),(a=this.Yl)===null||a===void 0||a.activate(),(c=this.Xl)===null||c===void 0||c.activate(),(l=this.Kl)===null||l===void 0||l.activate(),(u=this.Jl)===null||u===void 0||u.activate()}disconnect(){var t,e,i,r,a,c,l,u;(t=this.zl)===null||t===void 0||t.deactivate(),(e=this.Gl)===null||e===void 0||e.deactivate(),(i=this.ql)===null||i===void 0||i.deactivate(),(r=this.Wl)===null||r===void 0||r.deactivate(),(a=this.Yl)===null||a===void 0||a.deactivate(),(c=this.Xl)===null||c===void 0||c.deactivate(),(l=this.Kl)===null||l===void 0||l.deactivate(),(u=this.Jl)===null||u===void 0||u.deactivate()}processInsertRule(t,[e,i]){if(t[ge]==null&&!t.ownerNode)return;let r={type:"cssRuleInserted",sheet:t,rule:e,index:i};this.A(r)}processUpdateRule(t){let e=t;for(;e.parentRule!==null;)e=e.parentRule;e.parentStyleSheet!==null&&this.Yw.push(e)}processUpdateRulesInATick(t){for(let e of t){if(e.parentStyleSheet===null)return;let i=e.parentStyleSheet,r=csArray.prototype.indexOf.call(ei(i.cssRules),e);if(r===-1)return;let a={type:"cssRuleUpdated",sheet:i,rule:e.cssText,index:r};this.A(a)}}processDeleteRule(t,[e]){if(t[ge]==null&&!t.ownerNode)return;let i={type:"cssRuleDeleted",sheet:t,index:e};this.A(i)}Xw(t,e){if(t[ge]==null&&!t.ownerNode)return;let i={type:"cssStyleSheetDisabled",sheet:t,disabled:e};this.A(i)}}return ct([U()],s.prototype,"observe",null),ct([U()],s.prototype,"disconnect",null),ct([U()],s.prototype,"processInsertRule",null),ct([U()],s.prototype,"processUpdateRule",null),ct([U()],s.prototype,"processUpdateRulesInATick",null),ct([U()],s.prototype,"processDeleteRule",null),s})(),Dg=(()=>{class s{constructor(t){this.Kw=1,this.ga=new Set,this.Ql=null,this.Zl=null,this.Xc=(e,i)=>{(i==="initial"||i==="added")&&this.setStyleSheets(e,e.adoptedStyleSheets)},this.Jw=e=>{let i=e.sheet;if(this.ga.has(i)){if(e.type==="cssRuleInserted"){let r={type:"adoptedStyleSheetRuleInserted",sheetId:i[ge],rule:e.rule,index:e.index};this.A(r)}else if(e.type==="cssRuleDeleted"){let r={type:"adoptedStyleSheetRuleDeleted",sheetId:i[ge],index:e.index};this.A(r)}else if(e.type==="cssRuleUpdated"){let r={type:"adoptedStyleSheetRuleUpdated",sheetId:i[ge],rule:e.rule,index:e.index};this.A(r)}else if(e.type==="cssStyleSheetDisabled"){let r={type:"adoptedStyleSheetDisabled",sheetId:i[ge],disabled:e.disabled};this.A(r)}}},this.A=e=>Ht(async()=>{await Ca(2),t(e)}),this.ue=new ks(this.Xc),"adoptedStyleSheets"in Document.prototype&&(this.Ql=Xi(window.Document.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),"ShadowRoot"in window&&"adoptedStyleSheets"in window.ShadowRoot.prototype&&(this.Zl=Xi(window.ShadowRoot.prototype,"adoptedStyleSheets",(e,i)=>{this.setStyleSheets(e,i)})),this.Pf=new kr(this.Jw)}observe(){var t,e;this.setStyleSheets(document,document.adoptedStyleSheets),this.ue.observe(),(t=this.Ql)===null||t===void 0||t.activate(),(e=this.Zl)===null||e===void 0||e.activate(),this.Pf.observe()}disconnect(){var t,e;this.ga.clear(),this.ue.disconnect(),(t=this.Ql)===null||t===void 0||t.deactivate(),(e=this.Zl)===null||e===void 0||e.deactivate(),this.Pf.disconnect()}setStyleSheets(t,e){if(!e.length)return;this.Qw(e);let i=Fe(e,a=>a[ge]),r={type:"adoptedStyleSheetsSet",target:t,sheetsIds:i};this.A(r)}Qw(t){K(t,e=>{if(this.ga.has(e))return;let i=this.Kw++;e[ge]=i,this.ga.add(e);let r=this.Zw(e),a={type:"adoptedStyleSheetRegistered",sheetId:i,cssRules:r,disabled:e==null?void 0:e.disabled};this.A(a)})}Zw(t){let e=[];try{e=Fe(t.cssRules,i=>i.cssText)}catch{}return e}}return ct([U()],s.prototype,"observe",null),ct([U()],s.prototype,"disconnect",null),ct([U()],s.prototype,"setStyleSheets",null),s})(),xg=us(jg,"optimizeMutations"),Lg=csSymbol.for("ignoreNextSerialization");function Vg(){let s=new Set,n=new Set,t=new Set,e=new Set,i=new Map,r=new Map,a=new Map,c=new Set,l=new Set,u=new Map,m=new Set;return{isMovedNode(d){return s.has(d)},markAsMovedNode(d){m.delete(d),s.add(d)},isDetachedMove(d){return!!pt.findAncestor(d,E=>m.has(E),!0)},isAddedNode(d){let E=pt.findAncestor(d,y=>n.has(y)||l.has(y)||s.has(y),!0);return!!E&&!s.has(E)},isMovedNodeIntoAddedNode(d){return s.has(d)&&!!pt.findAncestor(d,E=>n.has(E)||l.has(E),!0)},markAsAddedNode(d){m.delete(d),l.delete(d),n.add(d)},markAsPendingInsert(d){l.add(d)},isPendingInsert(d){return l.has(d)},isRemovedNode(d){return!!pt.findAncestor(d,E=>t.has(E),!0)},markAsRemovedNode(d){t.add(d)},isUselessNode(d){return e.has(d)},markAsUselessNode(d){e.add(d)},getPlaceholder(d,E){let y=E==="previous"?r:i;return d&&y.has(d)?y.get(d)||null:d},getSiblings(d){let E=d.addedNodes.length,y=this.getPlaceholder(d.previousSibling,"previous"),v=this.getPlaceholder(d.nextSibling,"next");if(E){let C=y,I=v,S=d.previousSibling!==y,_=d.nextSibling!==v;for(let D=0;D<E;D++){let O=d.addedNodes[D],b=d.addedNodes[E-D-1];this.isLatestNodeMutation(O,d)?(r.delete(O),d.previousSibling&&S&&(i.set(d.previousSibling,O),S=!1),C=O):r.set(O,C),this.isLatestNodeMutation(b,d)?(i.delete(b),d.nextSibling&&_&&(r.set(d.nextSibling,b),_=!1),I=b):i.set(b,I)}}else d.previousSibling&&d.previousSibling!==y&&i.set(d.previousSibling,v),d.nextSibling&&d.nextSibling!==v&&r.set(d.nextSibling,y);return{previousSibling:y,nextSibling:v}},setAttributeMutation(d,E){let y=a.get(d)||new Set;y.add(E),a.set(d,y)},isAttributeMutated(d,E){var y;return!!(!((y=a.get(d))===null||y===void 0)&&y.has(E))},setLatestNodeMutation(d,E){u.set(d,E)},isLatestNodeMutation(d,E){return u.get(d)===E},markAsFutureAddedNode(d){u.has(d)||m.add(d)},isTextMutated(d){return c.has(d)},setTextMutated(d){return c.add(d)}}}function Ug(s,n){for(let t=0;t<s.addedNodes.length;t++){let e=s.addedNodes[t];n.markAsFutureAddedNode(e),n.setLatestNodeMutation(e,s)}for(let t=0;t<s.removedNodes.length;t++){let e=s.removedNodes[t];n.setLatestNodeMutation(e,s)}}function jg(s){let n=Vg(),t=[];for(let e of s)e.type==="childList"&&Ug(e,n);for(let e of s)switch(e.type){case"attributes":Bg(e,n,t);break;case"characterData":Hg(e,n,t);break;case"childList":zg(e,n,t);break}return t}function Hg(s,n,t=[]){let e=s.target;return pt.isConnected(e)&&!n.isTextMutated(e)&&!n.isAddedNode(e)&&!$g(e,"characterData")&&(n.setTextMutated(e),csArray.prototype.push.call(t,s)),t}function Bg(s,n,t=[]){let e=s.target,i=`${s.attributeNamespace}/${s.attributeName}`;return pt.isConnected(e)&&!n.isAttributeMutated(e,i)&&!n.isAddedNode(e)&&(n.setAttributeMutation(e,i),csArray.prototype.push.call(t,s)),t}var Fg=30;function $g(s,n,t){let e=csSymbol.for(t?`${n}:${t}`:n),i=P.now(),r=s[e];return r&&i<r?!0:(s[e]=i+Fg,!1)}function zg(s,n,t=[]){let e=pt.isConnected(s.target),i=!e&&n.isRemovedNode(s.target),r=e&&n.isAddedNode(s.target),a=n.getSiblings(s),c=a.nextSibling,l=a.previousSibling,u=null,m=()=>{if(u){let{childListType:y,movedNodes:v,...C}=u;csArray.prototype.push.call(t,y==="added"?C:{...C,movedNodes:v}),u=null}},d=y=>y===(u==null?void 0:u.childListType)?u:(m(),{childListType:y,type:"childList",target:s.target,addedNodes:[],removedNodes:[],movedNodes:[],previousSibling:l,nextSibling:c});if(e){for(let y=0;y<s.addedNodes.length;y++){let v=s.addedNodes[y];n.isLatestNodeMutation(v,s)?(n.isMovedNode(v)?(u=d("moved"),csArray.prototype.push.call(u.movedNodes,v)):(n.markAsAddedNode(v),r||(u=d("added"),csArray.prototype.push.call(u.addedNodes,v))),l=v):pt.isConnected(v)?n.isMovedNode(v)||n.markAsPendingInsert(v):n.markAsUselessNode(v)}m()}let E=Oa(s.removedNodes,y=>{if(pt.isConnected(y)){if(!i&&!n.isPendingInsert(y)){if(n.isDetachedMove(y))return!0;n.markAsMovedNode(y),n.isMovedNodeIntoAddedNode(y)&&(y[Lg]=!0)}return!1}return n.isUselessNode(y)?!1:(n.markAsRemovedNode(y),!0)});return E.length&&csArray.prototype.push.call(t,{type:"childList",removedNodes:E,addedNodes:[],movedNodes:[],target:s.target,nextSibling:c,previousSibling:l}),t}var Gg=(()=>{class s{constructor(t){this.A=t,this.th=!1,this.tT=e=>{e.sheet.ownerNode&&(e.type==="cssRuleInserted"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssRuleDeleted"?this.A({type:e.type,target:e.sheet.ownerNode,index:e.index}):e.type==="cssRuleUpdated"?this.A({type:e.type,target:e.sheet.ownerNode,rule:e.rule,index:e.index}):e.type==="cssStyleSheetDisabled"&&this.A({type:e.type,target:e.sheet.ownerNode,disabled:e.disabled}))},this.A=e=>Ht(()=>t(e)),this.Of=new kr(e=>Ht(async()=>{await Ca(),this.tT(e)})),"adoptedStyleSheets"in Document.prototype&&(this.Nf=new Dg(t))}observe(){var t;this.th=!1,this.D=new We(e=>this.eT(e),(e,i)=>{i==="added"&&this.sT(e)}),this.D.observe(),this.Of.observe(),(t=this.Nf)===null||t===void 0||t.observe()}disconnect(){var t,e;(t=this.D)===null||t===void 0||t.disconnect(),this.Of.disconnect(),(e=this.Nf)===null||e===void 0||e.disconnect(),this.th=!0}eT(t){if(this.th)return;let e=xg(t);for(let i=0;i<e.length;i++){let r=e[i];if(!r){rt.error("processRawMutations: empty record");continue}switch(r.type){case"attributes":this.processAttributeChanged(r);break;case"characterData":this.processCharacterDataChanged(r);break;case"childList":this.processChildListChanged(r);break;default:rt.error(`processRawMutations: unknown record type '${r.type}'`);break}}}processAttributeChanged(t){let e={type:"attributeChanged",target:t.target,attribute:t.attributeName,namespace:t.attributeNamespace,oldValue:t.oldValue,newValue:pt.getAttributeNS(t.target,t.attributeNamespace,t.attributeName)};this.A(e)}processCharacterDataChanged(t){let e={type:"characterDataChanged",target:t.target,oldValue:t.oldValue,newValue:t.target.data};this.A(e)}processChildListChanged(t){var e,i,r;if(!((e=t.movedNodes)===null||e===void 0)&&e.length){let a={type:"nodesMoved",target:t.target,nodes:t.movedNodes,previousSibling:t.previousSibling,nextSibling:t.nextSibling};this.A(a)}if(!((i=t.addedNodes)===null||i===void 0)&&i.length){let a={type:"nodesAdded",target:t.target,previousSibling:t.previousSibling,nextSibling:t.nextSibling,nodes:ei(t.addedNodes)};this.A(a)}if(!((r=t.removedNodes)===null||r===void 0)&&r.length){let a={type:"nodesRemoved",target:t.target,nodes:Fe(t.removedNodes,c=>c)};this.A(a)}}sT(t){let e={type:"shadowRootAttached",target:t.host,shadowRoot:t};this.A(e)}}return ct([U()],s.prototype,"processAttributeChanged",null),ct([U()],s.prototype,"processCharacterDataChanged",null),ct([U()],s.prototype,"processChildListChanged",null),s})(),Dr=(()=>{class s{constructor(t){this.type="asyncEvent",this.eh=!1,t&&t(e=>this.resolve(e))}resolve(t){if(this.eh)throw new Error("AsyncEvent already resolve.");t.timestamp==null&&(t={...t,timestamp:this.timestamp}),this.qs=t,this.eh=!0,this.A&&this.A(this.qs)}complete(t){this.eh&&t(this.qs),this.A=t}wait(){return new Promise(t=>this.complete(t))}}return s})(),qg=Np(),Wg=(()=>{class s extends ae{constructor(){super(...arguments),this.ma=!1}onStart(){this.ma=!0,this.A=kg(this.iT,this),this.z=new Gg(this.A),this.z.observe();let t=Dt.mutations.initialDOM.asyncMeasure(),e=()=>{this.ma=!1,kp(),t()};this.produceEvent(new Dr(i=>qg(document,r=>{e(),i({type:"DomEvent",domEvent:"initialDOM",initialDOM:r})})))}onStop(){var t,e;this.ma=!1,(t=this.A)===null||t===void 0||t.cancel(),(e=this.z)===null||e===void 0||e.disconnect()}qt(t,e){let i={type:"DomEvent",domEvent:e.type,target:0,targetProps:{}};return"target"in e&&(i.target=et(e.target),i.targetProps=W.getProperties(e.target)),[e,i]}iT(t){if(!this.nT(t))switch(t.type){case"attributeChanged":{let[e,i]=this.qt(t.type,t);i.attribute=e.attribute,i.isSvg=Ms(e.target),i.namespace=e.namespace,i.newValue=e.newValue,i.oldValue=e.oldValue,i.localName=zs(e.target),i.linkRel=ka(e.target)?e.target.rel:null,i.parentLocalName=e.target.parentElement?zs(e.target.parentElement):void 0,i.localName==="input"&&(i.inputType=e.target.getAttribute("type")),this.produceEvent(i)}break;case"characterDataChanged":{let[e,i]=this.qt(t.type,t);i.newValue=e.newValue,i.oldValue=e.oldValue,i.targetNodeType=e.target.nodeType,i.parentLocalName=e.target.parentElement?zs(e.target.parentElement):null,i.parentProps=e.target.parentElement?W.getProperties(e.target.parentElement):void 0,this.produceEvent(i)}break;case"nodesAdded":{let[e,i]=this.qt(t.type,t);i.targetLocalName=ot(e.target)?zs(e.target):null,i.nextSibling=e.nextSibling?et(e.nextSibling):null,i.previousSibling=e.previousSibling?et(e.previousSibling):null,Dt.mutations.serializedMutations.measure(()=>{i.nodes=Fe(e.nodes,sr)}),this.produceEvent(i);break}case"nodesMoved":{let[e,i]=this.qt(t.type,t);i.previousSibling=e.previousSibling?et(e.previousSibling):null,i.nextSibling=e.nextSibling?et(e.nextSibling):null,i.nodesIds=Fe(e.nodes,et),this.produceEvent(i);break}case"nodesRemoved":{let[e,i]=this.qt(t.type,t);i.nodesIds=Fe(e.nodes,et),this.produceEvent(i);break}case"shadowRootAttached":{let[e,i]=this.qt(t.type,t);i.shadowRoot=Ks(e.shadowRoot),this.produceEvent(i);break}case"cssRuleInserted":{let[e,i]=this.qt(t.type,t);i.index=e.index,i.rule=e.rule,this.produceEvent(i);break}case"cssRuleDeleted":{let[e,i]=this.qt(t.type,t);i.index=e.index,this.produceEvent(i);break}case"cssRuleUpdated":{let[e,i]=this.qt(t.type,t);i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"cssStyleSheetDisabled":{let[e,i]=this.qt(t.type,t);i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetRegistered":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.cssRules=e.cssRules,i.disabled=e.disabled,this.produceEvent(i);break}case"adoptedStyleSheetsSet":{let[e,i]=this.qt(t.type,t);i.sheetsIds=e.sheetsIds,this.produceEvent(i);break}case"adoptedStyleSheetRuleInserted":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleDeleted":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetRuleUpdated":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.rule=e.rule,i.index=e.index,this.produceEvent(i);break}case"adoptedStyleSheetDisabled":{let[e,i]=this.qt(t.type,t);i.sheetId=e.sheetId,i.disabled=e.disabled,this.produceEvent(i);break}}}ya(t){return this.ma&&!W.getProperty(t,Xs)}nT(t){switch(t.type){case"nodesAdded":case"nodesMoved":case"nodesRemoved":case"shadowRootAttached":return this.ya(t.target)||k.isMaskedElement(t.target)||k.isMaskedElementChild(t.target);case"characterDataChanged":{let e=t.target.parentElement;return e!==null&&(this.ya(e)||k.isMaskedElement(e)||k.isMaskedElementChild(e))}case"attributeChanged":return this.ya(t.target)||k.isMaskedElementChild(t.target)||k.isMaskedAttribute(t.target,t.attribute);case"cssRuleInserted":case"cssRuleDeleted":case"cssRuleUpdated":case"cssStyleSheetDisabled":return this.ya(t.target)||k.isMaskedElementChild(t.target);default:return!1}}}return s})(),yi=(()=>{let s;return function(n){function t(e){return e.type==="DomEvent"}n.isDOMEvent=t}(s||(s={})),s})(),xs=(()=>{class s{constructor(){this.ae=[]}start(){}stop(){this.ae.length=0,this.ae=[]}pushEvent(t){if(s.pendingEvents++,this.isListening(t)){let e=this.ae;csSetTimeout(()=>{let r=os("Processor:processEvent",a=>this.processEvent(a))(t);r!=null&&csArray.prototype.forEach.call(e,a=>a(r)),s.pendingEvents--})}else csSetTimeout(()=>{csArray.prototype.forEach.call(this.ae,e=>e(t))})}subscribe(t){return csArray.prototype.push.call(this.ae,t),()=>{this.ae=csArray.prototype.filter.call(this.ae,e=>e!==t)}}emitEvent(t){Ht(()=>csArray.prototype.forEach.call(this.ae,e=>e(t)))}}return s.pendingEvents=0,s})(),Yg=(()=>{class s extends xs{isListening(t){return yi.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded")}processEvent(t){let e=0,i=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let r of i){if(r instanceof Ts){let c=k.getMaskedAttributeDetails(r);r.attributes=this.Vo(r,c)}if(k.getMaskedElementDetails(r).state===k.MaskedElementState.Child){if(t.domEvent==="initialDOM")return null;t.nodes=csArray.prototype.filter.call(t.nodes,c=>c!==r);continue}W.traverse(r,c=>{if(c instanceof Ts){let l=k.getMaskedAttributeDetails(c);c.attributes=this.Vo(c,l);let u=k.getMaskedElementDetails(c);u.state===k.MaskedElementState.Parent&&(this.Fc(c,u),e++)}})}return e>0&&G.counters.sensitiveElements.count("masked-elements",e),t}Vo(t,e){return e.attributes.length===0?t.attributes:csArray.prototype.filter.call(t.attributes,i=>csArray.prototype.indexOf.call(e.attributes,i.name)===-1)}Fc(t,e){let i=`width: ${e.width}px !important; height: ${e.height}px !important;`;t.children=[],t.shadowRoot=void 0,csArray.prototype.push.call(t.attributes,{name:"style",value:i,namespaceURI:""}),Ts.getAttribute(t,"data-cs-mask")||csArray.prototype.push.call(t.attributes,{name:"data-cs-mask",value:"",namespaceURI:""})}}return ye([Pt("MaskedElementProcessor.processEvent")],s.prototype,"processEvent",null),s})();var aa=(()=>{let s;return function(n){function t(e){return e.type==="TextVisibility"}n.isTextVisibilityEvent=t}(s||(s={})),s})(),Xg=(()=>{class s extends xs{constructor(t,e,i,r=null,a=!1){super(),this.N=i,this.Uo=r,this.captureAnonymizedPlaceholders=a,this.Ea=new Hp(t,e,i,r,a)}setAnonymization(t){this.Ea.setAnonymization(t)}isListening(t){return aa.isTextVisibilityEvent(t)||yi.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged")}processEvent(t){if(aa.isTextVisibilityEvent(t))return t.text=this.N.checkAndAnonymizePII(t.text,this.Uo),t;switch(t.domEvent){case"initialDOM":case"nodesAdded":this.rh(t);break;case"attributeChanged":this.oT(t);break;case"characterDataChanged":this.aT(t);break}return t}rh(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes,i;t.domEvent==="nodesAdded"&&(i={targetLocalName:t.targetLocalName,targetProps:t.targetProps});for(let r of e)this.Ea.sanitize(r,i)}oT(t){if(!t.isSvg&&t.newValue){if(t.localName===null){t.newValue="";return}t.newValue=this.Ea.getAnonymizedAttributeValue(t.localName,t.attribute,t.newValue,t.inputType)}}aT(t){t.newValue=this.Ea.getAnonymizedValue(t.newValue,t.parentLocalName,t.parentProps).anonymizedValue}}return ye([Pt("AnonymizedTextProcessor.processEvent")],s.prototype,"processEvent",null),s})();function xr(s){let n=csString.prototype.trim.call(s);if(s==="")return[];let[t,e]=Kg(n);return e?(li(t,",")||(e=Jg(e)),[ca(t),...xr(e)]):[ca(t)]}function Kg(s){return csString.prototype.split.call(s,/\s(.+)/)}function ca(s){return csString.prototype.split.call(s,/,$/)[0]}function Jg(s){return csString.prototype.split.call(s,/,(.+)/)[1]||""}var Qg=/(@import\s*("([^"]+)"|'([^']+)'))|(url\s*\(\s*((("([^"\]]+)"|'([^'\]]+)')\s*)|([^)\]]+))\)(?!\\))/g;function Zg(s,n){return csString.prototype.replace.call(s,Qg,(...e)=>{let i=e[3]||e[4],r=e[9]||e[10]||e[11],a=em((i||r).trim()),c=i?"@import ":"",l=n(a)||a;return`${c}url(${tm(l)})`})}function tm(s){return csString.prototype.indexOf.call(s,'"')===-1?`"${s}"`:csString.prototype.indexOf.call(s,"'")===-1?`'${s}'`:s}function Js(s){let n=new Set;return Zg(s,t=>{var e,i;return n.add((i=(e=csString.prototype.match.call(t,/^["|'](.*)?["|']$/))===null||e===void 0?void 0:e[1])!==null&&i!==void 0?i:t),t}),Ns(n)}function em(s){let n=/(\\)*\\(?:([a-fA-F0-9]{1,6})|(.))[\n\t\x20]?/g;return csString.prototype.replace.call(s,n,(t,e,i,r)=>{if(e==="\\")return csString.prototype.slice.call(t,1);if(r)return r;let a=parseInt(i,16);return 55296<=a&&a<=57343||a===0||a>1114111?"\uFFFD":csString.fromCodePoint(a)})}var la=(()=>{class s{static async toStaticResourceEvent(t,e,i){let r=await s.lT(t);if(!r)return null;let a=await s.Df(r),c=qt(t)?void 0:t,l={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:a,data:r}};return c&&(l.originalResourceName=c),l}static async toCSSStaticResourceEvent(t,e,i,r){let a=await s.hT(t,r),c=$e(t),l=a.get(c);if(!l)return null;let u={type:"StaticResourceManagerEvent",timestamp:i,resourceId:e,resource:{hash:l.hash,data:l.data}};return a.delete(c),a.size&&(u.nestedResources=[],a.forEach(m=>{m&&csArray.prototype.push.call(u.nestedResources,{hash:m.hash,data:m.data})})),u}static async Df(t){let e=await t.arrayBuffer(),i=await crypto.subtle.digest(this.xf,e);return $n(i)}static async lT(t){let e;if(!qt(t))e=await(await window.fetch(t)).blob();else{let i=uo(t);if(!i)return null;e=i}return e}static async hT(t,e){let i=new Map,r=$e(t),c=[{resourceRawPath:t,resourceAbsolutePath:r}];for(;c.length>0;){let l=csArray.prototype.pop.call(c);if(!e&&l.resourceAbsolutePath!==null&&!qt(l.resourceAbsolutePath)){i.set(l.resourceAbsolutePath,null);continue}if(i.get(l.resourceAbsolutePath)===void 0)try{if(l.resourceRawPath===null||csString.prototype.indexOf.call(l.resourceRawPath,".css")>0){if(!l.data){let y=await fetch(l.resourceAbsolutePath);l.data=await y.text()}l.nestedResources||(l.nestedResources=Js(l.data));let d=!1,E=!1;for(let y of l.nestedResources){let v=qt(y)?y:l.resourceAbsolutePath?cd(y,l.resourceAbsolutePath):$e(y),C=i.get(v);if(C!==void 0){if(C!==null){let S=s.uT(C,y);l.data=lt.stringReplaceAll(l.data,y,S)}continue}He(c,S=>S.resourceAbsolutePath===v)!==void 0||(d=!0,E||(csArray.prototype.push.call(c,l),E=!0),csArray.prototype.push.call(c,{resourceRawPath:y,resourceAbsolutePath:v}))}if(!d){let y=await s.dT(l.data);i.set(l.resourceAbsolutePath,{hash:y.hash,data:y.data})}}else{let d;if(!qt(l.resourceAbsolutePath))d=await(await fetch(l.resourceAbsolutePath)).blob();else{let y=uo(l.resourceAbsolutePath);if(!y){i.set(l.resourceAbsolutePath,null);continue}d=y}let E=await s.Df(d);i.set(l.resourceAbsolutePath,{hash:E,data:d})}}catch{i.set(l.resourceAbsolutePath,null)}}return i}static uT(t,e){let i=`cs://resources/${t.hash}`;return qt(e)||(i+=`?${s.oh}=${e}`),i}static async dT(t){let e=new Blob([t],{type:"text/css"}),i=await e.arrayBuffer(),r=await crypto.subtle.digest(s.xf,i);return{data:e,hash:$n(r)}}}return s.xf="SHA-256",s.oh="original-resource-name",s})(),lr=(()=>{class s extends xs{constructor(){super(),this.Sa="cssrm://",this.Ee=0,this.Cs=!1}isListening(t){return!s.isSupported()||!yi.isDOMEvent(t)?!1:t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="attributeChanged"||t.domEvent==="characterDataChanged"}processEvent(t){switch(t.domEvent){case"initialDOM":case"nodesAdded":this.pT(t);break;case"attributeChanged":this.fT(t);break;case"characterDataChanged":this.gT(t);break}return t}disableOnlineAssets(){this.Cs=!1}enableOnlineAssets(){this.Cs=!0}isOnlineAssetsActivated(){return this.Cs}pT(t){let e=t.domEvent==="initialDOM"?[t.initialDOM]:t.nodes;for(let i of e)W.traverse(i,(r,a)=>{if(r.nodeType===ni.TEXT_NODE&&a){this.mT(r,a.localName);return}if(!Ts.isElement(r))return;let c=He(r.attributes,l=>l.name==="style");if(c&&(c.value=this.va(c.value)),this.yT(r)||this.ET(r,a)){let l=He(r.attributes,m=>m.name==="src");l&&l.value&&(l.value=this.Lf(l.value));let u=He(r.attributes,m=>m.name==="srcset");if(u){u.value=this.Vf(u.value);return}}if(this.ST(r)&&this.Cs){let l=He(r.attributes,u=>u.name==="href");if(!l||!l.value)return;this.Ee++,this.Tn($e(l.value),this.Ee,!0),this.vT(r,l,this.Ee)}})}vT(t,e,i){csArray.prototype.push.call(t.attributes,{name:"data-cs-original-href",namespaceURI:"",value:e.value}),e.value=this.Sa+i}mT(t,e){if(!t||e!=="style")return;let i=this.va(t.data);i!==null&&(t.data=i)}gT(t){if(t.parentLocalName!=="style"||!t.newValue)return;let e=this.va(t.newValue);e!==null&&(t.newValue=e)}fT(t){if(!t.newValue||t.newValue===t.oldValue)return;let e=t.attribute==="src",i=t.attribute==="srcset";if(t.attribute==="style"){t.newValue=this.va(t.newValue);return}if(!e&&!i)return;let a=t.localName==="img",c=t.localName==="source"&&t.parentLocalName&&t.parentLocalName==="picture";!a&&!c||(e&&(t.newValue=this.Lf(t.newValue)),i&&(t.newValue=this.Vf(t.newValue)))}Lf(t){return qt(t)||this.Cs?(this.Ee++,this.Tn(t,this.Ee,!1,P.now()),this.Sa+this.Ee):t}Vf(t){if(!this.Cs)return t;let e=t,i=xr(t),r=P.now();for(let a of i)this.Ee++,this.Tn($e(a),this.Ee,!1,r),e=csString.prototype.replace.call(e,a,this.Sa+this.Ee);return e}va(t){let e=Js(t),i=t,r=P.now();for(let a of e){let c=qt(a);if(!(c||this.Cs)||this._T(a))continue;this.Ee++,i=csString.prototype.replace.call(i,a,this.Sa+this.Ee);let l=Iu(a);c?this.Tn(a,this.Ee,!1,r):this.Cs&&(l?this.Tn(a,this.Ee,!0,r):this.Tn($e(a),this.Ee,!1,r))}return i}Tn(t,e,i,r=P.now()){let a=i?la.toCSSStaticResourceEvent:la.toStaticResourceEvent,c=new Dr(async l=>{try{let u=await a(t,e,r,this.Cs);l(u||{type:"warning",message:`Failed to process static resource: ${t}`})}catch(u){l({type:"warning",message:u})}});this.emitEvent(c)}yT(t){return t.localName==="img"}ET(t,e){return t.localName==="source"&&!!e&&e.localName==="picture"}ST(t){return t.localName==="link"&&csArray.prototype.some.call(t.attributes,e=>e.name==="rel"&&e.value==="stylesheet")}static isSupported(){return Aa()&&vh()&&!!csArray.from}_T(t){return csString.prototype.replace.call(t,/['"]+/g,"").length===0}}return ye([Pt("StaticResourceManagerProcessor.processEvent")],s.prototype,"processEvent",null),s})(),sm=(()=>{class s extends xs{constructor(t){super(),this.tt=t}isListening(t){return yi.isDOMEvent(t)&&t.domEvent==="initialDOM"}processEvent(t){return t.domEvent==="initialDOM"&&(t.initialDOM.baseURI=this.tt.anonymizeUrl(t.initialDOM.baseURI)),t}}return ye([Pt("UrlAnonymizationProcessor.processEvent")],s.prototype,"processEvent",null),s})(),Mn="textarea",im=(()=>{class s extends xs{isListening(t){return yi.isDOMEvent(t)&&(t.domEvent==="initialDOM"||t.domEvent==="nodesAdded"||t.domEvent==="characterDataChanged")}processEvent(t){switch(t.domEvent){case"initialDOM":this.wT(t);break;case"nodesAdded":this.TT(t);break;case"characterDataChanged":this.bT(t);break}return t}wT(t){W.traverse(t.initialDOM,(e,i)=>{(this.Uf(e,i)||this.jf(e))&&(e.data=this.ah(e.data))})}TT(t){for(let e of t.nodes)W.traverse(e,(i,r)=>{(this.AT(i,r,t)||this.jf(i))&&(i.data=this.ah(i.data))})}bT(t){var e;(t.parentLocalName===Mn||!((e=t.targetProps)===null||e===void 0)&&e.editableNode)&&(t.newValue=this.ah(t.newValue))}ah(t){return csString.prototype.replace.call(t,/\S/g,"\u2022")}AT(t,e,i){return this.RT(t,i)||this.Uf(t,e)}RT(t,e){return t.nodeType===3&&e.targetLocalName===Mn}Uf(t,e){return t.nodeType===3&&Z(e)&&e.localName===Mn}jf(t){return t.nodeType===3&&Ve.isEditableNode(t)}}return ye([Pt("AnonymizedEditableTextProcessor.processEvent")],s.prototype,"processEvent",null),s})(),nm=(()=>{class s{constructor(t){this.A=t,this.$t={boundElement:window,type:"resize",listener:()=>this.resizeListener()},this.A=t}observe(){Ct(this.$t),this.ch()}ch(){this.resizeListener()}disconnect(){It(this.$t)}resizeListener(){let t={width:dt.windowWidth(),height:dt.windowHeight()};this.A(t)}}return ct([U("resize")],s.prototype,"resizeListener",null),s})(),Le=(()=>{let s;return function(n){n.PORTRAIT="Portrait",n.LANDSCAPE="Landscape"}(s||(s={})),s})(),ki=(()=>{let s;return function(n){n.PORTRAIT_PRIMARY="portrait-primary",n.PORTRAIT_SECONDARY="portrait-secondary",n.LANDSCAPE_PRIMARY="landscape-primary",n.LANDSCAPE_SECONDARY="landscape-secondary"}(s||(s={})),s})(),Di=(()=>{let s;return function(n){n[n.PORTRAIT=0]="PORTRAIT",n[n.PORTRAIT_REVERSE=180]="PORTRAIT_REVERSE",n[n.LANDSCAPE=-90]="LANDSCAPE",n[n.LANDSCAPE_REVERSE=90]="LANDSCAPE_REVERSE"}(s||(s={})),s})(),rm=(()=>{let s;return function(n){let t=null;n.isScreenOrientationApiSupported=()=>{var c;return t!=null?t:t=!!(!((c=tt.screen)===null||c===void 0)&&c.orientation)},n.isDeprecatedScreenOrientationApiSupported=()=>"orientation"in tt;function e(){return Le.LANDSCAPE}function i(){var c;switch((c=tt.screen.orientation)===null||c===void 0?void 0:c.type){case ki.PORTRAIT_PRIMARY:case ki.PORTRAIT_SECONDARY:return Le.PORTRAIT;case ki.LANDSCAPE_PRIMARY:case ki.LANDSCAPE_SECONDARY:return Le.LANDSCAPE;default:return Le.PORTRAIT}}function r(){switch(window.orientation){case Di.PORTRAIT:case Di.PORTRAIT_REVERSE:return Le.PORTRAIT;case Di.LANDSCAPE:case Di.LANDSCAPE_REVERSE:return Le.LANDSCAPE;default:return Le.PORTRAIT}}function a(){return n.isScreenOrientationApiSupported()?i():n.isDeprecatedScreenOrientationApiSupported()?r():e()}n.getCurrentOrientation=a}(s||(s={})),s})(),om=(()=>{class s extends ae{constructor(){super(...arguments),this.lh=null,this.hh=null,this.Ls=new nm(t=>{this.produceEvent({...t,type:"viewportResize"}),this.onScreenPotentiallyChanged()})}onScreenPotentiallyChanged(){let t=rm.getCurrentOrientation(),{screenWidth:e,screenHeight:i}=this.CT(t);if(e!==this.lh||i!==this.hh){this.lh=e,this.hh=i;let r={type:"screenResize",width:e,height:i};this.produceEvent(r)}}CT(t){let e,i,r=dt.screenWidth(),a=dt.screenHeight();return t===Le.PORTRAIT?(e=r,i=a):(e=Math.max(r,a),i=Math.min(r,a)),{screenWidth:e,screenHeight:i}}onStart(){this.Ls.observe()}onStop(){this.lh=null,this.hh=null,this.Ls.disconnect()}}return s})();function am(s){let n=csEventtarget.apply(s);return n&&ot(n)&&csElementshadowRoot.apply(n)&&s.composedPath?s.__csOriginalTarget||s.composedPath()[0]:n}var cm=(()=>{class s extends ae{constructor(){super(),this.Hf=t=>{let e=am(t);e&&this.uh(e,t.type)},this.ue=new ks((t,e)=>{switch(e){case"initial":case"added":this.Bf(t);break;case"removed":this.Ff(t);break}}),this.j=new Os((t,e)=>{(e==="initial"||e==="added")&&this.IT(t)})}static shouldProcessElement(t){return t.tagName==="VIDEO"&&pt.isConnected(t)&&!k.isMaskedElement(t)&&!k.isMaskedElementChild(t)}static isPlaying(t){return!t.paused&&!t.ended}onStart(){this.Bf(document),this.ue.observe(),this.j.observe("video")}onStop(){this.Ff(document),this.ue.disconnect(),this.j.disconnect()}uh(t,...e){if(this.isStarted&&s.shouldProcessElement(t))for(let i of e){let r=et(t),a={type:"VideoEvent",videoEventType:i,nodeId:r};i==="seeked"&&(a.newTimePositionInSec=t.currentTime),gr(()=>this.produceEvent(a))}}IT(t){for(let e of t)this.uh(e,"seeked"),s.isPlaying(e)&&this.uh(e,"play")}Bf(t){for(let e of["play","pause","seeked"])Ct({type:e,listener:this.Hf,boundElement:t})}Ff(t){for(let e of["play","pause","seeked"])It({type:e,listener:this.Hf,boundElement:t})}}return s})();function lm(s){return s.nodeName==="SELECT"}function Lr(s){return s.nodeName==="INPUT"}function hm(s){return s.nodeName==="TEXTAREA"||Lr(s)&&!Mc(s)&&!kc(s)}function Mc(s){return Lr(s)&&s.type==="number"}function kc(s){return Lr(s)&&(s.type==="checkbox"||s.type==="radio")}var um=(()=>{class s extends ae{constructor(t){super(),this.ot=t,this.ph=new Ud("low"),this.bn=e=>this.inputHandler(e),this.Ci=[],this.PT(),this.OT(),this.j=new Os(e=>{for(let i of e)this.fh(i)&&Ht(()=>{this.gh(i,et(i))},"low")}),this.ue=new ks((e,i)=>{switch(i){case"initial":case"added":Ct({type:"change",listener:this.bn,boundElement:e});break;case"removed":It({type:"change",boundElement:e,listener:this.bn});break}})}onStart(){Ct({type:"keyup",boundElement:document,listener:this.bn}),Ct({type:"change",boundElement:document,listener:this.bn}),K(this.Ci,t=>t.activate()),this.j.observe(csArray.prototype.join.call(s.NT,",")),this.ue.observe()}onStop(){It({type:"keyup",boundElement:document,listener:this.bn}),It({type:"change",boundElement:document,listener:this.bn}),K(this.Ci,t=>t.deactivate()),this.j.disconnect(),this.ue.disconnect(),this.ph.clear()}gh(t,e){var i,r,a;if(this.ph.has(t))return;if(this.ph.add(t),lm(t)){let u={type:"InputEvent",inputType:"select",target:et(t),selectedIndex:t.selectedIndex,timestamp:P.now()};this.produceEvent(u);return}if(kc(t)){let u={type:"InputEvent",inputType:"checkable",target:et(t),checked:t.checked,timestamp:P.now()};this.produceEvent(u);return}let c=hm(t),l=Mc(t);if(c||l){let u=(i=t.value)!==null&&i!==void 0?i:"";if(!((r=this.ot)===null||r===void 0)&&r.shouldEncrypt(t)){(a=this.ot)===null||a===void 0||a.registerInputNodeToEncrypt({targetId:e,targetValue:u,date:P.now()});return}let m=l?"0":"\u2022",d={type:"InputEvent",inputType:"text",target:et(t),value:csString.prototype.replace.call(u,/\S/g,m),timestamp:P.now()};this.produceEvent(d)}}inputHandler(t){if(!this.isStarted)return;let e=ft(t),i=et(e);!i||!this.fh(e)||pt.isConnected(e)&&Ht(()=>{this.gh(e,i)},"low")}PT(){this.trackChanges(HTMLInputElement,"checked"),this.trackChanges(HTMLInputElement,"value"),this.trackChanges(HTMLTextAreaElement,"value")}OT(){this.trackChanges(HTMLSelectElement,"selectedIndex"),this.trackChanges(HTMLSelectElement,"value"),this.trackChanges(HTMLOptionElement,"selected",!0)}trackChanges(t,e,i=!1){let r=Xi(t.prototype,e,(a,c,l)=>{if(l!==c&&pt.isConnected(a)){let u=i?a.parentElement:a;this.MT(u)}});r&&csArray.prototype.push.call(this.Ci,r)}fh(t){return!k.isMaskedElement(t)&&!k.isMaskedElementChild(t)&&(Qi(t)||Sr(t)||Er(t))}MT(t){if(this.isStarted&&pt.isConnected(t)){let e=et(t);e&&this.fh(t)&&Ht(()=>{this.gh(t,e)},"low")}}}return s.NT=["textarea","input:not([type])",'input[type="text"]','input[type="email"]','input[type="search"]','input[type="tel"]','input[type="url"]','input[type="password"]','input[type="number"]','input[type="checkbox"]','input[type="radio"]',"select"],ye([vt()],s.prototype,"inputHandler",null),ye([U()],s.prototype,"trackChanges",null),s})();var dm=(()=>{class s{constructor(t=Number.POSITIVE_INFINITY){this.si=[],this.nt=[],this.kT=t}next(t){this.nt.length===this.kT&&csArray.prototype.shift.call(this.nt),csArray.prototype.push.call(this.nt,t),this.nt.length===1&&csSetTimeout(()=>this.clear());for(let e of this.si)e(t)}subscribe(t){if(He(this.si,i=>t===i))return()=>{this.si=csArray.prototype.filter.call(this.si,i=>i!==t)};csArray.prototype.push.call(this.si,t);for(let i of this.nt)t(i);return()=>{this.si=csArray.prototype.filter.call(this.si,i=>i!==t)}}clear(){this.nt=[]}hasObservers(){return this.si.length>0}}return s})(),Dc=(()=>{var s;class n{constructor(e){this.A=e}observe(){this.DT=s.Mr.subscribe(e=>this.A(e)),s._a||(s._a=!0,s.Nr.observe(),Jt(document,NodeFilter.SHOW_ELEMENT).visitAll(i=>{s.Rs.add(i),s.Mr.next(i)}))}disconnect(){s._a&&(this.DT(),s.Mr.hasObservers()||(s._a=!1,s.Nr.disconnect(),s.Mr.clear(),s.Rs.clear()))}}return s=n,n.Rs=new sn,n.Mr=new dm,n.xT=us(t=>{Ht(()=>{for(let e of t)e.type==="childList"&&K(e.addedNodes,i=>{Jt(i,NodeFilter.SHOW_ELEMENT).visitAll(a=>{s.Rs.has(a)||(s.Rs.add(a),s.Mr.next(a))})})})},"ElementObserver.findAllElements"),n._a=!1,n.Nr=new We(s.xT),ct([U()],n.prototype,"observe",null),ct([U()],n.prototype,"disconnect",null),n})(),pm=(()=>{class s extends ae{constructor(){super(),this.Ts=typeof window.customElements=="object"&&typeof window.customElements.whenDefined=="function"&&typeof window.Promise=="function",this.LT=os("CustomElementRegistrationProducer:onElementsFound",e=>{for(let i of e)k.isMaskedElement(i)||k.isMaskedElementChild(i)||tu(i)&&this.register(csString.prototype.toLowerCase.call(i.tagName))});let t=nn(this.LT);this.kr=new Dc(e=>t.push(e)),this.ei=new Set}onStart(){this.Ts&&this.kr.observe()}onStop(){this.ei.clear(),this.kr.disconnect()}async register(t){this.ei.has(t)||(this.ei.add(t),await window.customElements.whenDefined(t),this.produceEvent({type:"CustomElementRegistration",tagName:csString.prototype.toLowerCase.call(t)}))}}return ye([U()],s.prototype,"register",null),s})(),ha=(()=>{class s{static isNavigationTimingObserverSupported(){var t,e;return(((t=window.PerformanceObserver)===null||t===void 0?void 0:t.supportedEntryTypes)==null?void 0:csArray.prototype.indexOf.call((e=window.PerformanceObserver)===null||e===void 0?void 0:e.supportedEntryTypes,"navigation"))>=0}static getTimeOrigin(){return window.performance.timeOrigin}static $f(){if(this.isNavigationTimingObserverSupported())return new window.PerformanceObserver(t=>s.VT(t))}static VT(t){let i=t.getEntriesByType("navigation")[0];i&&(this.Ui=i,s.An(i))}static Wn(t){this.UT(t),this.Ui&&t(this.Ui),this.Ve||this.jT()}static UT(t){this.Mt.add(t)}static HT(t){this.Mt.delete(t)}static jT(){if(this.Dr||(this.Dr=this.$f()),!this.Dr){this.Ui||(this.Ui={requestStart:window.performance.timing.requestStart,domInteractive:window.performance.timing.domInteractive}),this.An(this.Ui);return}this.Dr.observe({type:"navigation",buffered:!0}),this.Ve=!0}static An(t){this.Mt.forEach(e=>e(t))}static Xn(t){this.HT(t),this.Mt.size===0&&this.xr()}static xr(){var t;this.Ve&&((t=this.Dr)===null||t===void 0||t.disconnect(),this.Ve=!1,this.Ui=null,this.Dr=this.$f())}constructor(t){this.A=t}observe(){s.Wn(this.A)}disconnect(){s.Xn(this.A)}}return s.Ve=!1,s.Mt=new Set,s.Ui=null,s})(),fm=(()=>{class s extends ae{constructor(){super(...arguments),this.wa=null,this.zf=new ha(t=>{if(this.wa)return;let e=this.BT(t);e&&(this.wa=e,this.produceEvent(e))})}onStart(){if(this.wa){this.produceEvent(this.wa);return}this.zf.observe()}onStop(){this.zf.disconnect()}BT(t){let e=ha.getTimeOrigin();return{type:"PerformanceTiming",timings:{timeOrigin:e,requestStart:Math.floor(e+t.requestStart),domInteractive:Math.floor(e+t.domInteractive)},timestamp:P.now()}}}return s})(),gm="touchstart",mm="touchmove",ym="touchend",Em=(()=>{class s{constructor(t){this.A=t}observe(){s.Gf&&s.mh(this.A)}disconnect(){s.Gf&&s.yh(this.A)}static FT(t,e){csArray.prototype.forEach.call(Ns(s.Mt),i=>i(t,e))}static mh(t){s.Mt.has(t)||(s.Mt.add(t),s.Mt.size===1&&(s.Lr.onGesture(s.FT),csArray.prototype.forEach.call(s.js,e=>Ct(e))))}static yh(t){s.Mt.delete(t),s.Mt.size===0&&csArray.prototype.forEach.call(s.js,e=>It(e))}static Eh(t){if(s.Lr.isValidTouchEvent(t))switch(t.type){case"touchstart":s.Lr.processActionDown(t);break;case"touchmove":s.Lr.processActionMove();break;case"touchend":s.Lr.processActionUp(t);break}}}return s.js=[{boundElement:tt.document,type:gm,listener:n=>s.Eh(n)},{boundElement:tt.document,type:mm,listener:n=>s.Eh(n)},{boundElement:tt.document,type:ym,listener:n=>s.Eh(n)}],s.Gf=er.isGestureDetectionSupported(),s.Mt=new Set,s.Lr=new er,s})(),Sm=(()=>{class s extends ae{constructor(){super(),this.Vr=new Em(this.Dc.bind(this))}onStart(){this.Vr.observe()}onStop(){this.Vr.disconnect()}Dc(t){let e=this.$T(t);e&&this.produceEvent(e)}$T(t){if(!this.zT(t))return null;let e=Qd(t.target);return e?{type:"Gesture",targetId:e,data:{type:t.type,direction:t.direction,distance:t.distance,velocity:t.velocity,pageX:t.pageX,pageY:t.pageY}}:null}zT(t){return t.target!==null&&!(ot(t.target)&&k.isMaskedElementChild(t.target))}}return s})(),vm=(()=>{class s extends ae{constructor(){super(...arguments),this.qf=new Rc(t=>this.Ta(t))}Ta({message:t,filename:e,lineno:i,colno:r}){t=t!=null?t:"[NO ERROR MESSAGE]",e=!e||qt(e)?"":e,this.produceEvent({type:"JSError",message:t,filename:e,lineno:i,colno:r})}onStart(){this.qf.observe()}onStop(){this.qf.disconnect()}}return s})(),_m=(()=>{class s extends xs{constructor(t){super(),this.GT=t,this.Nl=1024,this.Ml=150}isListening(t){return t.type==="JSError"}processEvent(t){return t.message=lt.truncate(t.message,this.Nl,lt.ELLIPSIS),t.filename=lt.truncate(t.filename,this.Ml,lt.ELLIPSIS),this.GT(t)}}return s})();var _s=[],hr=!1,xc=us(Tm,"executeTasks");function wm(s){if(csArray.prototype.push.call(_s,s),!hr){for(let n=0;n<3;n++)csSetTimeout(xc);hr=!0}}function Tm(){let s=csDate.now();for(let n=0;n<_s.length;n++)if(_s[n](),csDate.now()-s>=35){_s=csArray.prototype.slice.call(_s,n+1),csSetTimeout(xc);return}_s=[],hr=!1}var Me=(()=>{let s;return function(n){n[n.Started=0]="Started",n[n.Stopped=1]="Stopped",n[n.Processing=2]="Processing",n[n.Completed=3]="Completed"}(s||(s={})),s})(),Lc=(()=>{class s{constructor(){this.kt=new hi,this.Pt=Me.Stopped,this.A=null,this.Yf=t=>{this.Pt===Me.Stopped||!t||(this.A(t),this.Xf())}}get queueLength(){return this.kt.length}start(t){if(this.A)throw new Error("callback already set");this.Pt=Me.Started,this.A=t}push(t){this.kt.push(t),this.Sh()}stop(){this.A=null,this.Pt=Me.Stopped,this.kt.clear()}static pipe(t,e){let i=t,r=new csArray;for(let c of e){let l=new s;l.start(u=>{c.pushEvent(u)}),csArray.prototype.push.call(r,l),K(i,u=>u.subscribe(m=>l.push(m))),i=[c]}let a=new bm(r);return K(i,c=>c.subscribe(l=>a.push(l))),a}Kf(){return this.Pt===Me.Stopped}rs(){return this.Pt===Me.Processing}Xf(){if(!this.Kf()){if(this.kt.isEmpty){this.Pt=Me.Completed;return}this.Pt=Me.Processing,wm(()=>{let t=this.kt.pop();t instanceof Dr?t.complete(this.Yf):this.Yf(t)})}}Sh(){this.Kf()||this.rs()||this.Xf()}}return s})(),bm=(()=>{class s extends Lc{constructor(t){super(),this.Jf=t}get queueLength(){return csArray.prototype.reduce.call(this.Jf,(t,e)=>t+e.queueLength,0)}stop(){super.stop(),K(this.Jf,t=>t.stop())}}return s})(),Am=(()=>{class s{constructor(t,e=[]){this.producers=t,this.processors=e,this.F=!1,this.Mt=[]}get pendingEvents(){var t,e;return(e=(t=this.kt)===null||t===void 0?void 0:t.queueLength)!==null&&e!==void 0?e:0}start(){if(this.F)throw new Error("Recording is already started.");let t=this.Mt;this.kt=Lc.pipe(this.producers,this.processors),this.kt.start(e=>csArray.prototype.forEach.call(t,i=>i(e))),K(this.producers,e=>e.start()),K(this.processors,e=>e.start()),this.F=!0}stop(){this.kt.stop(),this.Mt.length=0;for(let t of this.producers)t.stop();for(let t of this.processors)t.stop();this.F=!1,this.Mt=[]}subscribe(t){if(this.F)throw new Error("Recording is already started.");return csArray.prototype.push.call(this.Mt,t),()=>this.Mt=csArray.prototype.filter.call(this.Mt,e=>e!==t)}}return s})(),Rm=(()=>{class s{constructor(t){this.ba={},this.Me=new Mr(t)}save({key:t,metadata:e,events:i}){this.Me.isThresholdReached()||(this.Me.addString(t),typeof i=="string"?this.Me.addString(i):this.Me.addArrayBuffer(i),!this.Me.isThresholdReached()&&(this.ba[t]={metadata:e,events:i}))}recover(t){let e=[];csArray.prototype.forEach.call(this.XT(),i=>{let r=this.ba[i];r!==void 0&&(delete r.metadata.datatype,csArray.prototype.push.call(e,r),this.KT(i))}),e.length!==0&&(t(e),this.Me.reset())}XT(){return Object.keys(this.ba)}KT(t){delete this.ba[t]}}return s})(),ke=(()=>{let s;return function(n){n[n.NOT_STARTED=0]="NOT_STARTED",n[n.OPEN_IN_PROGRESS=1]="OPEN_IN_PROGRESS",n[n.OPEN_FAILED=2]="OPEN_FAILED",n[n.READY=3]="READY"}(s||(s={})),s})(),Cm=(()=>{class s{constructor(t,e,i){this.an=t,this.JT=i,this.ji=ke.NOT_STARTED,this.Aa=[],this.vh=0,this.QT=self.origin,this.Ne=typeof window=="object"?"":"worker-",this.Me=new Mr(e),this.Ll()}async Ll(){await this.Qf(),this.ji===ke.READY?this.ZT():this.JT(this.Aa)}ZT(){csArray.prototype.forEach.call(this.Aa,t=>{this.save(t)}),this.Aa=[]}async save(t){try{if(this.ji===ke.OPEN_IN_PROGRESS){csArray.prototype.push.call(this.Aa,t);return}if(this.ji!==ke.READY||this.Me.isThresholdReached())return;let{key:e,metadata:i,events:r}=t;if(this.Me.addString(e),typeof r=="string"?this.Me.addString(r):this.Me.addArrayBuffer(r),this.Me.isThresholdReached())return;await this.ne.put(`${this.QT}/${e}`,new Response(r,{headers:i}))}catch{}}async recover(t){!this.ne&&(await this.Qf(),this.ji!==ke.READY)||this.tb(t)}async Qf(){try{this.ji=ke.OPEN_IN_PROGRESS,this.ne=await self.caches.open(`${this.Ne}${this.an}`),this.ji=ke.READY}catch{this.ji=ke.OPEN_FAILED}}async tb(t){try{if(this.vh++,this.vh>1)return;let e=await this.ne.keys();if(e.length===0)return;let i=await this.ne.matchAll(),r=csArray.prototype.map.call(i,c=>{let l={};c.headers.forEach((m,d)=>{l[d]=m}),delete l["content-type"];let u=l.datatype;return delete l.datatype,u==="json"||u==="base64"?c.text().then(m=>({metadata:l,events:m})):c.arrayBuffer().then(m=>({metadata:l,events:m}))}),a=await Promise.all(r);await Promise.all(csArray.prototype.map.call(e,c=>this.ne.delete(c))),t(a),this.Me.reset()}catch{}finally{this.vh--}}}return s})(),Im=(()=>{class s{constructor(t){try{this.eb(t)}catch{this._h()}}eb(t){self.caches?this.sb(t):this._h()}save(t){this.Ra.save(t)}recover(t){this.Ra.recover(t)}sb(t){this.Ra=new Cm(t,s.Zf,e=>{this._h(e)})}_h(t){this.Ra=new Rm(s.Zf),t&&csArray.prototype.forEach.call(t,e=>{this.Ra.save(e)})}}return s.Zf=1024*1024*16,s})(),Pm=(()=>{class s{constructor(t,e){this.S=t,this.R=e,this.Ur=Gt.ETR_DISABLED,this.Ca=Gt.ETR_PENDING,this.Th=!0}getEtrStatus(t){t===void 0&&(t=this.R.getSession());let e=t==null?void 0:t.etrStatus;return this.tg()&&e===Gt.ETR_SAVED_SESSION?e:this.Ur}onEventTriggerRecording(t,e){switch(e){case ze.ETR_PAGE:this.eg(Gt.ETR_SAVED_PAGE);break;case ze.ETR_LEGACY:case ze.ETR_SESSION:this.eg(Gt.ETR_SAVED_SESSION);break}}onCollectStateChange(t,e){t===L.RECORDING_TEMPORARILY?this.Th=!0:this.Th=!1,t===L.ANALYTICS_ONLY&&e===jt.ETR_ON?this.sg(this.Ca):this.sg(Gt.ETR_DISABLED)}sg(t){this.Ur=t,this.Ca=Gt.ETR_PENDING,this.ig(t),this.S.emitRecordingContextChange()}eg(t){this.Th?Number(t)>Number(this.Ca)&&(this.Ca=t):this.tg()&&Number(t)>Number(this.Ur)&&(this.Ur=t,this.ig(t),this.S.emitRecordingContextChange())}ig(t){let e=this.R.getSession();e!==null&&e.etrStatus===Gt.ETR_NOT_SAVED_SESSION&&t===Gt.ETR_SAVED_SESSION&&(e.etrStatus=t,this.R.setSession(e))}tg(){return this.Ur!==Gt.ETR_DISABLED}}return s})(),N=(()=>{let s;return function(n){n[n.MUTATION_INSERT=1]="MUTATION_INSERT",n[n.MUTATION_REMOVE=2]="MUTATION_REMOVE",n[n.MUTATION_ATTRIBUTE=3]="MUTATION_ATTRIBUTE",n[n.MUTATION_CHARACTER_DATA=4]="MUTATION_CHARACTER_DATA",n[n.INITIAL_DOM=5]="INITIAL_DOM",n[n.SCROLL=6]="SCROLL",n[n.CLICK=8]="CLICK",n[n.RESIZE=9]="RESIZE",n[n.INPUT_CHECKABLE=10]="INPUT_CHECKABLE",n[n.INPUT_SELECT=11]="INPUT_SELECT",n[n.INPUT_TEXT=12]="INPUT_TEXT",n[n.HASH_CHANGE=13]="HASH_CHANGE",n[n.UNANONYMIZED_CONSENT_GRANTED=14]="UNANONYMIZED_CONSENT_GRANTED",n[n.UNANONYMIZED_CONSENT_WITHDRAWN=15]="UNANONYMIZED_CONSENT_WITHDRAWN",n[n.MOUSE_OVER=16]="MOUSE_OVER",n[n.VISIBILITY_CHANGE=17]="VISIBILITY_CHANGE",n[n.STYLESHEET_RULE_INSERT=18]="STYLESHEET_RULE_INSERT",n[n.STATIC_RESOURCE_URL=19]="STATIC_RESOURCE_URL",n[n.PERFORMANCE_TIMINGS=20]="PERFORMANCE_TIMINGS",n[n.ATTACH_SHADOW=22]="ATTACH_SHADOW",n[n.STYLESHEET_CSS_TEXT_UPDATE=23]="STYLESHEET_CSS_TEXT_UPDATE",n[n.JAVASCRIPT_ERROR=26]="JAVASCRIPT_ERROR",n[n.PAGE_EVENT=27]="PAGE_EVENT",n[n.API_ERROR=28]="API_ERROR",n[n.TEXT_VISIBILITY=29]="TEXT_VISIBILITY",n[n.MUTATION_ENCRYPTED_CHARACTER_DATA=30]="MUTATION_ENCRYPTED_CHARACTER_DATA",n[n.INPUT_ENCRYPTED_TEXT=31]="INPUT_ENCRYPTED_TEXT",n[n.KEY_DOWN=32]="KEY_DOWN",n[n.KEY_UP=33]="KEY_UP",n[n.CLIPBOARD_COMMAND=34]="CLIPBOARD_COMMAND",n[n.STYLESHEET_RULE_DELETE=37]="STYLESHEET_RULE_DELETE",n[n.USER_IDENTIFIER=38]="USER_IDENTIFIER",n[n.TOUCH_START=41]="TOUCH_START",n[n.TOUCH_MOVE=42]="TOUCH_MOVE",n[n.TOUCH_END=43]="TOUCH_END",n[n.GESTURE_RECOGNITION=44]="GESTURE_RECOGNITION",n[n.POINTER_DOWN=47]="POINTER_DOWN",n[n.POINTER_MOVE=48]="POINTER_MOVE",n[n.POINTER_UP=49]="POINTER_UP",n[n.CUSTOM_ERROR=50]="CUSTOM_ERROR",n[n.CUSTOM_ELEMENT_REGISTRATION=54]="CUSTOM_ELEMENT_REGISTRATION",n[n.REGISTER_ADOPTED_STYLE_SHEET=60]="REGISTER_ADOPTED_STYLE_SHEET",n[n.SET_ADOPTED_STYLE_SHEETS=61]="SET_ADOPTED_STYLE_SHEETS",n[n.ADOPTED_STYLESHEET_RULE_INSERT=62]="ADOPTED_STYLESHEET_RULE_INSERT",n[n.ADOPTED_STYLESHEET_RULE_DELETE=63]="ADOPTED_STYLESHEET_RULE_DELETE",n[n.SCREEN_RESIZE=65]="SCREEN_RESIZE",n[n.RESOURCE_HASHES=66]="RESOURCE_HASHES",n[n.PERFORMANCE_NAVIGATION_TIMING=67]="PERFORMANCE_NAVIGATION_TIMING",n[n.PERFORMANCE_RESOURCE_TIMING=68]="PERFORMANCE_RESOURCE_TIMING",n[n.RECORDING_INFO_EVENT=72]="RECORDING_INFO_EVENT",n[n.TEXT_REF=73]="TEXT_REF",n[n.TOUCH_CANCEL=74]="TOUCH_CANCEL",n[n.MUTATION_MOVE=75]="MUTATION_MOVE",n[n.STYLESHEET_RULE_UPDATE=76]="STYLESHEET_RULE_UPDATE",n[n.ADOPTED_STYLESHEET_RULE_UPDATE=77]="ADOPTED_STYLESHEET_RULE_UPDATE",n[n.VIDEO_PLAY=78]="VIDEO_PLAY",n[n.VIDEO_PAUSE=79]="VIDEO_PAUSE",n[n.VIDEO_SEEK=80]="VIDEO_SEEK",n[n.ADOPTED_STYLESHEET_DISABLED=98]="ADOPTED_STYLESHEET_DISABLED",n[n.STYLESHEET_DISABLED=99]="STYLESHEET_DISABLED",n[n.DEBUG=999]="DEBUG"}(s||(s={})),s})();var $s=(()=>{let s;return function(n){n[n.SWIPE=0]="SWIPE",n[n.PINCH_IN=1]="PINCH_IN",n[n.PINCH_OUT=2]="PINCH_OUT",n[n.LONG_PRESS=3]="LONG_PRESS",n[n.TAP=4]="TAP",n[n.DOUBLE_TAP=5]="DOUBLE_TAP"}(s||(s={})),s})(),Om=(()=>{class s{constructor(t=100){this.ib=t,this.Ia={},this.jr=null,this.oh="original-resource-name"}onEvent(t){this.nb=t}processEvent(t){this.rb(t.resourceId,t.resource.hash,t.originalResourceName),this.ob(t)}flushEvents(){this.jr&&csClearTimeout(this.jr),this.ng()}onSendStaticResource(t){this.ob=t}ng(){if(!Object.keys(this.Ia).length)return;let t={type:N.RESOURCE_HASHES,date:P.now(),args:[this.Ia]};this.jr=null,this.Ia={},this.nb(t)}rb(t,e,i){let r=e;i&&(r+=`?${this.oh}=${i}`),this.Ia[t]=r,!this.jr&&(this.jr=window.csSetTimeout(()=>this.ng(),this.ib))}}return s})();function Nm(s,n,t){let{timestamp:e}=s;switch(s.domEvent){case"initialDOM":{let{initialDOM:i}=s,r={type:N.INITIAL_DOM,date:e,args:[i]};t.emitInitialDomDone(r);break}case"nodesAdded":{csArray.prototype.forEach.call(s.nodes,i=>{n({type:N.MUTATION_INSERT,date:e,args:[s.target,s.nextSibling,i]})});break}case"nodesMoved":{for(let i of s.nodesIds)n({type:N.MUTATION_MOVE,date:e,args:[i,s.nextSibling,s.target]});break}case"nodesRemoved":{csArray.prototype.forEach.call(s.nodesIds,i=>{n({type:N.MUTATION_REMOVE,date:e,args:[i]})});break}case"attributeChanged":{let{target:i,namespace:r,attribute:a,newValue:c}=s;n({type:N.MUTATION_ATTRIBUTE,date:e,args:[i,r,a,c]});break}case"characterDataChanged":{let{target:i,newValue:r}=s;n({type:N.MUTATION_CHARACTER_DATA,date:e,args:[i,r]});break}case"cssRuleInserted":{let{target:i,rule:r,index:a}=s,c=Z(a)?[i,r,a]:[i,r];n({type:N.STYLESHEET_RULE_INSERT,date:e,args:c});break}case"cssRuleDeleted":{let{target:i,index:r}=s;n({type:N.STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"cssRuleUpdated":{let{target:i,rule:r,index:a}=s;n({type:N.STYLESHEET_RULE_UPDATE,date:e,args:[i,r,a]});break}case"cssStyleSheetDisabled":{let{target:i,disabled:r}=s;n({type:N.STYLESHEET_DISABLED,date:e,args:[i,r]});break}case"shadowRootAttached":{let{target:i,shadowRoot:r}=s;n({type:N.ATTACH_SHADOW,date:e,args:[i,r]});break}case"adoptedStyleSheetRegistered":{let{sheetId:i,cssRules:r,disabled:a}=s;n({type:N.REGISTER_ADOPTED_STYLE_SHEET,date:e,args:[i,{cssRules:r,disabled:a}]});break}case"adoptedStyleSheetsSet":{let{target:i,sheetsIds:r}=s;n({type:N.SET_ADOPTED_STYLE_SHEETS,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleInserted":{let{sheetId:i,rule:r,index:a}=s,c=Z(a)?[i,r,a]:[i,r];n({type:N.ADOPTED_STYLESHEET_RULE_INSERT,date:e,args:c});break}case"adoptedStyleSheetRuleDeleted":{let{sheetId:i,index:r}=s;n({type:N.ADOPTED_STYLESHEET_RULE_DELETE,date:e,args:[i,r]});break}case"adoptedStyleSheetRuleUpdated":{let{sheetId:i,rule:r,index:a}=s,c=[i,r,a];n({type:N.ADOPTED_STYLESHEET_RULE_UPDATE,date:e,args:c});break}case"adoptedStyleSheetDisabled":{let{sheetId:i,disabled:r}=s,a=[i,r];n({type:N.ADOPTED_STYLESHEET_DISABLED,date:e,args:a});break}default:F.error("translateDOMEvent: DOMEvent not supported");break}}function Mm(s){let n=km(s.data);return{type:N.GESTURE_RECOGNITION,args:[s.targetId,n],date:s.timestamp}}function km(s){let n={type:Dm(s.type)};for(let t in s){let e=s[t];e!==void 0&&t!=="type"&&(n[t]=e)}return n}function Dm(s){switch(s){case gt.DRAG:case gt.FLICK:return $s.SWIPE;case gt.LONG_PRESS:return $s.LONG_PRESS;case gt.TAP:return $s.TAP;case gt.PINCH_IN:return $s.PINCH_IN;case gt.PINCH_OUT:return $s.PINCH_OUT}}function xm(s,n){let t=[],e=!1;return{push(i){if(csArray.prototype.push.call(t,i),t.length===n.batchSize){this.flush();return}n.autoFlushDelay&&n.autoFlushDelay>0&&!e&&(e=!0,csSetTimeout(()=>{e=!1,t.length>0&&this.flush()},n.autoFlushDelay))},flush(){if(!t.length)return;let i=t;t=[],s(i)}}}var Lm=20;function Vm(s){return xm(n=>{let t={visibleInViewPort:n},e={type:N.TEXT_VISIBILITY,date:P.now(),args:[t]};s(e)},{batchSize:Lm,autoFlushDelay:1e3})}var kn=(()=>{let s;return function(n){n.REQUEST_START="requestStart",n.DOM_INTERACTIVE="domInteractive",n.TIME_ORIGIN="timeOrigin"}(s||(s={})),s})();function Um(s){return{type:N.PERFORMANCE_TIMINGS,args:[{performanceTiming:kn.REQUEST_START,timestamp:s.timings.requestStart},{performanceTiming:kn.DOM_INTERACTIVE,timestamp:s.timings.domInteractive},{performanceTiming:kn.TIME_ORIGIN,timestamp:s.timings.timeOrigin}],date:s.timestamp}}function jm(s){switch(s.inputType){case"text":return{type:N.INPUT_TEXT,args:[s.target,s.value],date:s.timestamp};case"select":return{type:N.INPUT_SELECT,args:[s.target,s.selectedIndex],date:s.timestamp};case"checkable":return{type:N.INPUT_CHECKABLE,args:[s.target,s.checked],date:s.timestamp}}}var Hm=500,Dn=0;function Bm(){return{processEvent(s,n){if(s.originalEvent.type===N.PERFORMANCE_RESOURCE_TIMING)return Dn>=Hm?null:(Dn+=1,n({...s.originalEvent,date:s.timestamp}));n(s.originalEvent)},reset(){Dn=0}}}function Fm(s){switch(s.videoEventType){case"play":return{type:N.VIDEO_PLAY,args:[s.nodeId],date:s.timestamp};case"pause":return{type:N.VIDEO_PAUSE,args:[s.nodeId],date:s.timestamp};case"seeked":{let n=s;return{type:N.VIDEO_SEEK,args:[n.nodeId,n.newTimePositionInSec],date:s.timestamp}}default:return null}}var $m=(()=>{class s{get pendingEvents(){return this.Pa.pendingEvents}constructor(t,e,i,r,a){this.Pa=t,this.S=e,this.ke=i,this.cs=r,this.ls=a,this.re=()=>{},this.Oa=()=>{},this.rg=Vm(c=>this.re(c))}start(){var t,e;this.og=Bm(),this.Pa.subscribe(i=>{var r,a,c,l,u,m;let d=i,{timestamp:E}=d;switch(d.type){case"Legacy":{let y=d.eventType==="user"?(r=this.Oa)!==null&&r!==void 0?r:()=>{}:this.re;this.og.processEvent(d,y)}break;case"CustomElementRegistration":{this.re({type:N.CUSTOM_ELEMENT_REGISTRATION,date:E,args:[d.tagName]});break}case"DomEvent":{Nm(d,this.re,this.S);break}case"InputEvent":{let y=jm(d);(a=this.Oa)===null||a===void 0||a.call(this,y);break}case"encryptedCharacterDataChanged":{let{target:y,rawData:v,encryptedData:C,encryptionMetadata:I}=d;this.re({type:N.MUTATION_ENCRYPTED_CHARACTER_DATA,date:E,args:[y,v,C,I]});break}case"StaticResource":{let{url:y}=d;this.re({type:N.STATIC_RESOURCE_URL,date:E,args:[y]});break}case"ResizeMaskedElement":{let{target:y,width:v,height:C}=d;this.re({type:N.MUTATION_ATTRIBUTE,date:E,args:[y,"","style",`width:${v}px !important;height:${C}px !important;`]});break}case"Gesture":{let y=Mm(i);(c=this.Oa)===null||c===void 0||c.call(this,y);break}case"TextVisibility":{this.rg.push(d.text);break}case"StaticResourceManagerEvent":{(l=this.ke)===null||l===void 0||l.processEvent(d);break}case"screenResize":{let{width:y,height:v}=d,C={type:N.SCREEN_RESIZE,date:E,args:[y,v]};this.re(C);break}case"viewportResize":{let{width:y,height:v}=d,C={type:N.RESIZE,date:E,args:[y,v]};this.re(C);break}case"PerformanceTiming":{this.re(Um(d));break}case"CustomError":{let y=(u=this.ls)===null||u===void 0?void 0:u.translate(d);y&&this.re(y);break}case"JSError":{let y=(m=this.cs)===null||m===void 0?void 0:m.translate(d);y&&this.re(y);break}case"VideoEvent":{let y=Fm(d);y&&this.re(y);break}case"warning":{F.warn(d.message);break}default:F.error(`WebRecorderEventTranslator: Event not supported (${d.type})`);break}}),this.S.emitInitialDomStart(),(t=this.cs)===null||t===void 0||t.start(),(e=this.ls)===null||e===void 0||e.start(),this.Pa.start()}stop(){var t,e,i;this.reset(),this.flush(),this.Pa.stop(),(t=this.ke)===null||t===void 0||t.flushEvents(),(e=this.cs)===null||e===void 0||e.stop(),(i=this.ls)===null||i===void 0||i.stop()}flush(){this.rg.flush()}onEvent(t,e){var i;this.re=t,this.Oa=e,(i=this.ke)===null||i===void 0||i.onEvent(r=>this.re(r))}reset(){this.og.reset()}}return s})(),zm=(()=>{class s{constructor(){this.mr=20,this.Pi=0,this.V=!1}translate(t){if(this.Pi>=this.mr)return null;this.Pi+=1;let{message:e,attributes:i,timestamp:r}=t;return{type:N.CUSTOM_ERROR,date:r,args:[{errorType:"customError",message:e,attributes:i}]}}start(){this.V||(this.Pi=0,this.V=!0)}stop(){this.V=!1}}return s})(),Gm=(()=>{class s{constructor(t){this.Na=t,this.mr=20,this.Mi=0,this.V=!1}translate(t){if(this.Mi>=this.mr)return this.Na.stop(),null;this.Mi+=1;let{filename:e,message:i,lineno:r,colno:a,timestamp:c}=t;return{type:N.JAVASCRIPT_ERROR,date:c,args:[{errorType:"jsError",message:i,filename:e,lineno:r,colno:a}]}}start(){this.V||(this.Mi=0,this.V=!0)}stop(){this.V=!1}}return s})(),qm=(()=>{class s extends ae{constructor(t){super(),this.Ue=t}subscribe(t){return super.subscribe(t)}onStart(){K(this.Ue,t=>{t.onEvent(e=>{var i;return this.Rn(e,(i=t.eventType)!==null&&i!==void 0?i:"browser")})}),K(this.Ue,t=>{var e;(e=t.start)===null||e===void 0||e.call(t)})}onStop(){K(this.Ue,t=>{var e;return(e=t.stop)===null||e===void 0?void 0:e.call(t)})}Rn(t,e){this.produceEvent({timestamp:P.now(),type:"Legacy",originalEvent:t,eventType:e})}}return s})(),wt=(()=>{let s;return function(n){n[n.Active=0]="Active",n[n.Paused=1]="Paused",n[n.Stopped=2]="Stopped"}(s||(s={})),s})(),Wm=(()=>{class s{constructor(t,e,i=[]){this.Rn=t,this.bh=e,this.ab=i,this.Ma=null,this.Pt=wt.Active,this.nt=[]}reset(){this.Ma=null,this.nt=[],this.Pt=wt.Active}disconnect(){this.Pt=wt.Stopped}cb(){this.bh(wt.Paused),this.Pt=wt.Paused,csSetTimeout(()=>{this.Pt===wt.Paused&&this.Ah()},s.STOP_TIMEOUT)}lb(){this.bh(wt.Active),this.Pt=wt.Active,K(this.nt,this.Rn),this.nt=[]}Ah(){this.nt=[],this.bh(wt.Stopped),this.Pt=wt.Stopped}pushEvent(t,e){if(e.isUserEvent&&(this.Ma=t.date,this.Pt!==wt.Active)){this.lb(),this.Rn(t);return}if(this.hb(t)){this.Rn(t);return}switch(this.Pt){case wt.Active:if(this.db(t,e)){this.cb(),csArray.prototype.push.call(this.nt,t);return}this.Rn(t);break;case wt.Paused:csArray.prototype.push.call(this.nt,t);break;case wt.Stopped:break}}db(t,e){return!e.isUserEvent&&this.Ma!==null&&t.date-this.Ma>s.INACTIVITY_TIMEOUT}hb(t){return csArray.prototype.indexOf.call(this.ab,t.type)>-1}}return s.INACTIVITY_TIMEOUT=5e3,s.STOP_TIMEOUT=5e3,s})(),Ym=2e3,Xm=(()=>{class s extends Ot{constructor(t,e,i,r,a,c,l,u,m,d,E,y,v,C,I=[],S,_,D,O,b){super(),this.f=t,this.B=e,this.pb=i,this.Ye=r,this.G=a,this.R=c,this.pe=l,this.yt=u,this.xe=m,this.ot=d,this.W=E,this.Dt=y,this.Rt=v,this.je=C,this.Ue=I,this.ag=S,this.Wt=_,this.Hr=D,this.cs=O,this.ls=b,this.Ys=0,this.$s=new dc,this.Cn={allowFromQuotaService:!0,allowFromSerialization:!0},this.cg=rn(()=>{this.B.eventsCount()>0&&this.lg()},Ym),this.Is=x=>this.processBrowserEvent(x),this.Br=x=>this.Nt(x),this.hg=0,this.ka=0,this.ze=new fc,this.Rh=!1,this.ug=50*1024,this.Hi=!1,this.Fr=!1,this.Li=[],this.Da=new Wm(x=>this.J(x),x=>{switch(x){case wt.Active:this.fb();break;case wt.Stopped:this.gb();break}},[N.RESOURCE_HASHES,N.TEXT_VISIBILITY,N.API_ERROR,N.JAVASCRIPT_ERROR]),this.dg=x=>{this.Dt.removeBatchInProgress(`${x.params.sn}.${x.params.pn}.${x.params.ri}`)}}init(){this.Ch(),this.W.onLoad(this.dg),this.W.onError(this.dg)}fb(){csArray.prototype.forEach.call(this.ag,t=>t.start())}gb(){csArray.prototype.forEach.call(this.ag,t=>t.stopForInactivity())}Ch(){var t,e,i;this.je.onEvent(this.Is,this.Br),(t=this.ot)===null||t===void 0||t.onInputNodeToEncrypt(this.Br),(e=this.ot)===null||e===void 0||e.onApiErrorToEncrypt(r=>{this.pg(r)}),(i=this.ot)===null||i===void 0||i.onUserIdentifierToEncrypt(this.Is),this.ze.onEvent(r=>{if(csSetTimeout(()=>this.Bi("page-state",r)),r!==Wt.Visible){if(r===Wt.Blur)return this.fg();if(!this.Rh)return this.Rh=!0,csSetTimeout(()=>{this.Rh=!1}),r===Wt.Hidden?this.fg():this.mb()}})}isRecording(){return this.R.hasValidSession()&&this.isStarted}fg(){if(!this.canSendEvents())return;this.je.flush(),this.Dt.saveBatchesInProgress(),K(this.Ue,a=>{var c,l;return K((l=(c=a.getPendingEvents)===null||c===void 0?void 0:c.call(a))!==null&&l!==void 0?l:[],u=>this.B.addEvent(u))});let t=this.B.getEvents();if(t.length===0)return;this.Bi("pending-events",this.je.pendingEvents);let e=this.W.getQueryParams();e.rst=this.getRecordingStartTimestamp(),e.let=this.getRecordingLastEventTimestamp();let i=this.Ye.getCurrentIndex();e.ri=i.toString(),this.Rt.removeQueryParams(),this.Rt.setQueryParams(e),this.ka=t[t.length-1].date;let r=this.B.stringifyEvents();if(r.length>this.ug){let a=this.gg();if(a.length>0){let c=Is(a);this.Rt.send(c)||this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:c}),this.Ye.increment()}if(this.B.eventsCount()>0){e.ri=this.Ye.getCurrentIndex().toString();let c=this.B.stringifyEvents();this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:c}),this.Ye.increment()}}else this.Rt.send(r)||this.Dt.save({key:`${e.sn}.${e.pn}.${e.ri}.last`,metadata:{...e,datatype:"json"},events:r}),this.Ye.increment();this.Rt.removeQueryParams(),this.B.clearEvents()}mb(){if(!this.canSendEvents())return;this.je.flush();let t=this.W.getQueryParams();this.Dt.saveBatchesInProgress(),t.rst=this.getRecordingStartTimestamp(),delete t.ri,t.hlm="true",this.Rt.removeQueryParams(),K(this.Ue,r=>{var a,c;return K((c=(a=r.getPendingEvents)===null||a===void 0?void 0:a.call(r))!==null&&c!==void 0?c:[],l=>this.B.addEvent(l))});let e=this.B.getEvents();if(e.length===0){delete t.let,delete t.rst,this.Rt.setQueryParams(t),this.Rt.send(),this.Rt.removeQueryParams();return}this.Bi("pending-events",this.je.pendingEvents),this.ka=e[e.length-1].date,t.let=this.getRecordingLastEventTimestamp(),this.Rt.setQueryParams(t);let i=this.B.stringifyEvents();if(i.length>this.ug){let r=this.gg();if(r.length>0){let a=Is(r);this.Rt.send(a)||this.Dt.save({key:`${t.sn}.${t.pn}.last`,metadata:{...t,datatype:"json"},events:a})}else delete t.let,delete t.rst,delete t.ri,this.Rt.removeQueryParams(),this.Rt.setQueryParams(t),this.Rt.send(),this.Rt.removeQueryParams();if(this.B.eventsCount()>0){t.rst=this.getRecordingStartTimestamp(),t.let=this.getRecordingLastEventTimestamp();let a=this.Ye.getCurrentIndex();t.ri=a.toString();let c=this.B.stringifyEvents();this.Dt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:c}),this.Ye.increment()}}else this.Rt.send(i)||(this.Dt.save({key:`${t.sn}.${t.pn}.${t.ri}.last`,metadata:{...t,datatype:"json"},events:i}),this.Ye.increment());this.Rt.removeQueryParams(),this.B.clearEvents()}blockSendingEventsFromQuotaService(){this.Cn.allowFromQuotaService=!1}allowSendingEventsFromQuotaService(){this.Cn.allowFromQuotaService=!0}blockSendingEventsFromSerialization(){this.Cn.allowFromSerialization=!1}allowSendingEventsFromSerialization(){this.Cn.allowFromSerialization=!0}canSendEvents(){return this.Cn.allowFromQuotaService&&this.Cn.allowFromSerialization}onIframeJavascriptError(t){var e;if(this.pe&&this.cs){(e=this.pe)===null||e===void 0||e.anonymize(t);let i=this.cs.translate({message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename,timestamp:P.now(),type:"JSError"});i&&this.Is(i)}}onIframeCustomError(t){if(this.ls){let e=this.ls.translate({...t,timestamp:P.now(),type:"CustomError"});e&&this.Is(e)}}onIframeDetailedApiError(t){this.mg(t)}onIframeRecordingUserEvent(t){for(let e of t)this.Nt(e)}onIframeRecordingBrowserEvent(t){if(this.isStarted)for(let e of t)this.processBrowserEvent(e)}processBrowserEvent(t){this.G.isCurrentPageviewValid()&&this.Da.pushEvent(t,{isUserEvent:!1})}Nt(t){this.G.refreshSession(),this.G.isSessionValid()&&this.Da.pushEvent(t,{isUserEvent:!0})}J(t){Dt.general.nbEvents.increase(),this.B.addEvent(t),this.B.isThresholdReached()?this.pushEvents():this.B.isFull()&&this.cg(),this.yg(t)}yg(t){this.f.emitDebugEvents&&this.$s.emit("recordingEvent",{...t,typeName:N[t.type]})}onStart(){var t;this.Bi("tag-version","15.134.1"),this.Bi("page-state",document.visibilityState),this.Da.reset(),this.ze.start(),this.initStates(),this.je.start(),this.yt&&this.xe&&this.yt.subscribe(s.Ut,e=>this.mg(e),{detailedEvent:!0}),this.f.emitDebugEvents&&this.$s.emit("replayRecordingStarted"),csArray.prototype.forEach.call(this.Li,e=>this.Eg(e)),this.Li=[],this.Hi&&((t=this.Wt)===null||t===void 0||t.enableOnlineAssets(),this.Hi=!1)}onStop(){var t;this.ze.stop(),this.yt&&this.yt.unsubscribe(s.Ut),this.je.stop(),this.Da.disconnect(),(t=this.Wt)===null||t===void 0||t.disableOnlineAssets()}clearStates(){this.je.flush(),this.cg.cancel(),this.pushEvents(),this.W.removeQueryParams()}initStates(){this.hg=P.now(),this.Ye.reset(),this.Ys=0,this.W.setQueryParams(this.pb.getRequestParameters())}pushEvents(){K(this.Ue,t=>{var e;return(e=t.flushEvents)===null||e===void 0?void 0:e.call(t)}),this.B.eventsCount()>0&&(this.isStarted?this.lg():this.B.clearEvents())}lg(){if(!this.canSendEvents())return;let t=this.B.getEvents();this.ka=t[t.length-1].date;let e=this.Ye.getCurrentIndex();this.W.setQueryParams({ri:e.toString(),rst:this.getRecordingStartTimestamp(),let:this.getRecordingLastEventTimestamp()});let i=this.W.getQueryParams();this.Dt.addBatchInProgress(`${i.sn}.${i.pn}.${e}`,this.W.getQueryParams(),t),this.W.send(t),this.Ye.increment(),this.B.clearEvents(),this.Sg&&this.Sg()}addInitialDom(t){this.B.addEventByTimestamp(t),this.yg(t)}mg(t){if(this.Hr&&(t.plainCustomRequestHeaders||t.plainCustomResponseHeaders||t.requestBodyAttributes||t.responseBodyAttributes||t.customRequestHeaders||t.customResponseHeaders||t.queryParameters||t.requestBody||t.responseBody)){if(this.Hr.truncate(t),this.ot){this.ot.registerApiErrorToEncrypt(t);return}t.customRequestHeaders="",t.customResponseHeaders="",t.requestBodyAttributes="",t.responseBodyAttributes="",t.queryParameters="",t.requestBody="",t.responseBody=""}this.pg(t)}pg(t){if(this.Ys<s.yb){let e={type:N.API_ERROR,date:P.now(),args:[this.xe.anonymize(t)]};this.Is(e),this.Ys=this.Ys+1,G.counters.networkRequests.count("collected")}}Eb(t){t===ze.ETR_SESSION?this.W.setQueryParams({[s.Sb]:s.vg}):t===ze.ETR_PAGE&&this.W.setQueryParams({[s.vb]:s.vg})}clearEvents(){this.B.clearEvents()}onCustomJavaScriptErrorEvent(t){var e;let i=(e=this.cs)===null||e===void 0?void 0:e.translate({type:"JSError",timestamp:P.now(),message:t.message,colno:t.colno,lineno:t.lineno,filename:t.filename});i&&this.Is(i)}onCustomErrorEvent(t){var e;let i=(e=this.ls)===null||e===void 0?void 0:e.translate({type:"CustomError",timestamp:P.now(),message:t.message,attributes:t.attributes});i&&this.Is(i)}onPageEvent(t){this._g(t)}onUserIdentifierEvent(t){var e;let i={userIdentifier:t,date:P.now(),keyId:this.f.encryptionPublicKeyId};(e=this.ot)===null||e===void 0||e.registerUserIdentifierToEncrypt(i)}onEventTriggerRecording(t,e){this.isStarted?this.Eg({eventName:t,eventType:e}):csArray.prototype.push.call(this.Li,{eventName:t,eventType:e})}Eg(t){this.Eb(t.eventType),this._g(t.eventName),this.pushEvents()}_g(t){let e={type:N.PAGE_EVENT,date:P.now(),args:[{eventName:csString.prototype.slice.call(t,0,s._b)}]};this.B.addEvent(e)}triggerUnanonymizationConsentGranted(){let t={date:P.now(),type:N.UNANONYMIZED_CONSENT_GRANTED};this.B.addEvent(t)}triggerUnanonymizationConsentWithdrawn(){let t={date:P.now(),type:N.UNANONYMIZED_CONSENT_WITHDRAWN};this.B.addEvent(t)}triggerRecordingForSessionGranted(){this.Bi("consent-granted")}triggerRecordingForSessionWithdrawn(){this.Bi("consent-withdrawn")}activateOnlineAssetsOnNextPageview(){this.Fr=!0}getStaticResourceManagerStatus(){return this.Wt?{isStarted:this.f.useStaticResourceManager&&lr.isSupported(),onlineAssets:{activated:this.Wt.isOnlineAssetsActivated(),enabledOnNextPageview:this.Fr}}:null}resetOnlineAssetsOnPageview(){this.Hi=!1,this.Fr=!1}updateOnlineAssetsOnPageview(){this.Wt&&this.Fr&&(this.Hi=!0,this.Fr=!1)}onRecordingRequestSent(t){this.Sg=t}getRecordingStartTimestamp(){return this.hg.toString()}getRecordingLastEventTimestamp(){return this.ka.toString()}onOptOut(){K(this.Ue,t=>{var e;return(e=t.releaseResources)===null||e===void 0?void 0:e.call(t)})}Bi(t,e){if(!this.f.emitRecordInfoEvents)return;let i={date:P.now(),type:N.RECORDING_INFO_EVENT,args:e==null?[t]:[t,e]};this.B.addEvent(i)}gg(){return this.B.extractEvents(N.API_ERROR,N.JAVASCRIPT_ERROR,N.CUSTOM_ERROR,N.TEXT_VISIBILITY,N.POINTER_DOWN)}}return s.Ut="RecordingService",s._b=255,s.yb=20,s.vb="etrp",s.Sb="etrs",s.vg="1",B([Pt("addInitialDom")],s.prototype,"addInitialDom",null),s})(),Km=(()=>{class s extends Ot{constructor(t,e,i){super(),this.Qt=t,this.Rt=e,this.W=i,this.Ih=!1,this.$r={},this.wb=r=>{if(r.length!==0)for(let a of r){let{metadata:c,events:l}=a;this.Tb(c.rt)&&this.W.send(l,c)}},window.addEventListener("focus",()=>{this.recover()})}onStart(){this.$r={}}onStop(){}recover(){this.Qt.recover(this.wb)}addBatchInProgress(t,e,i){this.$r[t]={metadata:{...e},events:i}}removeBatchInProgress(t){delete this.$r[t]}blockSendingLastMessage(){this.Ih=!1}allowSendingLastMessage(){this.Ih=!0}sendLastMessageBeacon(){if(this.Ih){let{ri:t,rst:e,let:i,...r}=this.W.getQueryParams();r.hlm="true",this.Rt.setQueryParams(r),this.Rt.send()}}Tb(t){return!!t&&csString.prototype.indexOf.call(t,L.RECORDING_TEMPORARILY)===-1}saveBatchesInProgress(){csArray.prototype.forEach.call(Object.keys(this.$r),t=>{let{metadata:e,events:i}=this.$r[t];this.Qt.save({key:`${e.sn}.${e.pn}.${e.ri}`,metadata:{...e,datatype:"json"},events:csJSON.stringify(i)})})}save(t){this.Qt.save(t)}}return B([U("RecordingRecovery")],s.prototype,"recover",null),s})(),Jm=(()=>{class s{constructor(){this.xa=1}getCurrentIndex(){return this.xa}increment(){this.xa+=1}reset(){this.xa=1}getRequestParameters(){return{ri:`${this.xa}`}}}return s})(),Qm=(()=>{let s;return function(n){n[n.NOT_EXIST=2]="NOT_EXIST"}(s||(s={})),s})(),Zm=8*1024*1024,ty=(()=>{class s extends Ot{constructor(t,e,i){super(),this.ke=t,this.wg=e,this.mt=i,this.Ph={},this.Tg=new Set,this.rs=!1}initState(){Aa()&&(this.Le=this.mt.getRequestParameters(),this.bb=`${this.wg}/exist?${ii.toQuery(this.Le)}`,this.Ab=`${this.wg}/putTag?${ii.toQuery(this.Le)}`,this.bg=Zs(async()=>{if(this.rs){this.bg();return}this.rs=!0;try{await this.Rb()}finally{this.rs=!1}},300),this.ke.onSendStaticResource(t=>{this.Ag(t)}))}onStart(){}onStop(){}onIframeStaticResource(t){this.Ag(t)}Ag(t){this.Rg(t.resource.hash,t.resource.data),t.nestedResources&&t.nestedResources.length>0&&csArray.prototype.forEach.call(t.nestedResources,e=>{this.Rg(e.hash,e.data)})}Rg(t,e){this.Tg.has(t)||(this.Tg.add(t),this.Ph[t]=e,this.bg())}async Rb(){let t=this.Ph;this.Ph={};let e=await this.Cb(t);if(!e.length)return;let i=this.Ib(e);await Promise.all(csArray.prototype.map.call(i,r=>window.fetch(this.Ab,{method:"POST",body:r})))}async Pb(t){try{let e=Object.keys(t);if(!e.length)return[];let i={projectId:this.Le.pid,filter:Qm.NOT_EXIST,hashes:e,touch:!0};return await(await window.fetch(this.bb,{method:"POST",body:csJSON.stringify(i)})).json()}catch{return[]}}async Cb(t){let e=[],i=await this.Pb(t);return csArray.prototype.forEach.call(i,r=>{let a=t[r];a?csArray.prototype.push.call(e,{hash:r,data:a}):F.warn("SRM: received unknown hash: "+r)}),e}Ib(t){let e=0,i=[new FormData];for(let r of t){let{data:a,hash:c}=r,l=i.length-1;if(e=e+a.size,e<Zm)i[l].append("",a,c);else{let u=new FormData;u.append("",a,c),e=a.size,csArray.prototype.push.call(i,u)}}return i}}return s})(),ey=2*1e3*1024,sy=200,iy=(()=>{class s{constructor(t=[],e=ey){this.Vt=t,this.Oh=new Mr(e)}addEvent(t){this.Oh.addString(Is(t)),csArray.prototype.push.call(this.Vt,t)}addEventByTimestamp(t){let e=0;for(;e<this.Vt.length&&!(this.Vt[e].date>=t.date);e+=1);csArray.prototype.splice.call(this.Vt,e,0,t)}eventsCount(){return this.Vt.length}clearEvents(){this.Oh.reset(),this.Vt=[]}isFull(){return this.eventsCount()>=sy}isThresholdReached(){return this.Oh.isThresholdReached()}getEvents(){return this.Vt}extractEvents(...t){let e=[],i=[];return csArray.prototype.forEach.call(this.Vt,r=>{csArray.prototype.indexOf.call(t,r.type)!==-1?csArray.prototype.push.call(e,r):csArray.prototype.push.call(i,r)}),this.Vt=i,e}stringifyEvents(){return Is(this.Vt)}KC(t){t.type===N.INITIAL_DOM&&(window.CSDomSerialized=window.CSDomSerialized?window.CSDomSerialized+1:1)}}return B([Pt("RecordingBatch.addEvent")],s.prototype,"addEvent",null),s})();function Mt(s,n=0){let t=Math.pow(10,n);return Math.round(s*t)/t}var ny=(()=>{class s{constructor(t,e){this.Ot=t,this.N=e,this.js=[{boundElement:window,type:"hashchange",listener:()=>this.hashChangeListener()},{boundElement:document,type:"visibilitychange",listener:()=>this.visibilityChangeListener()}]}onEvent(t){this.L=t}start(){this.vi(),this.triggerInitialEvents()}stop(){this._i()}vi(){csArray.prototype.forEach.call(this.js,t=>Ct(t))}_i(){csArray.prototype.forEach.call(this.js,t=>It(t))}triggerInitialEvents(){this.hashChangeListener()}hashChangeListener(){let t={type:N.HASH_CHANGE,args:[this.N.anonymizePII(this.Ot.href)],date:P.now()};this.L(t)}visibilityChangeListener(){let t={type:N.VISIBILITY_CHANGE,args:[document.visibilityState],date:P.now()};this.L(t)}}return B([U("hashChange")],s.prototype,"hashChangeListener",null),B([U("visibilityChange")],s.prototype,"visibilityChangeListener",null),s})();function ry(s){if(!z(s))return null;let t=/iP(ad|hone|od).+Version\/(\d+)\..*Safari/i.exec(s);return t?Number(t[2]):null}var oy=!!window.chrome,ay=33,cy=(()=>{class s{constructor(){this.eventType="user",this.Mh=[],this.Vb=[{type:"pointerup",listener:e=>this.pointerUpListener(e),boundElement:document},{type:"pointermove",listener:e=>this.pointerMoveListener(e),boundElement:document},{type:"pointerdown",listener:e=>this.pointerDownListener(e),boundElement:document}],this.Ub=[{type:"touchstart",listener:e=>this.touchStartListener(e),boundElement:document},{type:"touchmove",listener:e=>this.touchMoveListener(e),boundElement:document},{type:"touchend",listener:e=>this.touchEndCancelListener(e),boundElement:document},{type:"touchcancel",listener:e=>this.touchEndCancelListener(e),boundElement:document}],this.Va=[{type:"click",listener:e=>this.clickListener(e),boundElement:document},{type:"keyup",listener:e=>this.keyUpListener(e),boundElement:document},{type:"keydown",listener:e=>this.keyDownListener(e),boundElement:document},{type:"copy",listener:e=>this.copyListener(e),boundElement:document},{type:"cut",listener:e=>this.cutListener(e),boundElement:document},{type:"paste",listener:e=>this.pasteListener(e),boundElement:document},{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e)),boundElement:document},{type:"mouseover",listener:e=>this.mouseOverListener(e),boundElement:document}],this.kh=[{type:"scroll",listener:e=>this.scrollListener(csEventtarget.apply(e))}];let t=ry(window.navigator.userAgent);(t===null||t&&t>=16)&&csArray.prototype.push.call(this.kh,{type:"mouseover",listener:e=>this.mouseOverListener(e)}),this.ue=new ks((e,i)=>{switch(i){case"initial":case"added":this.vi(e);break;case"removed":this._i(e);break}})}init(){this.jb(),this.Hb(),this.Kc()}onEvent(t){csArray.prototype.push.call(this.Mh,t)}oe(t,e=!1){csArray.prototype.forEach.call(this.Mh,i=>i(t,e))}start(){this.ch(),this.vi(document),this.ue.observe()}stop(){this._i(document),this.ue.disconnect(),this.Mh=[]}Hb(){this.Bb()&&csArray.prototype.push.call(this.Va,...this.Vb)}jb(){this.Fb()&&csArray.prototype.push.call(this.Va,...this.Ub)}vi(t){Gi(t)?csArray.prototype.forEach.call(this.Va,e=>Ct(e)):csArray.prototype.forEach.call(this.kh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};Ct(i)})}_i(t){Gi(t)?csArray.prototype.forEach.call(this.Va,e=>It(e)):csArray.prototype.forEach.call(this.kh,e=>{let i={type:e.type,listener:e.listener,boundElement:t};It(i)})}Bb(){return"PointerEvent"in window&&typeof window.PointerEvent=="function"}Fb(){return"TouchEvent"in window&&typeof window.TouchEvent=="function"}ch(){this.$b()}$b(){let t=bs.getScrollContainer()||document,e=et(t),i=this.Cg(t);if(i.top!==0||i.left!==0){let r={type:N.SCROLL,args:[e,i.left,i.top],date:P.now()};this.oe(r,!0)}}Cg(t){return t===document?{top:window.pageYOffset,left:window.pageXOffset}:{top:t.scrollTop,left:t.scrollLeft}}scrollListener(t){if(k.isMaskedElement(t)||k.isMaskedElementChild(t))return;let e=et(t),i=this.Cg(t),r={type:N.SCROLL,args:[e,i.left,i.top],date:P.now()};this.oe(r)}mouseOverListener(t){if(k.isMaskedElementChild(t.target))return;let e=et(t.target),i={type:N.MOUSE_OVER,args:[e],date:P.now()};this.oe(i)}clickListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r={type:N.CLICK,args:[i],date:P.now()};this.oe(r)}keyUpListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r=this.U[t.key];if(r===void 0)return;let a={type:N.KEY_UP,args:[i,r],date:P.now()};this.oe(a)}keyDownListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r=this.U[t.key];if(r===void 0)return;let a={type:N.KEY_DOWN,args:[i,r],date:P.now()};this.oe(a)}copyListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r={type:N.CLIPBOARD_COMMAND,args:[i,As.COPY],date:P.now()};this.oe(r)}cutListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r={type:N.CLIPBOARD_COMMAND,args:[i,As.CUT],date:P.now()};this.oe(r)}pasteListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r={type:N.CLIPBOARD_COMMAND,args:[i,As.PASTE],date:P.now()};this.oe(r)}pointerUpListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r={type:N.POINTER_UP,args:[t.pointerId,t.pointerType,Mt(t.clientX,1),Mt(t.clientY,1),i,t.button],date:P.now()};this.oe(r)}pointerMoveListener(t){let e={type:N.POINTER_MOVE,args:[t.pointerId,t.pointerType,Mt(t.clientX,1),Mt(t.clientY,1)],date:P.now()};this.oe(e)}pointerDownListener(t){let e=ft(t);if(k.isMaskedElementChild(e))return;let i=et(e),r={type:N.POINTER_DOWN,args:[t.pointerId,t.pointerType,Mt(t.clientX,1),Mt(t.clientY,1),i,t.button,{pageX:Mt(t.pageX,1),pageY:Mt(t.pageY,1)}],date:P.now()};this.oe(r)}touchStartListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],a={type:N.TOUCH_START,args:[r.identifier,Mt(r.clientX,1),Mt(r.clientY,1)],date:P.now()};this.oe(a)}}touchMoveListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],a={type:N.TOUCH_MOVE,args:[r.identifier,Mt(r.clientX,1),Mt(r.clientY,1)],date:P.now()};this.oe(a)}}touchEndCancelListener(t){if(!t.changedTouches)return;let{changedTouches:e}=t;for(let i=0;i<e.length;i+=1){let r=e[i],a={type:t.type==="touchend"?N.TOUCH_END:N.TOUCH_CANCEL,args:[r.identifier,Mt(r.clientX,1),Mt(r.clientY,1)],date:P.now()};this.oe(a)}}Kc(){this.U={},this.U[" "]=q.SPACE,this.U.Spacebar=q.SPACE,this.U.Backspace=q.BACKSPACE,this.U.Enter=q.ENTER,this.U.Delete=q.DELETE,this.U.ArrowUp=q.ARROWUP,this.U.ArrowDown=q.ARROWDOWN,this.U.ArrowLeft=q.ARROWLEFT,this.U.ArrowRight=q.ARROWRIGHT,this.U.Up=q.ARROWUP,this.U.Down=q.ARROWDOWN,this.U.Left=q.ARROWLEFT,this.U.Right=q.ARROWRIGHT,this.U.CapsLock=q.CAPSLOCK,this.U.Shift=q.SHIFT,this.U.Tab=q.TAB,this.U.Escape=q.ESCAPE,this.U.Esc=q.ESCAPE,this.U.End=q.END,this.U.Alt=q.ALT,this.U.Control=q.CTRL,this.U.Meta=q.META}}return B([Pt("RecordingPageEvents.start")],s.prototype,"start",null),B([U("scroll")],s.prototype,"scrollListener",null),B([U("mouseOver"),vt(),lp()],s.prototype,"mouseOverListener",null),B([U("click"),vt()],s.prototype,"clickListener",null),B([U("Event handler type: keyup")],s.prototype,"keyUpListener",null),B([U("Event handler type: keydown")],s.prototype,"keyDownListener",null),B([U("Event handler type: copy")],s.prototype,"copyListener",null),B([U("Event handler type: cut")],s.prototype,"cutListener",null),B([U("Event handler type: paste")],s.prototype,"pasteListener",null),B([U("Event handler type: pointerup"),vt()],s.prototype,"pointerUpListener",null),B([U("Event handler type: pointermove"),vt(),Rr({wait:ay})],s.prototype,"pointerMoveListener",null),B([U("Event handler type: pointerdown"),vt()],s.prototype,"pointerDownListener",null),B([U("Event handler type: touchstart"),vt()],s.prototype,"touchStartListener",null),B([U("Event handler type: touchmove"),vt()],s.prototype,"touchMoveListener",null),B([U("Event handler type: touchend-cancel"),vt()],s.prototype,"touchEndCancelListener",null),s})(),ly=(()=>{class s{constructor(){}onScannedAsset(t){this.Ua=t}scanCssString(t){this.Dh(Js(t))}scanElement(t,e){k.getMaskedElementDetails(t).state!==k.MaskedElementState.NotMasked||e&&k.isMaskedAttribute(t,e)||(Ji(t)?this.zb(t):yr(t)?this.Gb(t,e):(this.qb(t,e),this.Wb(t,e),this.Yb(t,e)))}Gb(t,e){var i;if((!e||e==="href")&&t.href){let a={assetId:((i=t.sheet)===null||i===void 0?void 0:i.href)||t.href,assetBasePath:window.location.href,assetRawPath:cc(t)};this.Ua({type:"stylesheet",asset:a})}}zb(t){var e;let i=new Set;if(t.textContent)for(let a of Js(t.textContent))i.add(a);let r;try{r=(e=t.sheet)===null||e===void 0?void 0:e.cssRules}catch(a){a.name==="SecurityError"||a.name==="InvalidAccessError"||F.error(a.message)}if(r)for(let a=0;a<r.length;a++){let c=r.item(a).cssText;for(let l of Js(c))i.add(l)}this.Dh(Ns(i))}xh(t){return!this.Xb(t)&&!qt(t)&&!Cu(t)}qb(t,e){if(zh(t)||$h(t)){if(!e||e==="src"){let i=t.getAttribute("src");if(i&&this.xh(i)){let r={assetId:t.src,assetRawPath:i,assetBasePath:window.location.href};this.Ua({type:"asset",asset:r})}}(!e||e==="srcset")&&t.srcset&&this.Kb(t.srcset)}}Wb(t,e){if(t.nodeType!==1){rt.warn(`StaticResourceUrlTracker: Wrong element nodeType: ${t==null?void 0:t.nodeName}/${t.nodeType}`);return}if(t.hasAttribute&&(!e||e==="style")&&t.hasAttribute("style")){let i=t.getAttribute("style");if(typeof i=="string")this.scanCssString(i);else throw new Error("Unexpected style: "+t.outerHTML)}}Kb(t){this.Dh(xr(t))}Yb(t,e){if((Yh(t)||Xh(t)||Kh(t))&&(!e||e==="href"||e==="xlink:href")){let i=t.getAttribute("href")||t.getAttribute("xlink:href");if(i&&this.xh(i)){let r={assetId:$e(i),assetRawPath:i,assetBasePath:window.location.href};this.Ua({type:"asset",asset:r})}}}Dh(t){return csArray.prototype.forEach.call(csArray.prototype.map.call(csArray.prototype.filter.call(t,e=>this.xh(e)),e=>({rawUrl:e,absoluteUrl:$e(e)})),e=>{let i={assetId:e.absoluteUrl,assetBasePath:window.location.href,assetRawPath:e.rawUrl};this.Ua({type:"asset",asset:i})})}Xb(t){return/^https:\/\/\w+:\w+@/.test(t)}}return s})(),hy=30,uy=0,Vc=(()=>{class s{constructor(t,e=hy,i=uy){this.Jb=t,this.Qb=e,this.Zb=i,this.qe=new hi,this.Be=!1,this.Lh=0,this.Ig=()=>{for(this.Lh=0;this.qe.length;){if(this.Lh>=this.Qb){csSetTimeout(this.Ig,this.Zb);return}let r=P.elapsed(),a=this.qe.pop();if(!a)break;this.runTask(a);let c=P.elapsed()-r;this.Lh+=c}this.Be=!1}}schedule(t,e=!1){if(!this.Jb||e){t();return}Dt.general.pendingTasks.increase(),this.qe.push(t),this.tA()}tA(){this.Be||(this.Be=!0,csSetTimeout(()=>{this.Ig()}))}runTask(t){Dt.general.pendingTasks.decrease(),t()}runPendingTasks(){this.qe.forEach(t=>{this.runTask(t)}),this.qe.clear()}clearQueue(){Dt.general.pendingTasks.clear(),Dt.mutations.pendingMutations.clear(),this.qe.clear()}isEmpty(){return this.qe.length===0}}return B([U("TaskScheduler"),Pt("runTask")],s.prototype,"runTask",null),B([Pt("runPendingTasks")],s.prototype,"runPendingTasks",null),s})(),dy=(()=>{class s{constructor(){this.F=!1,this.Pg=new kr(t=>t.type==="cssRuleInserted"&&this.eA(t)),this.sA=nn(t=>{this.F&&t.length>0&&this.O.schedule(()=>K(t,e=>this.qr.scanElement(e)))}),this.iA=({type:t,asset:e})=>{var i,r,a;t==="stylesheet"&&((i=this.nA)===null||i===void 0||i.call(this,e)),(r=this.rA)===null||r===void 0||r.call(this,e);let c={date:P.now(),type:N.STATIC_RESOURCE_URL,args:[e.assetId]};(a=this.L)===null||a===void 0||a.call(this,c)},this.O=new Vc(!0,30,0),this.kr=new Dc(t=>this.oA(t)),this.D=new We(t=>this.To(t)),this.qr=new ly,this.qr.onScannedAsset(this.iA)}onEvent(t){this.L=t}onAsset(t){this.rA=t}onStyleSheetFound(t){this.nA=t}start(){this.F||(this.F=!0,this.Pg.observe(),this.kr.observe(),this.D.observe())}stop(){this.F&&(this.Pg.disconnect(),this.kr.disconnect(),this.D.disconnect(),this.F=!1)}eA(t){!t.rule||!this.F||this.qr.scanCssString(t.rule)}oA(t){this.F&&k.getMaskedElementDetails(t).state===k.MaskedElementState.NotMasked&&this.sA.push(t)}To(t){csSetTimeout(()=>{for(let e of t)switch(e.type){case"attributes":this.qr.scanElement(e.target,e.attributeName);break;case"characterData":this.aA(e.target);break;case"childList":}})}aA(t){zi(t)&&csNodeparentNode.apply(t)&&Ji(csNodeparentNode.apply(t))&&this.qr.scanCssString(t.data)}}return s})(),py="csPersisted",ua="v2/recording",fy=["isRecording"],gy=["replay:resourceManager:enableForOnlineResource:nextPageviewOnly","cssrm:onlineAssets:activateForNextPageview"],my=["replay:resourceManager:getStatus","cssrm:getStatus"],yy=(()=>{class s{constructor(t,e,i,r,a,c,l,u,m,d,E,y,v,C,I,S,_,D,O,b,x,J){this.Hs=t,this.R=e,this.f=i,this.Le=r,this.E=a,this.N=c,this.G=l,this.he=u,this.pe=m,this.yt=d,this.xe=E,this.vt=y,this.S=v,this.Ks=C,this.Og=I,this.ie=S,this.zt=_,this.tt=D,this.Hr=O,this.it=b,this.JC=x,this.ot=J}init(){var t,e;let i=[],r=[];csArray.prototype.push.call(r,new Yg),this.Wr=new Xg(this.it.shouldUseAnonymization(),this.f.whitelistedAttributes,this.N,this.f.anonymizeDigits),this.Fi();let a=new Im(py);this.cA(a);let c=new Jm;this.B=new iy;let l=new dy;csArray.prototype.push.call(i,l),this.f.useStaticResourceManager&&lr.isSupported()&&(this.Wt=new lr,this.ke=new Om,this.Ng=new ty(this.ke,this.f.getStaticResourceManagerUri(),this.Le),this.Og.addListener(this.Ng),csArray.prototype.push.call(r,this.Wt));let u=new ri(c,this.Le,{getRequestParameters:()=>({let:this.recordingService.getRecordingLastEventTimestamp()})},{getRequestParameters:()=>({rst:this.recordingService.getRecordingStartTimestamp()})},{getRequestParameters:()=>({rt:csArray.prototype.join.call(this.R.getCollectStates(),",")})}),m=new gc(`${this.f.getRecordingUri()}/${ua}`);csArray.prototype.push.call(r,this.Wr),csArray.prototype.push.call(r,new sm(this.tt)),csArray.prototype.push.call(r,new im),this.$i=new cy,this.$i.init(),csArray.prototype.push.call(i,this.$i),this.Dt=new Km(a,m,this.W),csArray.prototype.push.call(i,new ny(window.location,this.N));let d=new Wg,E=new om,y=new cm,v=new um(this.ot),C=new pm,I=[E,this.he,d,new qm(csArray.prototype.filter.call(i,O=>O)),C,new fm,new Sm,v,y];this.f.jsErrorsEnabled&&(this.Na=new vm,this.hA=new _m(O=>this.pe.anonymize(O)),this.cs=new Gm(this.Na),csArray.prototype.push.call(I,this.Na),csArray.prototype.push.call(r,this.hA)),!((e=this.f.customErrors)===null||e===void 0)&&e.enabled&&(this.ls=new zm);let S=new Am(I,r),_=new $m(S,this.S,this.ke,this.cs,this.ls),D=[d,E,y,v,C];this.recordingService=new Xm(this.f,this.B,u,c,this.G,this.R,this.pe,this.yt,this.xe,this.ot,this.W,this.Dt,m,_,i,D,this.Wt,this.Hr,this.cs,this.ls),this.Ks.addListener(this.recordingService),this.Og.addListener(this.recordingService),this.recordingService.init(),this.E.register(fy,()=>this.R.isReplayRecorded()&&!this.ie.isUrlExcludedForSessionReplay()),this.E.register(gy,()=>{this.recordingService.activateOnlineAssetsOnNextPageview(),this.S.emitRecordingContextChange()}),this.E.register(my,()=>this.recordingService.getStaticResourceManagerStatus()),this.Yr=new Pm(this.S,this.R),this.Ks.addListener(this.Yr),this.Hs.enableRecordingContext(this.recordingService,this.R,this.Yr),this.Vh()}onAfterNaturalPageView(){var t;this.ie.isUrlExcludedForSessionReplay()?this.recordingService.resetOnlineAssetsOnPageview():this.recordingService.updateOnlineAssetsOnPageview(),(t=this.Ng)===null||t===void 0||t.initState()}onStartTracking(){this.Dt.recover(),this.Fi(),this.R.isReplayRecorded()&&!this.ie.isUrlExcludedForSessionReplay()&&(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Uh())}onArtificialPageViewEnd(){this.R.isReplayRecorded()&&!this.ie.isUrlExcludedForSessionReplay()&&!this.R.isTemporarilyRecorded()&&this.Dt.sendLastMessageBeacon(),this.recordingService.clearStates()}onAfterArtificialPageView(){this.Fi(),this.R.isReplayRecorded()&&!this.ie.isUrlExcludedForSessionReplay()?(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.recordingService.updateOnlineAssetsOnPageview(),this.uA()):(this.recordingService.resetOnlineAssetsOnPageview(),this.In())}onBeforeSessionRenewal(){this.recordingService.clearStates(),this.In()}onOptout(){this.In(),this.recordingService.onOptOut()}onReplayUnanonymizationConsentGranted(){this.Fi(),this.recordingService.triggerUnanonymizationConsentGranted(),this.S.emitRecordingContextChange()}onReplayUnanonymizationConsentWithdrawn(){this.Fi(),this.recordingService.triggerUnanonymizationConsentWithdrawn(),this.S.emitRecordingContextChange()}onCollectStateChange(t,e){t===L.QUOTA_REACHED||t===L.ANALYTICS_ONLY&&e===jt.ETR_OFF?(this.recordingService.clearEvents(),this.In()):(this.W.setQueryParams({rt:csArray.prototype.join.call(this.R.getCollectStates(),",")}),this.recordingService.allowSendingEventsFromQuotaService(),this.recordingService.pushEvents(),this.Yr.onCollectStateChange(t,e))}onInitialDomStart(){this.recordingService.blockSendingEventsFromSerialization(),this.Dt.blockSendingLastMessage()}onInitialDomDone(t){this.recordingService.allowSendingEventsFromSerialization(),this.recordingService.addInitialDom(t),this.Dt.allowSendingLastMessage(),this.$i.start(),this.recordingService.pushEvents(),G.counters.longTasks.count>0&&G.counters.longTasks.flush(),G.counters.tasks.count>0&&G.counters.tasks.flush()}onAfterReplayRecordingConsentGranted(){this.R.isReplayRecorded()&&!this.ie.isUrlExcludedForSessionReplay()&&(this.R.isTemporarilyRecorded()&&this.recordingService.blockSendingEventsFromQuotaService(),this.Uh(),this.recordingService.triggerRecordingForSessionGranted())}onAfterReplayRecordingConsentWithdrawn(){this.recordingService.isRecording()&&(this.recordingService.triggerRecordingForSessionWithdrawn(),this.recordingService.clearStates(),this.In())}Vh(){var t,e,i,r;if(!((e=(t=this.f.experimental.sessionReplay)===null||t===void 0?void 0:t.shadowRoot)===null||e===void 0)&&e.filterByHostSelector){let a=(r=(i=this.f.experimental.sessionReplay)===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.filterByHostSelector;K(a,c=>{qs(c)&&We.setShadowRootFilter(l=>{try{return Qt.call(l.host,c)}catch{return!1}})})}}Uh(){this.recordingService.start(),this.Dt.start(),this.S.emitRecordingContextChange()}In(){Jd(),this.recordingService.stop(),this.Dt.stop(),this.S.emitRecordingContextChange()}uA(){this.In(),this.Uh()}cA(t){let e="byteArray";this.W=this.zt.create(`${this.f.getRecordingUri()}/${ua}`,!0,e,t,["rt","v","pid","pn","sn","uu"])}Fi(){var t;let e=this.it.shouldUseAnonymization();this.Wr.setAnonymization(e),(t=this.lA)===null||t===void 0||t.setAnonymization(e)}}return B([Pt("Recording.onStartTracking")],s.prototype,"onStartTracking",null),B([Pt("onInitialDomDone")],s.prototype,"onInitialDomDone",null),s})(),Ey=(()=>{class s{constructor(t,e){this.le=t,this.f=e,this.Mg=!1}enableRecordingContext(t,e,i){this.Mg=!0,this._n=t,this.R=e,this.Yr=i}getRecordingContext(){var t,e,i;if(!this.Mg)return{isRecording:!1,recordingStartTimestamp:0,etrState:jt.ETR_OFF,etrStatus:Gt.ETR_DISABLED,collectState:L.ANALYTICS_ONLY};let r=this.R.getSession();return{isRecording:this._n.isRecording(),useAnonymization:this.le.getSensitiveStatus().useAnonymization,enableOnlineResources:(t=this._n.getStaticResourceManagerStatus())===null||t===void 0?void 0:t.onlineAssets.activated,enableOnlineResourcesOnNextPageview:(e=this._n.getStaticResourceManagerStatus())===null||e===void 0?void 0:e.onlineAssets.enabledOnNextPageview,recordingStartTimestamp:parseInt(this._n.getRecordingStartTimestamp(),10),etrState:this.f.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF,etrStatus:this.Yr.getEtrStatus(r),collectState:(i=r==null?void 0:r.collectState)!==null&&i!==void 0?i:L.ANALYTICS_ONLY}}}return s})(),oi=(()=>{class s{static isRecordingSupported(){return"MutationObserver"in window&&"visibilityState"in document}static isAsyncSerializationSupported(){return"Promise"in window&&"findIndex"in csArray.prototype}}return s})(),Sy=(()=>{let s;return function(n){n.COMPRESSION_DISABLED="compressionDisabled"}(s||(s={})),s})(),vy=(()=>{class s{constructor(){}static init(t){(!this.jh||t!==void 0)&&this.initFlags(t)}static initFlags(t=document.cookie){var e;let i=(e=/_cs_debug=((\w|\.|\:|=)+)/g.exec(t))===null||e===void 0?void 0:e[1];if(this.jh=new Map,i){let r=csString.prototype.split.call(i,".");for(let a=0;a<r.length;a++){let[c,l]=csString.prototype.split.call(r[a],"=");this.jh.set(c,l||"true")}}}static getBoolean(t){let e=this.getString(t);return e!=null&&e!=="false"&&parseInt(e)!==0}static getString(t){var e;return this.init(),(e=this.jh)===null||e===void 0?void 0:e.get(t)}static isCompressionEnabled(){return!this.getBoolean(Sy.COMPRESSION_DISABLED)}static Log(t){return(e,i,r)=>{var a;let c=i.toString(),l=`${(a=e.constructor)===null||a===void 0?void 0:a.name}.${c}`,u=r.value;_y(s.getString("debugLog"),t)&&(r.value=function(...m){return console.log(l,...m),u.bind(this)(...m)})}}}return s})();function _y(s,n){var t;return s==null?!1:s===n||!!(!((t=csString.prototype.match.call(s,new csRegExp("(^|,)("+n+")(,|$)")))===null||t===void 0)&&t.length)}function da(){function i(o){let p=o.length;for(;--p>=0;)o[p]=0}let r=0,a=1,c=2,l=3,u=258,m=29,d=256,E=d+1+m,y=30,v=19,C=2*E+1,I=15,S=16,_=7,D=256,O=16,b=17,x=18,J=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),at=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Nt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),bt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=512,M=new Array((E+2)*2);i(M);let V=new Array(y*2);i(V);let j=new Array(T);i(j);let it=new Array(u-l+1);i(it);let At=new Array(m);i(At);let Lt=new Array(y);i(Lt);function Ee(o,p,f,g,h){this.static_tree=o,this.extra_bits=p,this.extra_base=f,this.elems=g,this.max_length=h,this.has_stree=o&&o.length}let ps,Vt,Bt;function ce(o,p){this.dyn_tree=o,this.max_code=0,this.stat_desc=p}let Ei=o=>o<256?j[o]:j[256+(o>>>7)],Ye=(o,p)=>{o.pending_buf[o.pending++]=p&255,o.pending_buf[o.pending++]=p>>>8&255},_t=(o,p,f)=>{o.bi_valid>S-f?(o.bi_buf|=p<<o.bi_valid&65535,Ye(o,o.bi_buf),o.bi_buf=p>>S-o.bi_valid,o.bi_valid+=f-S):(o.bi_buf|=p<<o.bi_valid&65535,o.bi_valid+=f)},Ft=(o,p,f)=>{_t(o,f[p*2],f[p*2+1])},Ls=(o,p)=>{let f=0;do f|=o&1,o>>>=1,f<<=1;while(--p>0);return f>>>1},jr=o=>{o.bi_valid===16?(Ye(o,o.bi_buf),o.bi_buf=0,o.bi_valid=0):o.bi_valid>=8&&(o.pending_buf[o.pending++]=o.bi_buf&255,o.bi_buf>>=8,o.bi_valid-=8)},Hr=(o,p)=>{let f=p.dyn_tree,g=p.max_code,h=p.stat_desc.static_tree,A=p.stat_desc.has_stree,w=p.stat_desc.extra_bits,R=p.stat_desc.extra_base,X=p.stat_desc.max_length,H,Ut,Ce,st,Ze,ms,Ii=0;for(st=0;st<=I;st++)o.bl_count[st]=0;for(f[o.heap[o.heap_max]*2+1]=0,H=o.heap_max+1;H<C;H++)Ut=o.heap[H],st=f[f[Ut*2+1]*2+1]+1,st>X&&(st=X,Ii++),f[Ut*2+1]=st,!(Ut>g)&&(o.bl_count[st]++,Ze=0,Ut>=R&&(Ze=w[Ut-R]),ms=f[Ut*2],o.opt_len+=ms*(st+Ze),A&&(o.static_len+=ms*(h[Ut*2+1]+Ze)));if(Ii!==0){do{for(st=X-1;o.bl_count[st]===0;)st--;o.bl_count[st]--,o.bl_count[st+1]+=2,o.bl_count[X]--,Ii-=2}while(Ii>0);for(st=X;st!==0;st--)for(Ut=o.bl_count[st];Ut!==0;)Ce=o.heap[--H],!(Ce>g)&&(f[Ce*2+1]!==st&&(o.opt_len+=(st-f[Ce*2+1])*f[Ce*2],f[Ce*2+1]=st),Ut--)}},an=(o,p,f)=>{let g=new Array(I+1),h=0,A,w;for(A=1;A<=I;A++)g[A]=h=h+f[A-1]<<1;for(w=0;w<=p;w++){let R=o[w*2+1];R!==0&&(o[w*2]=Ls(g[R]++,R))}},Br=()=>{let o,p,f,g,h,A=new Array(I+1);for(f=0,g=0;g<m-1;g++)for(At[g]=f,o=0;o<1<<J[g];o++)it[f++]=g;for(it[f-1]=g,h=0,g=0;g<16;g++)for(Lt[g]=h,o=0;o<1<<at[g];o++)j[h++]=g;for(h>>=7;g<y;g++)for(Lt[g]=h<<7,o=0;o<1<<at[g]-7;o++)j[256+h++]=g;for(p=0;p<=I;p++)A[p]=0;for(o=0;o<=143;)M[o*2+1]=8,o++,A[8]++;for(;o<=255;)M[o*2+1]=9,o++,A[9]++;for(;o<=279;)M[o*2+1]=7,o++,A[7]++;for(;o<=287;)M[o*2+1]=8,o++,A[8]++;for(an(M,E+1,A),o=0;o<y;o++)V[o*2+1]=5,V[o*2]=Ls(o,5);ps=new Ee(M,J,d+1,E,I),Vt=new Ee(V,at,0,y,I),Bt=new Ee(new Array(0),Nt,0,v,_)},Fr=o=>{let p;for(p=0;p<E;p++)o.dyn_ltree[p*2]=0;for(p=0;p<y;p++)o.dyn_dtree[p*2]=0;for(p=0;p<v;p++)o.bl_tree[p*2]=0;o.dyn_ltree[D*2]=1,o.opt_len=o.static_len=0,o.last_lit=o.matches=0},$r=o=>{o.bi_valid>8?Ye(o,o.bi_buf):o.bi_valid>0&&(o.pending_buf[o.pending++]=o.bi_buf),o.bi_buf=0,o.bi_valid=0},qc=(o,p,f,g)=>{$r(o),g&&(Ye(o,f),Ye(o,~f)),o.pending_buf.set(o.window.subarray(p,p+f),o.pending),o.pending+=f},zr=(o,p,f,g)=>{let h=p*2,A=f*2;return o[h]<o[A]||o[h]===o[A]&&g[p]<=g[f]},cn=(o,p,f)=>{let g=o.heap[f],h=f<<1;for(;h<=o.heap_len&&(h<o.heap_len&&zr(p,o.heap[h+1],o.heap[h],o.depth)&&h++,!zr(p,g,o.heap[h],o.depth));)o.heap[f]=o.heap[h],f=h,h<<=1;o.heap[f]=g},Gr=(o,p,f)=>{let g,h,A=0,w,R;if(o.last_lit!==0)do g=o.pending_buf[o.d_buf+A*2]<<8|o.pending_buf[o.d_buf+A*2+1],h=o.pending_buf[o.l_buf+A],A++,g===0?Ft(o,h,p):(w=it[h],Ft(o,w+d+1,p),R=J[w],R!==0&&(h-=At[w],_t(o,h,R)),g--,w=Ei(g),Ft(o,w,f),R=at[w],R!==0&&(g-=Lt[w],_t(o,g,R)));while(A<o.last_lit);Ft(o,D,p)},ln=(o,p)=>{let f=p.dyn_tree,g=p.stat_desc.static_tree,h=p.stat_desc.has_stree,A=p.stat_desc.elems,w,R,X=-1,H;for(o.heap_len=0,o.heap_max=C,w=0;w<A;w++)f[w*2]!==0?(o.heap[++o.heap_len]=X=w,o.depth[w]=0):f[w*2+1]=0;for(;o.heap_len<2;)H=o.heap[++o.heap_len]=X<2?++X:0,f[H*2]=1,o.depth[H]=0,o.opt_len--,h&&(o.static_len-=g[H*2+1]);for(p.max_code=X,w=o.heap_len>>1;w>=1;w--)cn(o,f,w);H=A;do w=o.heap[1],o.heap[1]=o.heap[o.heap_len--],cn(o,f,1),R=o.heap[1],o.heap[--o.heap_max]=w,o.heap[--o.heap_max]=R,f[H*2]=f[w*2]+f[R*2],o.depth[H]=(o.depth[w]>=o.depth[R]?o.depth[w]:o.depth[R])+1,f[w*2+1]=f[R*2+1]=H,o.heap[1]=H++,cn(o,f,1);while(o.heap_len>=2);o.heap[--o.heap_max]=o.heap[1],Hr(o,p),an(f,X,o.bl_count)},qr=(o,p,f)=>{let g,h=-1,A,w=p[0*2+1],R=0,X=7,H=4;for(w===0&&(X=138,H=3),p[(f+1)*2+1]=65535,g=0;g<=f;g++)A=w,w=p[(g+1)*2+1],!(++R<X&&A===w)&&(R<H?o.bl_tree[A*2]+=R:A!==0?(A!==h&&o.bl_tree[A*2]++,o.bl_tree[O*2]++):R<=10?o.bl_tree[b*2]++:o.bl_tree[x*2]++,R=0,h=A,w===0?(X=138,H=3):A===w?(X=6,H=3):(X=7,H=4))},Wr=(o,p,f)=>{let g,h=-1,A,w=p[0*2+1],R=0,X=7,H=4;for(w===0&&(X=138,H=3),g=0;g<=f;g++)if(A=w,w=p[(g+1)*2+1],!(++R<X&&A===w)){if(R<H)do Ft(o,A,o.bl_tree);while(--R!==0);else A!==0?(A!==h&&(Ft(o,A,o.bl_tree),R--),Ft(o,O,o.bl_tree),_t(o,R-3,2)):R<=10?(Ft(o,b,o.bl_tree),_t(o,R-3,3)):(Ft(o,x,o.bl_tree),_t(o,R-11,7));R=0,h=A,w===0?(X=138,H=3):A===w?(X=6,H=3):(X=7,H=4)}},Wc=o=>{let p;for(qr(o,o.dyn_ltree,o.l_desc.max_code),qr(o,o.dyn_dtree,o.d_desc.max_code),ln(o,o.bl_desc),p=v-1;p>=3&&o.bl_tree[bt[p]*2+1]===0;p--);return o.opt_len+=3*(p+1)+5+5+4,p},Yc=(o,p,f,g)=>{let h;for(_t(o,p-257,5),_t(o,f-1,5),_t(o,g-4,4),h=0;h<g;h++)_t(o,o.bl_tree[bt[h]*2+1],3);Wr(o,o.dyn_ltree,p-1),Wr(o,o.dyn_dtree,f-1)},Xc=o=>{let p=4093624447,f;for(f=0;f<=31;f++,p>>>=1)if(p&1&&o.dyn_ltree[f*2]!==0)return 0;if(o.dyn_ltree[9*2]!==0||o.dyn_ltree[10*2]!==0||o.dyn_ltree[13*2]!==0)return 1;for(f=32;f<d;f++)if(o.dyn_ltree[f*2]!==0)return 1;return 0},Yr=!1,Kc=o=>{Yr||(Br(),Yr=!0),o.l_desc=new ce(o.dyn_ltree,ps),o.d_desc=new ce(o.dyn_dtree,Vt),o.bl_desc=new ce(o.bl_tree,Bt),o.bi_buf=0,o.bi_valid=0,Fr(o)},Xr=(o,p,f,g)=>{_t(o,(r<<1)+(g?1:0),3),qc(o,p,f,!0)},Jc=o=>{_t(o,a<<1,3),Ft(o,D,M),jr(o)},Qc=(o,p,f,g)=>{let h,A,w=0;o.level>0?(o.strm.data_type===2&&(o.strm.data_type=Xc(o)),ln(o,o.l_desc),ln(o,o.d_desc),w=Wc(o),h=o.opt_len+3+7>>>3,A=o.static_len+3+7>>>3,A<=h&&(h=A)):h=A=f+5,f+4<=h&&p!==-1?Xr(o,p,f,g):o.strategy===4||A===h?(_t(o,(a<<1)+(g?1:0),3),Gr(o,M,V)):(_t(o,(c<<1)+(g?1:0),3),Yc(o,o.l_desc.max_code+1,o.d_desc.max_code+1,w+1),Gr(o,o.dyn_ltree,o.dyn_dtree)),Fr(o),g&&$r(o)},Zc=(o,p,f)=>(o.pending_buf[o.d_buf+o.last_lit*2]=p>>>8&255,o.pending_buf[o.d_buf+o.last_lit*2+1]=p&255,o.pending_buf[o.l_buf+o.last_lit]=f&255,o.last_lit++,p===0?o.dyn_ltree[f*2]++:(o.matches++,p--,o.dyn_ltree[(it[f]+d+1)*2]++,o.dyn_dtree[Ei(p)*2]++),o.last_lit===o.lit_bufsize-1);var tl=Kc,el=Xr,sl=Qc,il=Zc,nl=Jc,rl={_tr_init:tl,_tr_stored_block:el,_tr_flush_block:sl,_tr_tally:il,_tr_align:nl},Kr=(o,p,f,g)=>{let h=o&65535|0,A=o>>>16&65535|0,w=0;for(;f!==0;){w=f>2e3?2e3:f,f-=w;do h=h+p[g++]|0,A=A+h|0;while(--w);h%=65521,A%=65521}return h|A<<16|0};let ol=()=>{let o,p=[];for(var f=0;f<256;f++){o=f;for(var g=0;g<8;g++)o=o&1?3988292384^o>>>1:o>>>1;p[f]=o}return p},al=new Uint32Array(ol());var Se=(o,p,f,g)=>{let h=al,A=g+f;o^=-1;for(let w=g;w<A;w++)o=o>>>8^h[(o^p[w])&255];return o^-1},Si={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Jr={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:cl,_tr_stored_block:ll,_tr_flush_block:hl,_tr_tally:ve,_tr_align:ul}=rl,{Z_NO_FLUSH:Xe,Z_PARTIAL_FLUSH:dl,Z_FULL_FLUSH:pl,Z_FINISH:_e,Z_BLOCK:Qr,Z_OK:Zt,Z_STREAM_END:Zr,Z_STREAM_ERROR:$t,Z_DATA_ERROR:fl,Z_BUF_ERROR:hn,Z_DEFAULT_COMPRESSION:gl,Z_FILTERED:ml,Z_HUFFMAN_ONLY:vi,Z_RLE:yl,Z_FIXED:El,Z_DEFAULT_STRATEGY:Sl,Z_UNKNOWN:vl,Z_DEFLATED:_i}=Jr,_l=9,wl=15,Tl=8,un=256+1+29,bl=30,Al=19,Rl=2*un+1,Cl=15,Y=3,we=258,Xt=we+Y+1,Il=32,wi=42,dn=69,Ti=73,bi=91,Ai=103,Ke=113,Vs=666,ut=1,Us=2,Je=3,fs=4,Pl=3,Te=(o,p)=>(o.msg=Si[p],p),to=o=>(o<<1)-(o>4?9:0),be=o=>{let p=o.length;for(;--p>=0;)o[p]=0},Ae=(o,p,f)=>(p<<o.hash_shift^f)&o.hash_mask,Re=o=>{let p=o.state,f=p.pending;f>o.avail_out&&(f=o.avail_out),f!==0&&(o.output.set(p.pending_buf.subarray(p.pending_out,p.pending_out+f),o.next_out),o.next_out+=f,p.pending_out+=f,o.total_out+=f,o.avail_out-=f,p.pending-=f,p.pending===0&&(p.pending_out=0))},mt=(o,p)=>{hl(o,o.block_start>=0?o.block_start:-1,o.strstart-o.block_start,p),o.block_start=o.strstart,Re(o.strm)},Q=(o,p)=>{o.pending_buf[o.pending++]=p},js=(o,p)=>{o.pending_buf[o.pending++]=p>>>8&255,o.pending_buf[o.pending++]=p&255},Ol=(o,p,f,g)=>{let h=o.avail_in;return h>g&&(h=g),h===0?0:(o.avail_in-=h,p.set(o.input.subarray(o.next_in,o.next_in+h),f),o.state.wrap===1?o.adler=Kr(o.adler,p,h,f):o.state.wrap===2&&(o.adler=Se(o.adler,p,h,f)),o.next_in+=h,o.total_in+=h,h)},eo=(o,p)=>{let f=o.max_chain_length,g=o.strstart,h,A,w=o.prev_length,R=o.nice_match,X=o.strstart>o.w_size-Xt?o.strstart-(o.w_size-Xt):0,H=o.window,Ut=o.w_mask,Ce=o.prev,st=o.strstart+we,Ze=H[g+w-1],ms=H[g+w];o.prev_length>=o.good_match&&(f>>=2),R>o.lookahead&&(R=o.lookahead);do if(h=p,!(H[h+w]!==ms||H[h+w-1]!==Ze||H[h]!==H[g]||H[++h]!==H[g+1])){g+=2,h++;do;while(H[++g]===H[++h]&&H[++g]===H[++h]&&H[++g]===H[++h]&&H[++g]===H[++h]&&H[++g]===H[++h]&&H[++g]===H[++h]&&H[++g]===H[++h]&&H[++g]===H[++h]&&g<st);if(A=we-(st-g),g=st-we,A>w){if(o.match_start=p,w=A,A>=R)break;Ze=H[g+w-1],ms=H[g+w]}}while((p=Ce[p&Ut])>X&&--f!==0);return w<=o.lookahead?w:o.lookahead},Qe=o=>{let p=o.w_size,f,g,h,A,w;do{if(A=o.window_size-o.lookahead-o.strstart,o.strstart>=p+(p-Xt)){o.window.set(o.window.subarray(p,p+p),0),o.match_start-=p,o.strstart-=p,o.block_start-=p,g=o.hash_size,f=g;do h=o.head[--f],o.head[f]=h>=p?h-p:0;while(--g);g=p,f=g;do h=o.prev[--f],o.prev[f]=h>=p?h-p:0;while(--g);A+=p}if(o.strm.avail_in===0)break;if(g=Ol(o.strm,o.window,o.strstart+o.lookahead,A),o.lookahead+=g,o.lookahead+o.insert>=Y)for(w=o.strstart-o.insert,o.ins_h=o.window[w],o.ins_h=Ae(o,o.ins_h,o.window[w+1]);o.insert&&(o.ins_h=Ae(o,o.ins_h,o.window[w+Y-1]),o.prev[w&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=w,w++,o.insert--,!(o.lookahead+o.insert<Y)););}while(o.lookahead<Xt&&o.strm.avail_in!==0)},Nl=(o,p)=>{let f=65535;for(f>o.pending_buf_size-5&&(f=o.pending_buf_size-5);;){if(o.lookahead<=1){if(Qe(o),o.lookahead===0&&p===Xe)return ut;if(o.lookahead===0)break}o.strstart+=o.lookahead,o.lookahead=0;let g=o.block_start+f;if((o.strstart===0||o.strstart>=g)&&(o.lookahead=o.strstart-g,o.strstart=g,mt(o,!1),o.strm.avail_out===0)||o.strstart-o.block_start>=o.w_size-Xt&&(mt(o,!1),o.strm.avail_out===0))return ut}return o.insert=0,p===_e?(mt(o,!0),o.strm.avail_out===0?Je:fs):(o.strstart>o.block_start&&(mt(o,!1),o.strm.avail_out===0),ut)},pn=(o,p)=>{let f,g;for(;;){if(o.lookahead<Xt){if(Qe(o),o.lookahead<Xt&&p===Xe)return ut;if(o.lookahead===0)break}if(f=0,o.lookahead>=Y&&(o.ins_h=Ae(o,o.ins_h,o.window[o.strstart+Y-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),f!==0&&o.strstart-f<=o.w_size-Xt&&(o.match_length=eo(o,f)),o.match_length>=Y)if(g=ve(o,o.strstart-o.match_start,o.match_length-Y),o.lookahead-=o.match_length,o.match_length<=o.max_lazy_match&&o.lookahead>=Y){o.match_length--;do o.strstart++,o.ins_h=Ae(o,o.ins_h,o.window[o.strstart+Y-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart;while(--o.match_length!==0);o.strstart++}else o.strstart+=o.match_length,o.match_length=0,o.ins_h=o.window[o.strstart],o.ins_h=Ae(o,o.ins_h,o.window[o.strstart+1]);else g=ve(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++;if(g&&(mt(o,!1),o.strm.avail_out===0))return ut}return o.insert=o.strstart<Y-1?o.strstart:Y-1,p===_e?(mt(o,!0),o.strm.avail_out===0?Je:fs):o.last_lit&&(mt(o,!1),o.strm.avail_out===0)?ut:Us},gs=(o,p)=>{let f,g,h;for(;;){if(o.lookahead<Xt){if(Qe(o),o.lookahead<Xt&&p===Xe)return ut;if(o.lookahead===0)break}if(f=0,o.lookahead>=Y&&(o.ins_h=Ae(o,o.ins_h,o.window[o.strstart+Y-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart),o.prev_length=o.match_length,o.prev_match=o.match_start,o.match_length=Y-1,f!==0&&o.prev_length<o.max_lazy_match&&o.strstart-f<=o.w_size-Xt&&(o.match_length=eo(o,f),o.match_length<=5&&(o.strategy===ml||o.match_length===Y&&o.strstart-o.match_start>4096)&&(o.match_length=Y-1)),o.prev_length>=Y&&o.match_length<=o.prev_length){h=o.strstart+o.lookahead-Y,g=ve(o,o.strstart-1-o.prev_match,o.prev_length-Y),o.lookahead-=o.prev_length-1,o.prev_length-=2;do++o.strstart<=h&&(o.ins_h=Ae(o,o.ins_h,o.window[o.strstart+Y-1]),f=o.prev[o.strstart&o.w_mask]=o.head[o.ins_h],o.head[o.ins_h]=o.strstart);while(--o.prev_length!==0);if(o.match_available=0,o.match_length=Y-1,o.strstart++,g&&(mt(o,!1),o.strm.avail_out===0))return ut}else if(o.match_available){if(g=ve(o,0,o.window[o.strstart-1]),g&&mt(o,!1),o.strstart++,o.lookahead--,o.strm.avail_out===0)return ut}else o.match_available=1,o.strstart++,o.lookahead--}return o.match_available&&(g=ve(o,0,o.window[o.strstart-1]),o.match_available=0),o.insert=o.strstart<Y-1?o.strstart:Y-1,p===_e?(mt(o,!0),o.strm.avail_out===0?Je:fs):o.last_lit&&(mt(o,!1),o.strm.avail_out===0)?ut:Us},Ml=(o,p)=>{let f,g,h,A,w=o.window;for(;;){if(o.lookahead<=we){if(Qe(o),o.lookahead<=we&&p===Xe)return ut;if(o.lookahead===0)break}if(o.match_length=0,o.lookahead>=Y&&o.strstart>0&&(h=o.strstart-1,g=w[h],g===w[++h]&&g===w[++h]&&g===w[++h])){A=o.strstart+we;do;while(g===w[++h]&&g===w[++h]&&g===w[++h]&&g===w[++h]&&g===w[++h]&&g===w[++h]&&g===w[++h]&&g===w[++h]&&h<A);o.match_length=we-(A-h),o.match_length>o.lookahead&&(o.match_length=o.lookahead)}if(o.match_length>=Y?(f=ve(o,1,o.match_length-Y),o.lookahead-=o.match_length,o.strstart+=o.match_length,o.match_length=0):(f=ve(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++),f&&(mt(o,!1),o.strm.avail_out===0))return ut}return o.insert=0,p===_e?(mt(o,!0),o.strm.avail_out===0?Je:fs):o.last_lit&&(mt(o,!1),o.strm.avail_out===0)?ut:Us},kl=(o,p)=>{let f;for(;;){if(o.lookahead===0&&(Qe(o),o.lookahead===0)){if(p===Xe)return ut;break}if(o.match_length=0,f=ve(o,0,o.window[o.strstart]),o.lookahead--,o.strstart++,f&&(mt(o,!1),o.strm.avail_out===0))return ut}return o.insert=0,p===_e?(mt(o,!0),o.strm.avail_out===0?Je:fs):o.last_lit&&(mt(o,!1),o.strm.avail_out===0)?ut:Us};function te(o,p,f,g,h){this.good_length=o,this.max_lazy=p,this.nice_length=f,this.max_chain=g,this.func=h}let Hs=[new te(0,0,0,0,Nl),new te(4,4,8,4,pn),new te(4,5,16,8,pn),new te(4,6,32,32,pn),new te(4,4,16,16,gs),new te(8,16,32,32,gs),new te(8,16,128,128,gs),new te(8,32,128,256,gs),new te(32,128,258,1024,gs),new te(32,258,258,4096,gs)],Dl=o=>{o.window_size=2*o.w_size,be(o.head),o.max_lazy_match=Hs[o.level].max_lazy,o.good_match=Hs[o.level].good_length,o.nice_match=Hs[o.level].nice_length,o.max_chain_length=Hs[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=Y-1,o.match_available=0,o.ins_h=0};function xl(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_i,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Rl*2),this.dyn_dtree=new Uint16Array((2*bl+1)*2),this.bl_tree=new Uint16Array((2*Al+1)*2),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Cl+1),this.heap=new Uint16Array(2*un+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*un+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let so=o=>{if(!o||!o.state)return Te(o,$t);o.total_in=o.total_out=0,o.data_type=vl;let p=o.state;return p.pending=0,p.pending_out=0,p.wrap<0&&(p.wrap=-p.wrap),p.status=p.wrap?wi:Ke,o.adler=p.wrap===2?0:1,p.last_flush=Xe,cl(p),Zt},io=o=>{let p=so(o);return p===Zt&&Dl(o.state),p},Ll=(o,p)=>!o||!o.state||o.state.wrap!==2?$t:(o.state.gzhead=p,Zt),no=(o,p,f,g,h,A)=>{if(!o)return $t;let w=1;if(p===gl&&(p=6),g<0?(w=0,g=-g):g>15&&(w=2,g-=16),h<1||h>_l||f!==_i||g<8||g>15||p<0||p>9||A<0||A>El)return Te(o,$t);g===8&&(g=9);let R=new xl;return o.state=R,R.strm=o,R.wrap=w,R.gzhead=null,R.w_bits=g,R.w_size=1<<R.w_bits,R.w_mask=R.w_size-1,R.hash_bits=h+7,R.hash_size=1<<R.hash_bits,R.hash_mask=R.hash_size-1,R.hash_shift=~~((R.hash_bits+Y-1)/Y),R.window=new Uint8Array(R.w_size*2),R.head=new Uint16Array(R.hash_size),R.prev=new Uint16Array(R.w_size),R.lit_bufsize=1<<h+6,R.pending_buf_size=R.lit_bufsize*4,R.pending_buf=new Uint8Array(R.pending_buf_size),R.d_buf=1*R.lit_bufsize,R.l_buf=3*R.lit_bufsize,R.level=p,R.strategy=A,R.method=f,io(o)},Vl=(o,p)=>no(o,p,_i,wl,Tl,Sl),Ul=(o,p)=>{let f,g;if(!o||!o.state||p>Qr||p<0)return o?Te(o,$t):$t;let h=o.state;if(!o.output||!o.input&&o.avail_in!==0||h.status===Vs&&p!==_e)return Te(o,o.avail_out===0?hn:$t);h.strm=o;let A=h.last_flush;if(h.last_flush=p,h.status===wi)if(h.wrap===2)o.adler=0,Q(h,31),Q(h,139),Q(h,8),h.gzhead?(Q(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),Q(h,h.gzhead.time&255),Q(h,h.gzhead.time>>8&255),Q(h,h.gzhead.time>>16&255),Q(h,h.gzhead.time>>24&255),Q(h,h.level===9?2:h.strategy>=vi||h.level<2?4:0),Q(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(Q(h,h.gzhead.extra.length&255),Q(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(o.adler=Se(o.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=dn):(Q(h,0),Q(h,0),Q(h,0),Q(h,0),Q(h,0),Q(h,h.level===9?2:h.strategy>=vi||h.level<2?4:0),Q(h,Pl),h.status=Ke);else{let w=_i+(h.w_bits-8<<4)<<8,R=-1;h.strategy>=vi||h.level<2?R=0:h.level<6?R=1:h.level===6?R=2:R=3,w|=R<<6,h.strstart!==0&&(w|=Il),w+=31-w%31,h.status=Ke,js(h,w),h.strstart!==0&&(js(h,o.adler>>>16),js(h,o.adler&65535)),o.adler=1}if(h.status===dn)if(h.gzhead.extra){for(f=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&!(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>f&&(o.adler=Se(o.adler,h.pending_buf,h.pending-f,f)),Re(o),f=h.pending,h.pending===h.pending_buf_size));)Q(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>f&&(o.adler=Se(o.adler,h.pending_buf,h.pending-f,f)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=Ti)}else h.status=Ti;if(h.status===Ti)if(h.gzhead.name){f=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>f&&(o.adler=Se(o.adler,h.pending_buf,h.pending-f,f)),Re(o),f=h.pending,h.pending===h.pending_buf_size)){g=1;break}h.gzindex<h.gzhead.name.length?g=h.gzhead.name.charCodeAt(h.gzindex++)&255:g=0,Q(h,g)}while(g!==0);h.gzhead.hcrc&&h.pending>f&&(o.adler=Se(o.adler,h.pending_buf,h.pending-f,f)),g===0&&(h.gzindex=0,h.status=bi)}else h.status=bi;if(h.status===bi)if(h.gzhead.comment){f=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>f&&(o.adler=Se(o.adler,h.pending_buf,h.pending-f,f)),Re(o),f=h.pending,h.pending===h.pending_buf_size)){g=1;break}h.gzindex<h.gzhead.comment.length?g=h.gzhead.comment.charCodeAt(h.gzindex++)&255:g=0,Q(h,g)}while(g!==0);h.gzhead.hcrc&&h.pending>f&&(o.adler=Se(o.adler,h.pending_buf,h.pending-f,f)),g===0&&(h.status=Ai)}else h.status=Ai;if(h.status===Ai&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&Re(o),h.pending+2<=h.pending_buf_size&&(Q(h,o.adler&255),Q(h,o.adler>>8&255),o.adler=0,h.status=Ke)):h.status=Ke),h.pending!==0){if(Re(o),o.avail_out===0)return h.last_flush=-1,Zt}else if(o.avail_in===0&&to(p)<=to(A)&&p!==_e)return Te(o,hn);if(h.status===Vs&&o.avail_in!==0)return Te(o,hn);if(o.avail_in!==0||h.lookahead!==0||p!==Xe&&h.status!==Vs){let w=h.strategy===vi?kl(h,p):h.strategy===yl?Ml(h,p):Hs[h.level].func(h,p);if((w===Je||w===fs)&&(h.status=Vs),w===ut||w===Je)return o.avail_out===0&&(h.last_flush=-1),Zt;if(w===Us&&(p===dl?ul(h):p!==Qr&&(ll(h,0,0,!1),p===pl&&(be(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),Re(o),o.avail_out===0))return h.last_flush=-1,Zt}return p!==_e?Zt:h.wrap<=0?Zr:(h.wrap===2?(Q(h,o.adler&255),Q(h,o.adler>>8&255),Q(h,o.adler>>16&255),Q(h,o.adler>>24&255),Q(h,o.total_in&255),Q(h,o.total_in>>8&255),Q(h,o.total_in>>16&255),Q(h,o.total_in>>24&255)):(js(h,o.adler>>>16),js(h,o.adler&65535)),Re(o),h.wrap>0&&(h.wrap=-h.wrap),h.pending!==0?Zt:Zr)},jl=o=>{if(!o||!o.state)return $t;let p=o.state.status;return p!==wi&&p!==dn&&p!==Ti&&p!==bi&&p!==Ai&&p!==Ke&&p!==Vs?Te(o,$t):(o.state=null,p===Ke?Te(o,fl):Zt)},Hl=(o,p)=>{let f=p.length;if(!o||!o.state)return $t;let g=o.state,h=g.wrap;if(h===2||h===1&&g.status!==wi||g.lookahead)return $t;if(h===1&&(o.adler=Kr(o.adler,p,f,0)),g.wrap=0,f>=g.w_size){h===0&&(be(g.head),g.strstart=0,g.block_start=0,g.insert=0);let X=new Uint8Array(g.w_size);X.set(p.subarray(f-g.w_size,f),0),p=X,f=g.w_size}let A=o.avail_in,w=o.next_in,R=o.input;for(o.avail_in=f,o.next_in=0,o.input=p,Qe(g);g.lookahead>=Y;){let X=g.strstart,H=g.lookahead-(Y-1);do g.ins_h=Ae(g,g.ins_h,g.window[X+Y-1]),g.prev[X&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=X,X++;while(--H);g.strstart=X,g.lookahead=Y-1,Qe(g)}return g.strstart+=g.lookahead,g.block_start=g.strstart,g.insert=g.lookahead,g.lookahead=0,g.match_length=g.prev_length=Y-1,g.match_available=0,o.next_in=w,o.input=R,o.avail_in=A,g.wrap=h,Zt};var Bl=Vl,Fl=no,$l=io,zl=so,Gl=Ll,ql=Ul,Wl=jl,Yl=Hl,Xl="pako deflate (from Nodeca project)",Bs={deflateInit:Bl,deflateInit2:Fl,deflateReset:$l,deflateResetKeep:zl,deflateSetHeader:Gl,deflate:ql,deflateEnd:Wl,deflateSetDictionary:Yl,deflateInfo:Xl};let Kl=(o,p)=>Object.prototype.hasOwnProperty.call(o,p);var Jl=function(o){let p=Array.prototype.slice.call(arguments,1);for(;p.length;){let f=p.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(let g in f)Kl(f,g)&&(o[g]=f[g])}}return o},Ql=o=>{let p=0;for(let g=0,h=o.length;g<h;g++)p+=o[g].length;let f=new Uint8Array(p);for(let g=0,h=0,A=o.length;g<A;g++){let w=o[g];f.set(w,h),h+=w.length}return f},ro={assign:Jl,flattenChunks:Ql};let oo=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{oo=!1}let Fs=new Uint8Array(256);for(let o=0;o<256;o++)Fs[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;Fs[254]=Fs[254]=1;var Zl=o=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(o);let p,f,g,h,A,w=o.length,R=0;for(h=0;h<w;h++)f=o.charCodeAt(h),(f&64512)===55296&&h+1<w&&(g=o.charCodeAt(h+1),(g&64512)===56320&&(f=65536+(f-55296<<10)+(g-56320),h++)),R+=f<128?1:f<2048?2:f<65536?3:4;for(p=new Uint8Array(R),A=0,h=0;A<R;h++)f=o.charCodeAt(h),(f&64512)===55296&&h+1<w&&(g=o.charCodeAt(h+1),(g&64512)===56320&&(f=65536+(f-55296<<10)+(g-56320),h++)),f<128?p[A++]=f:f<2048?(p[A++]=192|f>>>6,p[A++]=128|f&63):f<65536?(p[A++]=224|f>>>12,p[A++]=128|f>>>6&63,p[A++]=128|f&63):(p[A++]=240|f>>>18,p[A++]=128|f>>>12&63,p[A++]=128|f>>>6&63,p[A++]=128|f&63);return p};let ao=(o,p=o.length)=>{if(p<65534&&o.subarray&&oo)return String.fromCharCode.apply(null,o.length===p?o:o.subarray(0,p));let f="";for(let g=0;g<p;g++)f+=String.fromCharCode(o[g]);return f};var th=(o,p)=>{let f=p||o.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(o.subarray(0,p));let g,h,A=new Array(f*2);for(h=0,g=0;g<f;){let w=o[g++];if(w<128){A[h++]=w;continue}let R=Fs[w];if(R>4){A[h++]=65533,g+=R-1;continue}for(w&=R===2?31:R===3?15:7;R>1&&g<f;)w=w<<6|o[g++]&63,R--;if(R>1){A[h++]=65533;continue}w<65536?A[h++]=w:(w-=65536,A[h++]=55296|w>>10&1023,A[h++]=56320|w&1023)}return ao(A,h)},eh=(o,p)=>{p=p||o.length,p>o.length&&(p=o.length);let f=p-1;for(;f>=0&&(o[f]&192)===128;)f--;return f<0||f===0?p:f+Fs[o[f]]>p?f:p},co={string2buf:Zl,buf2string:th,utf8border:eh};function sh(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ih=sh;let lo=Object.prototype.toString,{Z_NO_FLUSH:nh,Z_SYNC_FLUSH:rh,Z_FULL_FLUSH:oh,Z_FINISH:ah,Z_OK:Ri,Z_STREAM_END:ch,Z_DEFAULT_COMPRESSION:lh,Z_DEFAULT_STRATEGY:hh,Z_DEFLATED:uh}=Jr;function Ci(o){this.options=ro.assign({level:lh,method:uh,chunkSize:16384,windowBits:15,memLevel:8,strategy:hh},o||{});let p=this.options;p.raw&&p.windowBits>0?p.windowBits=-p.windowBits:p.gzip&&p.windowBits>0&&p.windowBits<16&&(p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ih,this.strm.avail_out=0;let f=Bs.deflateInit2(this.strm,p.level,p.method,p.windowBits,p.memLevel,p.strategy);if(f!==Ri)throw new Error(Si[f]);if(p.header&&Bs.deflateSetHeader(this.strm,p.header),p.dictionary){let g;if(typeof p.dictionary=="string"?g=co.string2buf(p.dictionary):lo.call(p.dictionary)==="[object ArrayBuffer]"?g=new Uint8Array(p.dictionary):g=p.dictionary,f=Bs.deflateSetDictionary(this.strm,g),f!==Ri)throw new Error(Si[f]);this._dict_set=!0}}Ci.prototype.push=function(o,p){let f=this.strm,g=this.options.chunkSize,h,A;if(this.ended)return!1;for(p===~~p?A=p:A=p===!0?ah:nh,typeof o=="string"?f.input=co.string2buf(o):lo.call(o)==="[object ArrayBuffer]"?f.input=new Uint8Array(o):f.input=o,f.next_in=0,f.avail_in=f.input.length;;){if(f.avail_out===0&&(f.output=new Uint8Array(g),f.next_out=0,f.avail_out=g),(A===rh||A===oh)&&f.avail_out<=6){this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;continue}if(h=Bs.deflate(f,A),h===ch)return f.next_out>0&&this.onData(f.output.subarray(0,f.next_out)),h=Bs.deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===Ri;if(f.avail_out===0){this.onData(f.output);continue}if(A>0&&f.next_out>0){this.onData(f.output.subarray(0,f.next_out)),f.avail_out=0;continue}if(f.avail_in===0)break}return!0},Ci.prototype.onData=function(o){this.chunks.push(o)},Ci.prototype.onEnd=function(o){o===Ri&&(this.result=ro.flattenChunks(this.chunks)),this.chunks=[],this.err=o,this.msg=this.strm.msg};function dh(o,p){p=p||{};let f=new Ci(p);if(f.push(o,!0),f.err)throw f.msg||Si[f.err];return f.result}function ph(o,p){return p=p||{},p.gzip=!0,dh(o,p)}return(o,p,f)=>{let g=ph(o);return p==="base64"?g=btoa(ao(g)):g=g.buffer,f&&f(g),g}}var wy=(()=>{class s extends Xa{constructor(t){super(t),this.algorithm=en.GZIP,this.kg=da(),this.dA=(i,r,a)=>{let c=this.kg(i,r);a(c)},this.compress=pa(),typeof CompressionStream!="undefined"&&oy||(this.compress=this.dA,this.getCompressorSourceCode=()=>da.toString())}compressSync(t,e){return this.kg(t,e)}getCompressorSourceCode(){return pa.toString()}}return s})();function pa(){let s=n=>new Promise(t=>{let e=new FileReader;e.onload=i=>t(i.target.result.split(",")[1]),e.readAsDataURL(new Blob([n]))});return(n,t,e)=>{let i=new Response(n).body.pipeThrough(new CompressionStream("gzip")),r=new Response(i).arrayBuffer();if(t==="base64"){r.then(a=>s(a)).then(a=>e(a));return}r.then(a=>e(a))}}var Ty=(()=>{class s extends Xa{constructor(){super(...arguments),this.algorithm=en.UNCOMPRESSED}compress(t,e,i){i(this.compressSync(t,e))}compressSync(t,e){return t}getCompressorSourceCode(){return function(){return(t,e,i)=>i(t)}.toString()}}return s})(),Uc=(()=>{class s{static create(t,e=!0){return this.instance?this.instance:e&&!vy.isCompressionEnabled()?new Ty(t):this.instance=new wy(t)}}return s})(),by=["setEncryptionSelectors"],jc=["setPIISelectors"],Ay=["setCapturedElementsSelector"],Ry=(()=>{class s{constructor(t,e,i,r,a,c,l){this.S=t,this.E=e,this.lt=i,this.Se=r,this.Bt=a,this.ot=c,this.Pn=l}init(){var t,e;this.Pn&&this.ot&&((t=this.Pn)===null||t===void 0||t.addSelector((e=this.ot)===null||e===void 0?void 0:e.getEncryptionSelectors())),this.ht()}onStartTracking(t){this.Se.start(),this.S.emitSensitiveStatusChange()}onBeforeArtificialPageView(){this.Se.stop(),this.S.emitSensitiveStatusChange()}onAfterArtificialPageView(){this.Se.start(),this.S.emitSensitiveStatusChange()}onBeforeSessionRenewal(){this.Se.stop(),this.S.emitSensitiveStatusChange()}onOptout(){this.Se.stop(),this.S.emitSensitiveStatusChange()}onReplayUnanonymizationConsentGranted(){this.S.emitSensitiveStatusChange()}onReplayUnanonymizationConsentWithdrawn(){this.S.emitSensitiveStatusChange()}ht(){this.E.register(jc,t=>{this.lt.setMaskedElementSettingsFromCommand(t),this.S.emitSensitiveStatusChange()}),this.E.register(Ay,t=>{this.Bt.setWhitelistedElementsSelector(t),this.S.emitSensitiveStatusChange()}),this.E.register(by,t=>{var e,i;(e=this.ot)===null||e===void 0||e.setEncryptionSelectors(t),(i=this.Pn)===null||i===void 0||i.addSelector(t)})}}return s})();var Cy=(()=>{class s extends Ot{constructor(t,e,i,r,a,c){super(),this.he=t,this.lt=e,this.Bt=i,this.Pn=r,this.On=a,this.it=c}onStart(){var t,e,i;this.Bt.start(),this.he.setMaskedElementSettings(this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements())),this.he.startIdentifier(),(e=this.Pn)===null||e===void 0||e.start(),(i=this.On)===null||i===void 0||i.start()}onStop(){var t,e;this.Bt.stop(),this.he.stopIdentifier(),(t=this.Pn)===null||t===void 0||t.stop(),(e=this.On)===null||e===void 0||e.stop()}}return s})(),Iy=(()=>{class s{constructor(t,e,i,r,a){this.it=t,this.lt=e,this.Se=i,this.Bt=r,this.ot=a}getSensitiveStatus(){var t,e;return{started:this.Se.isStarted,useAnonymization:this.it.shouldUseAnonymization(),capturedElementSelector:this.Bt.getWhitelistedElementsSelector(),maskedElementSettings:this.lt.getMaskedElementSettings((t=this.it)===null||t===void 0?void 0:t.shouldMaskNonTextElements()),encryptionSelectors:(e=this.ot)===null||e===void 0?void 0:e.getEncryptionSelectors()}}getElementSensitiveStatus(t){let e=this.Se.isStarted,i=this.it.shouldUseAnonymization();return e?k.isMaskedElement(t)||k.isMaskedElementChild(t)?xe.MASKED:sp.shouldEncrypt(t)?xe.ENCRYPTED:Ve.isEditableNode(t)?xe.ANONYMIZED:i?fe.isWhitelistedElement(t)?xe.CAPTURED:xe.ANONYMIZED:xe.CAPTURED:xe.ANONYMIZED}}return s})(),Py=(()=>{class s{constructor(t){this.G=t}onAfterVisitorRenewal(){this.G.renewSession()}}return s})(),fa=(()=>{let s;return function(n){function t(d,E){for(let y of d)if(i(y,E))return!0;return!1}n.isUrlMatching=t;function e(d,E){if(z(E)){for(let y of d)if(i(y,E))return!0}else if(Bi(E)){for(let y of d)if(i(y,csString(E)))return!0}return!1}n.isMatching=e;function i(d,E){let y=r(d,E);return d.negate?!y:y}function r(d,E){switch(d.rule_type==="date"&&(d.match_operation==="less_than"||d.match_operation==="greater_than")&&(E=(new csDate(E).valueOf()/1e3).toFixed(0)),d.match_operation){case"exact":switch(d.rule_type){case"string":return z(d.pattern)?csString.prototype.toLowerCase.call(E)===csString.prototype.toLowerCase.call(d.pattern):!1;case"boolean":return E===d.pattern||E===csString(d.pattern);case"number":return Tt(E)?Number(E)===Number(d.pattern):!1;default:return E===d.pattern}case"starts_with":return z(d.pattern)?csString.prototype.indexOf.call(E,d.pattern)===0:!1;case"ends_with":return z(d.pattern)?li(E,d.pattern):!1;case"contains":return z(d.pattern)?csString.prototype.indexOf.call(E,d.pattern)!==-1:!1;case"regex":if(!z(d.pattern))return!1;try{return new csRegExp(d.pattern).test(E)}catch(y){return F.warn(`targeting.matchOperation.regex invalid ${y==null?void 0:y.message}`),!1}case"simple":return z(d.pattern)?m(E)===m(d.pattern):!1;case"greater_than":return Number(E)>Number(d.pattern);case"less_than":return Number(E)<Number(d.pattern);case"exact_date":{let y=Number(d.pattern);if(!Yt(y))return!1;let v=new csDate(y*1e3);return new csDate(E).toDateString()===v.toDateString()}case"exact_days_ago":return a(d,E);case"more_than_days_ago":return c(d,E);case"less_than_days_ago":return l(d,E);case"unknown":return u(E);default:return F.warn(`targeting.matchOperation.regex not managed operation ${d.match_operation}`),!1}}function a(d,E){let y=new csDate,v=y.setDate(y.getDate()-Number(d.pattern)),C=new csDate(v);return new csDate(E).toDateString()===C.toDateString()}function c(d,E){let y=Number(d.pattern);if(!Yt(y))return!1;let v=Number(y)+1,C=new csDate,I=new csDate(C);return I.setDate(C.getDate()-v),new csDate(E).getTime()<=I.getTime()}function l(d,E){let y=Number(d.pattern);if(!Yt(y))return!1;if(y===0)return a(d,E);let v=new csDate,C=new csDate(v);return C.setDate(v.getDate()-y),new csDate(E).getTime()>=C.getTime()}function u(d){return Tt(d)?z(d)?csString.prototype.trim.call(d)==="":Bi(d)?d===!0:Yt(d)?d!==0:!1:!0}function m(d){let E=xt(d,"http://")||xt(d,"https://")?d:`https://${d}`,y=Ya(E);return y!==null?csString.prototype.replace.call(y.host,/^www./,""):d}}(s||(s={})),s})(),Oy=(()=>{class s{constructor(){this.xg=[],this.Lg=[]}setTargetingRules(t){for(let e of t)e.component==="url"?csArray.prototype.push.call(this.xg,e):e.component==="trigger"&&csArray.prototype.push.call(this.Lg,e)}matchUrl(t){return fa.isUrlMatching(this.xg,t)}matchTrigger(t){return fa.isMatching(this.Lg,t)}}return s})(),Ny=(()=>{class s extends Ot{constructor(t,e,i){super(),this.ja=t,this.Bh=e,this.w=i}init(){this.Fh=new Oy,this.ja&&this.Fh.setTargetingRules(this.ja)}onStart(){}checkInitialUrlTargetingRules(){let t=this.w.getAnonymizedUrl();this.$h(t,"url")&&this.Bh()}onStop(){}onTargetingRulesArtificialPageview(t){this.isStarted&&this.$h(t,"url")&&this.Bh()}onExternalEvent(t){this.isStarted&&this.$h(t.name,"trigger")&&this.Bh()}$h(t,e){var i,r;return e==="url"&&z(t)&&(!((i=this.Fh)===null||i===void 0)&&i.matchUrl(t))?!0:!!(e==="trigger"&&(!((r=this.Fh)===null||r===void 0)&&r.matchTrigger(t)))}}return s})(),My=(()=>{class s{constructor(t,e,i,r,a,c){this.ja=t,this.EA=e,this.S=i,this._t=r,this.X=a,this.w=c}init(){this.Kr=new Ny(this.ja,this.EA,this.w),this.X.addListener(this.Kr),this.Kr.init()}start(){this.Kr.start()}stop(){this.Kr.stop()}checkInitialUrlTargetingRules(){this.Kr.checkInitialUrlTargetingRules()}emitTargetingCollectState(){let t=this._t.getInitialCollectState();t===L.ANALYTICS_ONLY?this.S.emitCollectStateChange(L.ANALYTICS_ONLY_RULES_TARGETING,jt.ETR_OFF):t===L.RECORDING_GLOBAL_SAMPLING&&this.S.emitCollectStateChange(L.RECORDING_RULES_TARGETING,jt.ETR_OFF)}}return s})();var Hc=":";function ga(s){let n=[],t=ky(s),e=csString.prototype.split.call(t,"/");for(let i of e)xt(i,Hc)?csArray.prototype.push.call(n,{key:i,value:`CS_ANONYMIZED_${csString.prototype.toUpperCase.call(csString.prototype.slice.call(i,1))}`}):csArray.prototype.push.call(n,{key:i,value:null});return n}function ky(s){let n=s;return xt(s,"/")&&(n=csString.prototype.substring.call(n,1)),li(s,"/")&&(n=csString.prototype.slice.call(n,0,-1)),n}var Dy=(()=>{class s{constructor(){this.Ug=new Set,this.jg=[],this.zh=new Set,this.Gh=[]}addUrlMaskingPattern(t){if(this.Ug.has(t))return;this.Ug.add(t);let e=ga(t);csArray.prototype.push.call(this.jg,e)}getUrlMaskingPatterns(){return this.jg}resetPartialUrlMaskingPatterns(){this.zh.clear(),this.Gh=[]}addPartialUrlMaskingPattern(t){if(this.zh.has(t))return;this.zh.add(t);let e=ga(t);csArray.prototype.push.call(this.Gh,e)}getPartialUrlMaskingPatterns(){return this.Gh}}return s})();var xy=(()=>{class s{constructor(t,e,i){this.f=t,this.I=e,this.R=i,this.Ze=P.now()}resetStartTime(){this.Ze=P.now()}getSessionData(){let{projectId:t}=this.f,e=this.I.getVisitor();e==null&&F.warn("Visitor is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{id:i,visitsCount:r}=e!=null?e:{},a=this.R.getSession();a===null&&F.warn("Session is null. This happens when a snippet tries to get Session Data before the tag was initialized.");let{pageNumber:c}=a!=null?a:{};return{projectId:t,userId:i,sessionNumber:r,pageNumber:c,relativeTimestamp:P.now()-this.Ze}}}return s})(),Ly=["clearSession"],Vy=["extendSession"];var Uy=["getSessionData"],jy=["session:start:newVisitor"],Hy=["session:clear:visitor"],By=(()=>{class s{constructor(t,e,i,r){this.f=t,this.I=e,this.R=i,this.E=r}init(){this.qh=new xy(this.f,this.I,this.R),this.E.register(Ly,()=>this.R.removeSession()),this.E.register(Vy,()=>this.R.extendSessionPeriodically(),{disableApplyPending:!0}),this.E.register(Uy,()=>this.qh.getSessionData(),{disableApplyPending:!0}),this.E.register(jy,()=>this.I.renewVisitor()),this.E.register(Hy,()=>{this.I.resetVisitor()},{disableApplyImmediate:!0})}onBeforeNaturalPageView(){this.I.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onBeforeArtificialPageView(){this.I.createOrUpdateVisitor(),this.R.createOrUpdateSession()}onAfterNaturalPageView(){this.qh.resetStartTime()}onAfterArtificialPageView(){this.qh.resetStartTime()}onOptout(){this.I.removeVisitor(),this.R.removeSession()}onCollectStateChange(t){this.R.updateCollectState(t)}}return s})(),Fy=(()=>{class s{constructor(t,e,i,r,a,c,l,u,m,d,E,y,v,C,I,S,_,D,O,b,x,J,at,Nt,bt,T,M,V,j,it,At,Lt,Ee,ps){this.mt=t,this.Nn=e,this.fe=i,this.I=r,this.R=a,this.G=c,this.Vi=l,this.S=u,this.E=m,this.Wh=d,this.f=E,this.Yh=y,this.ii=v,this.Jr=C,this.Tt=I,this.N=S,this.Q=_,this.tt=D,this.w=O,this.wA=b,this.X=x,this.pt=J,this.St=at,this.Hg=Nt,this.ie=bt,this.TA=T,this.O=M,this.zt=V,this.M=j,this.At=it,this._t=At,this.lt=Lt,this.We=Ee,this.ys=ps,this.bA=(Vt=!1)=>{let Bt=this.R.getSession();Bt===null?(this.Mn=new My(this.f.recordTargetingRules,this.Bg,this.S,this._t,this.X,this.w),this.Mn.init(),this.Mn.start()):(Bt.collectState===L.RECORDING_RULES_TARGETING||Bt.collectState===L.ANALYTICS_ONLY_RULES_TARGETING)&&this.Bg(Vt)},this.Bg=(Vt=!1)=>{this.kn.onLoad(()=>{var Bt,ce;(Bt=this.Mn)===null||Bt===void 0||Bt.emitTargetingCollectState(),(ce=this.Mn)===null||ce===void 0||ce.stop(),this.S.emitStartTracking(Vt)}),this.Ha(Vt)},this.Ha=(Vt=!1)=>{this.ii.isActive()||(this.lt.init(),this.Xh.start(Vt),this.kn.start())},this.AA=()=>{this.S.emitBeforeSessionRenewal(),this.Dn(!0),this.S.emitAfterSessionRenewal()},this.RA=()=>{this.S.emitBeforeSessionRenewal(),this._t.refreshQuota(Vt=>{Vt!==L.QUOTA_REACHED&&(this.Dn(!0),this.S.emitAfterSessionRenewal())})}}start(){if(this.Yh.init(),this.ii.init(),this.ii.isActive())return;let t,e,i,r,a,c,l,u,m,d,E,y,v,C,I,S,_,D,O;this.O.schedule(()=>{I=new Py(this.G),y=new yp(this.Q),v=new Zd(()=>{}),S=new tp,O=new ep;let b=new Cy(v,this.lt,S,D,O,this.Kh());C=new Iy(this.Kh(),this.lt,b,S,_);let x=new Ry(this.S,this.E,this.lt,b,S,_,D);x.init(),this.S.addListener(x),t=new bf(this.f,this.Nn,this.I,this.Q,y,this.E,this.G,new gp(F),this.pt,this.zt,this.X,C,this.vl),e=new Xf(this.E,this.R,this.f,this.mt,this.fe,this.N),E=new Ey(C,this.f);let J=null,at=new wg;i=new yg(this.I,this.R,this.E,this.pt,J,this.f,at,E),r=new ig(this.f,this.Nn,this.I,this.E,this.N,this.G,this.w);let Nt;this.Xh=new Mg(this.f,this.E,this.S,this.Nn,this.I,this.R,this.Vi,this.Tt,this.St,this.w,this.ie,at,this.X,this.We,Nt),this.Fg=new By(this.f,this.I,this.R,this.E),l=new _g(this.f,this.E,this.fe,this.Nn,this.X),u=new Eg(this.E),m=new Sp,this.kn=new Fp}),this.f.customErrors.enabled&&this.O.schedule(()=>{var b,x,J;let at;this.Xs=new Df(this.N,!((J=(x=this.f)===null||x===void 0?void 0:x.experimental)===null||J===void 0)&&J.anonymizeNameInUrls?this.tt:void 0);let Nt=new Pf(this.Xs,this.f,this.Nn,this.E,this.X,this.zt,this.pt,at);Nt.init(),this.S.addListener(Nt)}),this.f.jsErrorsEnabled&&this.O.schedule(()=>{this.As=new Bf,this.pe=new $f(this.N,this.w);let b=new Hf(this.As,this.pe,this.f,this.Nn,this.pt,this.E,this.X,this.w,this.zt);b.init(),this.S.addListener(b)}),this.O.schedule(()=>{this.Jr.init()}),this.O.schedule(()=>{i.init()}),this.O.schedule(()=>{e.init()}),this.O.schedule(()=>{r.init()}),this.O.schedule(()=>{this.Hg.init()}),this.O.schedule(()=>{this.Xh.init()}),this.O.schedule(()=>{this.Fg.init()}),this.O.schedule(()=>{l.init()}),this.O.schedule(()=>{this.wA.init()}),this.O.schedule(()=>{u.init()}),this.O.schedule(()=>{m.init()}),this.O.schedule(()=>{this.TA.init()}),this.O.schedule(()=>{this.S.addListener(this.Fg),this.S.addListener(this.Wh),this.S.addListener(t),this.S.addListener(this.Jr),this.S.addListener(i),this.S.addListener(r),this.S.addListener(this.Hg),this.S.addListener(this.Xh),this.S.addListener(l),this.S.addListener(e),this.S.addListener(m),this.S.addListener(I)}),oi.isRecordingSupported()&&this.O.schedule(()=>{let b=new yy(E,this.R,this.f,this.mt,this.E,this.N,this.G,v,this.pe,this.yt,this.xe,this.vt,this.S,this.X,this.pt,this.ie,this.zt,this.tt,this.Hr,this.Kh(),this.Xs,_);b.init(),this.S.addListener(b),i.setRecordingService(b.recordingService)}),this.O.schedule(()=>{var b;let x,J}),this.O.schedule(()=>{t.init()}),this.O.schedule(()=>{this.f.isQuotaEnabled()?this.G.onSessionExpired(()=>{this.RA()}):this.G.onSessionExpired(()=>{this.AA()}),this.Dn()})}Dn(t=!1){var e,i,r;if(this.f.hasTargetingRules()){this.bA(t),this.E.start(),(e=this.vl)===null||e===void 0||e.start(),this.Mn&&this.Mn.checkInitialUrlTargetingRules();return}this.E.start(),(i=this.vl)===null||i===void 0||i.start(),this.kn.onLoad(()=>{this.S.emitStartTracking(t)}),(!ac(this.f)||t)&&this.Ha(t)}Kh(){if(this.it)return this.it;let t=new ic;return this.it=new op(this.f,this.w,t,this.Tt),this.it.init(),this.it.shouldUseAnonymization()&&G.counters.pageAnonymisation.count("anonymized-on-start"),this.it}}return s})(),$y=(()=>{class s{constructor(t,e,i,r,a,c,l,u){this.f=t,this.I=e,this.Ke=i,this.$g=r,this.CA=a,this.IA=c,this.PA=l,this.Jh=u}compute(t){var e,i;this.f.crossDomainTracking&&!this.f.cookielessTrackingEnabled?this.f.crossDomainSingleIframeTracking?(e=this.PA)===null||e===void 0||e.start(()=>this.Qh(t)):(i=this.IA)===null||i===void 0||i.applyUpToDate(()=>this.Qh(t)):this.Qh(t)}Qh(t){this.CA.handle(),this.$g.clear(),this.OA()?(this.$g.restoreClearedVisitor(),t(!0)):(this.Ke.exclude(this.f),t(!1))}OA(){let t=as.boolean(this.f.sampleRate);return this.Jh.isForceIncluded()||!this.Ke.isExcluded()&&this.I.doesVisitorExist()||!this.Ke.isExcluded()&&t}}return s})(),zy=(()=>{class s{constructor(t,e,i,r){this.f=t,this.ut=e,this.S=i,this.R=r,this.NA=10*1e3}createOrUpdateVisitor(){var t;let e=this.getVisitor();e===null&&(e=this.MA(),(t=this.R)===null||t===void 0||t.removeSession()),this.kA(e),this.setVisitor(e)}MA(){return{id:Bp.generate(),visitsCount:0,appliedTrackingDraw:this.f.lastTrackingDraw,creationTimestamp:fo(),lastVisitTimestamp:0,hitTimestamp:0,expires:P.now()+this.f.visitorCookieTimeout,allowSubdomains:this.f.allowSubdomains,identityPrint:null}}kA(t){let e=fo();this.R&&!this.R.doesSessionExist()&&(t.visitsCount+=1,t.lastVisitTimestamp=e),t.hitTimestamp=e,t.appliedTrackingDraw=this.f.lastTrackingDraw,this.zg=t.visitsCount}getRequestParameters(){let t=this.getVisitor();return t?{uu:t.id,sn:`${t.visitsCount}`,hd:`${t.hitTimestamp}`}:{}}getVisitor(){return this.ut.get()}setVisitor(t){this.ut.set(t)}doesVisitorExist(){return this.ut.get()!==null}resetVisitor(){this.Gg(),this.S.emitAfterVisitorCleared()}removeVisitor(){this.ut.remove()}hasAllowSubdomainsChanged(){let t=this.getVisitor();return t?t.allowSubdomains!==this.f.allowSubdomains:!1}handleSubdomainChange(){this.ut.handleSubdomainChange()}isSessionRenewed(){let t=this.getVisitor();return t===null||this.zg===void 0?!1:t.visitsCount!==this.zg}DA(){return!Z(this.qg)||P.now()-this.qg>this.NA}renewVisitor(){this.DA()?(this.qg=P.now(),this.Gg(),this.S.emitAfterVisitorRenewal()):F.warn("session:start:newVisitor is trying to renew visitor under time limit")}Gg(){this.S.emitBeforeVisitorRenewal(),this.removeVisitor()}}return s})(),Kt="_cs_s",ur=18e5,xn=".",Gy=13,xi=(()=>{let s;return function(n){n[n.NOT_FOUND=0]="NOT_FOUND",n[n.EXPIRED=1]="EXPIRED",n[n.FOUND=2]="FOUND"}(s||(s={})),s})(),qy=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i,this.ne=null,this.Zh=!1}get(t){let e=this.getRawSession(t);return this.isValid(e)?tc(e):null}getRawSession(t){if(t){let m=this.tu();return Zn(m)}let{sessionString:e,status:i}=this.xA(),r=Zn(e);if(i!==xi.EXPIRED)return r;if(this.f.cookielessTrackingEnabled)return null;let a=this.tu();if(!a)return null;let c=csString.prototype.split.call(a,xn);if(!s.Wg(c))return a;let l=c[c.length-1],u=parseInt(l,10);return isNaN(u)||this.LA(u),r}onCookieToSet(t){this.yi=t}onCookieToRemove(t){this.Ei=t}set(t,e=ur){var i;let r=P.now()+e,a=kd(t);a+=`${xn}${r}`,this.VA(a,r),this.f.cookielessTrackingEnabled?this.K.setItem(Kt,a):(this.M.set(Kt,a,e),(i=this.yi)===null||i===void 0||i.call(this,Kt,a,e))}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(Kt):(this.M.delete(Kt),(t=this.Ei)===null||t===void 0||t.call(this,Kt)),this.UA()}handleSubdomainChange(){if(this.f.cookielessTrackingEnabled)return;let t=this.get(!0);t&&(this.f.allowSubdomains?this.M.delete(Kt,tn.CURRENT_DOMAIN):this.M.delete(Kt,this.M.getRootDomain()),this.set(t))}isValid(t){return t!==null&&Ar(t)}VA(t,e){this.ne={sessionString:t,expires:e}}xA(){return this.ne?this.ne&&P.now()<=this.ne.expires?{sessionString:this.ne.sessionString,status:xi.FOUND}:{sessionString:this.ne.sessionString,status:xi.EXPIRED}:{sessionString:this.tu(),status:xi.NOT_FOUND}}UA(){this.ne=null}LA(t){this.ne&&(this.ne.expires=t,this.Zh=!0)}isCacheRefreshed(){return this.Zh}resetCacheRefreshed(){this.Zh=!1}tu(){if(this.f.cookielessTrackingEnabled){let e=this.K.getItem(Kt);return!e||this.Yg(e)?null:e}let t=this.M.get(Kt);return!t||this.Yg(t)?null:t}Yg(t){let e=csString.prototype.split.call(t,xn);if(!s.Wg(e))return!1;let i=parseInt(e[e.length-1],10);return!isNaN(i)&&P.now()>i}static Wg(t){return t[t.length-1].length===Gy}}return s})(),Vr=60*1e3,Wy=60*Vr,Yy=4*Wy-Vr,Ss=(()=>{let s;return function(n){n[n.NO=0]="NO",n[n.WITHDRAWN=1]="WITHDRAWN",n[n.GRANTED=2]="GRANTED"}(s||(s={})),s})(),Xy=(()=>{class s{constructor(t,e,i,r,a){this.De=t,this._t=e,this.S=i,this.jA=r,this.HA=a,this.Qr=null,this.eu=0,this.Zr=Ss.NO}setDynamicVariablesService(t){this.BA=t}createOrUpdateSession(){this.su(),this.FA=P.now(),this.eu=0;let t=this.Xg();t===null?(t=this.$A(),this.Ba(t),this.S.emitSessionCreated()):(t=this._t.sanitizeSessionCollectState(t),this.zA(t),t.collectState=this._t.getEligibleCollectState(t)),this.setSession(t)}grantReplayRecording(t){t.collectState=this._t.getInitialCollectState(),t.collectState=this._t.computeInitialCollectStateFromRecordingConsentGranted(t),this.setSession(t)}grantReplayRecordingBeforeSessionStart(){this.Zr=Ss.GRANTED}withdrawnReplayRecording(t){t.collectState=this._t.getRecordingConsentWithdrawn(),this.setSession(t)}withdrawnReplayRecordingBeforeSessionStart(){this.Zr=Ss.WITHDRAWN}Ba(t){this.Zr===Ss.WITHDRAWN?(t.collectState=this._t.getRecordingConsentWithdrawn(),this.setSession(t)):this.Zr===Ss.GRANTED?t.collectState=this._t.computeInitialCollectStateFromRecordingConsentGranted(t):t.collectState=this._t.computeInitialCollectState(t),this.Zr=Ss.NO}$A(){return{pageNumber:1,collectState:this._t.getInitialCollectState(),replayConsent:this.jA?Qn.NOT_EXPRESSED:Qn.UNNECESSARY,etrStatus:Gt.ETR_NOT_SAVED_SESSION}}zA(t){t.pageNumber+=1}isReplayRecorded(){let t=this.getSession();return!!t&&this._t.isReplayRecorded(t)}isTemporarilyRecorded(){let t=this.getSession();return(t==null?void 0:t.collectState)===L.RECORDING_TEMPORARILY}getRequestParameters(){let t={},e=this.getSession();return e!==null&&(t.pn=`${e.pageNumber}`),t}getSession(){return this.De.get()}Xg(){return this.De.get(!0)}doesSessionExist(){return this.De.get()!==null}setSession(t){this.De.set(t),this.S.emitSessionRefreshed()}refreshSession(){let t=this.Xg();t&&this.setSession(t)}removeSession(){this.De.remove(),this.S.emitSessionRemoved()}getCollectStates(){let t=this.getSession(),e=[];return t&&(t.collectState!==L.ANALYTICS_ONLY&&csArray.prototype.push.call(e,t.collectState===L.RECORDING_RULES_TARGETING?L.RECORDING_GLOBAL_SAMPLING:t.collectState),this.HA&&csArray.prototype.push.call(e,L.RECORDING_ETR_SAMPLING)),e}updateCollectState(t){let e=this.getSession();e!==null&&(e.collectState=t,this.setSession(e))}hasValidSession(){let t=this.De.getRawSession();return this.De.isValid(t)}handleSubdomainChange(){this.De.handleSubdomainChange()}pollCacheRefreshEvent(t=!0){let e=this.De.isCacheRefreshed();return e&&t&&this.De.resetCacheRefreshed(),e}extendSessionPeriodically(){this.Qr||this.Kg()}extendSession(){let t=this.getSession();return t===null?(F.warn("extendSession is trying to extend an expired session"),this.su(),!1):(this.setSession(t),!0)}Kg(){if(this.GA()){this.su();return}this.extendSession()&&(this.qA(),this.WA())}WA(){this.Qr=window.csSetTimeout(()=>{this.Kg()},ur-Vr)}GA(){return Yy-(P.now()+ur-this.FA)<0}su(){this.Qr&&(window.csClearTimeout(this.Qr),this.Qr=null)}qA(){this.eu+=1,this.BA.trackDynamicVariable("session_expiry_update",this.eu)}}return s})(),Ky=(()=>{class s{constructor(t,e,i){this.f=t,this.I=e,this.Ke=i}clear(){this.YA()&&(this.Jg=this.I.getVisitor(),this.I.removeVisitor()),this.KA()&&this.Ke.removeExclusion()}YA(){return this.I.doesVisitorExist()&&this.I.getVisitor().appliedTrackingDraw!==this.f.lastTrackingDraw}KA(){return this.Ke.getAppliedTrackingDraw()!==this.f.lastTrackingDraw}restoreClearedVisitor(){this.Jg&&this.I.setVisitor(this.Jg)}}return s})(),Jy=(()=>{class s{constructor(t,e,i){this.I=t,this.R=e,this.JA=i}handle(){this.I.hasAllowSubdomainsChanged()&&(this.I.handleSubdomainChange(),this.R.handleSubdomainChange(),this.JA.handleSubdomainChange())}}return s})(),De="_cs_c",es=(()=>{let s;return function(n){n[n.NOT_REQUIRED=0]="NOT_REQUIRED",n[n.NOT_EXPRESSED=1]="NOT_EXPRESSED",n[n.GRANTED=2]="GRANTED",n[n.WITHDRAWN=3]="WITHDRAWN"}(s||(s={})),s})(),Qy=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.At=i}get(){let t;return this.f.cookielessTrackingEnabled?t=this.At.getItem(De):t=this.M.get(De),t===null?t:Number(t)}set(t){this.f.cookielessTrackingEnabled?this.At.setItem(De,csString(t)):this.M.set(De,csString(t),fr)}remove(){this.f.cookielessTrackingEnabled?this.At.removeItem(De):this.M.delete(De)}handleSubdomainChange(){this.f.cookielessTrackingEnabled||(this.f.allowSubdomains?this.M.delete(De,tn.CURRENT_DOMAIN):this.M.delete(De,this.M.getRootDomain()))}}return s})(),Zy=(()=>{class s{constructor(t,e,i){this.f=t,this.R=e,this.S=i}grantReplayConsent(){if(!Be.isReplayConsentNeeded(this.f))return;let t=this.R.getSession();if(!t){this.R.grantReplayRecordingBeforeSessionStart();return}Be.isRecordingBlockedByConsent(t)&&(this.R.grantReplayRecording(t),this.S.emitAfterReplayRecordingConsentGranted())}withdrawReplayConsent(){if(!Be.isReplayConsentNeeded(this.f))return;let t=this.R.getSession();if(!t){this.R.withdrawnReplayRecordingBeforeSessionStart();return}Be.isRecordingWithDrawn(t)||(this.R.withdrawnReplayRecording(t),this.S.emitAfterReplayRecordingConsentWithdrawn())}}return s})(),tE=["replay:consent:unanonymized:granted","trackConsentGranted"],eE=["replay:consent:unanonymized:withdrawn","trackConsentWithdrawn"],sE=["replay:consent:startForSession:granted"],iE=["replay:consent:startForSession:withdrawn"],nE=(()=>{class s{constructor(t,e,i,r,a){this.f=t,this.E=e,this.Tt=i,this.R=r,this.S=a}init(){this.Qg=new Zy(this.f,this.R,this.S),this.Tt.setInitialConsent(),this.ht()}ht(){this.E.register(tE,()=>{this.Tt.grantReplayAnonymizationConsent()}),this.E.register(eE,()=>{this.Tt.withdrawReplayAnonymizationConsent()}),this.E.register(sE,()=>{this.Qg.grantReplayConsent()}),this.E.register(iE,()=>{this.Qg.withdrawReplayConsent()})}onOptout(){this.Tt.removeAllConsents()}onBeforeVisitorRenewal(){this.Tt.removeAllConsents()}onAfterVisitorRenewal(){this.Tt.setInitialConsent()}onAfterVisitorCleared(){this.Tt.setInitialConsent()}}return s})(),rE=(()=>{class s{constructor(t,e,i){this.f=t,this.ut=e,this.S=i}setInitialConsent(){let t=this.ut.get();(t===null||this.hasConsentRequiredChanged(t))&&this.setDefaultReplayAnonymization()}hasConsentRequiredChanged(t){let e=this.f.consentRequired;return e&&t===es.NOT_REQUIRED||!e&&t!==es.NOT_REQUIRED}handleSubdomainChange(){this.ut.handleSubdomainChange()}setDefaultReplayAnonymization(){let t=this.f.consentRequired?es.NOT_EXPRESSED:es.NOT_REQUIRED;this.ut.set(t)}grantReplayAnonymizationConsent(){this.f.consentRequired&&(this.ut.set(es.GRANTED),this.S.emitReplayUnanonymizationConsentGranted())}withdrawReplayAnonymizationConsent(){this.f.consentRequired&&(this.ut.set(es.WITHDRAWN),this.S.emitReplayUnanonymizationConsentWithdrawn())}removeAllConsents(){this.ut.remove()}isReplayUnanonymizedAllowedByConsent(){return!this.f.consentRequired||this.ut.get()===es.GRANTED}getRequestParameters(){return{uc:`${this.ut.get()}`}}}return s})(),oE=(()=>{class s{constructor(t,e,i,r,a,c,l){this.S=t,this.E=e,this.Wh=i,this.Yh=r,this.ii=a,this.QA=c,this.Jr=l}start(){this.S.addListener(this.QA),this.S.addListener(this.Jr),this.S.addListener(this.Wh),this.Jr.init(),this.Yh.init(),this.ii.init(),!this.ii.isActive()&&this.E.start()}}return s})(),aE=(()=>{class s{constructor(t,e){this.Ot=t,this.ut=e}exclude(t){this.ut.set(csString(t.lastTrackingDraw))}removeExclusion(){this.ut.remove()}isExcluded(){return this.ZA()||this.tR()}ZA(){return this.getAppliedTrackingDraw()!==0}getAppliedTrackingDraw(){return this.ut.get()}tR(){return csString.prototype.indexOf.call(this.Ot.href,pe)>0}}return s})(),cE=(()=>{class s{constructor(t){this.Di=t}onOptout(){this.Di.removeExclusion()}}return s})(),Ln=(()=>{let s;return function(n){n.SessionReplay="SR",n.None=""}(s||(s={})),s})(),lE=".^",hE=".*",uE=(()=>{class s{constructor(t){this.w=t,this.iu=new csRegExp(`${lE}`)}setExcludeUrlForSessionReplay(t){try{this.iu=new csRegExp(t)}catch{F.warn(`excludeURLforReplay - invalid regex '${t}'`),this.iu=new csRegExp(`${hE}`)}}Zg(){return this.iu.test(this.w.getAnonymizedUrl())?Ln.SessionReplay:Ln.None}isUrlExcludedForSessionReplay(){return this.Zg()===Ln.SessionReplay}getRequestParameters(){return{ex:this.Zg()}}}return s})(),dE=["excludeURLforReplay"],pE=(()=>{class s{constructor(t,e){this.Di=t,this.E=e}init(){this.E.register(dE,t=>{if(z(t))this.Di.setExcludeUrlForSessionReplay(t);else throw new Error("Command misuse: excludeURLforReplay")})}}return s})(),Vn="_cs_inc",fE=(()=>{class s{constructor(t,e){this.Ot=t,this.M=e}isForceIncluded(){return this.eR()||this.sR()}isForceReplayRecorded(){return this.iR(L.RECORDING_GLOBAL_SAMPLING)}eR(){return this.M.get(Vn)!==null}iR(t){return this.M.get(Vn)===t}sR(){return csString.prototype.indexOf.call(this.Ot.href,Vn)>0}}return s})(),Gs="_cs_optout",gE=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.At=i}get(){return this.f.cookielessTrackingEnabled?this.At.getItem(Gs):this.M.get(Gs)}set(t){this.f.cookielessTrackingEnabled?this.At.setItem(Gs,t):this.M.set(Gs,t,fr)}}return s})(),ma="1",mE=(()=>{class s{constructor(t,e,i){this.S=t,this.Ot=e,this.ut=i}init(){!this.isActive()&&this.nR()&&this.activate()}isActive(){return this.ut.get()===ma}activate(){this.S.emitOptout(),this.ut.set(ma)}nR(){return csString.prototype.indexOf.call(this.Ot.href,Gs)>0}}return s})(),yE=["optout"];var EE=(()=>{class s{constructor(t,e){this.E=t,this.ii=e}init(){this.E.register(yE,()=>{this.ii.activate()})}}return s})();var SE=(()=>{class s{constructor(t,e){this.E=t,this.pt=e}init(){this.pt.addListener(this.E)}onOptout(){this.E.stop()}onBeforeSessionRenewal(){this.E.stop()}}return s})();var vE=(()=>{let s;return function(n){n.UXA="_uxa",n.WVT="cs_wvt"}(s||(s={})),s})(),_E=(()=>{class s extends Ot{constructor(t){super(),this.nu=t,this.hs={}}register(t,e,i){for(let r of t){let a=(...c)=>{try{let l=e(...c);return G.counters.commandApplied.count(r),l}catch(l){G.counters.commandMisuse.count(r),F.warn(`Misused Command: ${r}; Args: ${csJSON.stringify(c)}; Error: ${qe(l)?l.stack:l}`)}};this.hs[r]={callback:a,configuration:i},this.hs}}onStart(){this.oR(),this.aR()}onStop(){for(let t of this.nu)window[t]=[]}applyFromIntegration(t,e,i){this.tm(t,e,`Commands.apply.from.integration: ${i}`),G.counters.commandsFromIntegrations.count(t)}applyFromImplementation(t,e,i){this.tm(t,e,`Commands.apply.from.implementation: ${i}`),G.counters.commandsFromCSTC.count(t)}onIframeCommands(t){for(let e of t.commands)this.cR(e.name,e.params,t.iframePath),G.counters.commandsFromIframe.count(e.name)}tm(t,e,i){if(!this.isStarted){window._uxa.push([t,...e]);return}F.tryToExecute(i,()=>{if(this.hs[t])return this.hs[t].callback(...e)})()}cR(t,e,i){F.tryToExecute(`Commands.apply.from.iframe: ${i}`,()=>{if(this.hs[t])return this.hs[t].callback(...e)})()}oR(){for(let t of this.nu)window[t].forEach(([e,...i])=>this.em(e,i,!1))}aR(){for(let t of this.nu)window[t]={push:([e,...i])=>this.em(e,i,!0)}}em(t,e,i){var r,a;if(this.hs[t]){if(((r=this.hs[t].configuration)===null||r===void 0?void 0:r.disableApplyPending)&&!i||((a=this.hs[t].configuration)===null||a===void 0?void 0:a.disableApplyImmediate)&&i)return;try{return this.hs[t].callback(...e)}catch(l){G.counters.commandError.count(t),F.error(`Command ${t} failed - params: ${csJSON.stringify(e)}`,l)}}}}return s})();var ya=(()=>{class s{constructor(t,e,i,r,a){this.f=t,this.I=e,this.R=i,this.um=r,this.ai=a}getRequestParameters(){var t;let e={...Tr(),...this.f.getRequestParameters()},i=this.R.getSession();i&&(e.pn=`${i.pageNumber}`);let r=this.I.getVisitor();if(r&&(e.sn=`${r.visitsCount}`,e.uu=`${r.id}`),!((t=this.um)===null||t===void 0)&&t.hasSubProjectId()&&(e.subProjectID=`${this.um.getSubProjectId()}`),this.fR(e),window.heap&&!this.f.isCsCrosswritingHeap())try{e.happid=window.heap.appid,window.heap.getSessionId&&(e.hsid=window.heap.getSessionId()),window.heap.getUserId?e.huu=window.heap.getUserId():window.heap.userId&&(e.huu=window.heap.userId),window.heap.getPageviewMetadata&&(e.hpvid=window.heap.getPageviewMetadata().pageviewId)}catch{delete e.happid,delete e.hsid,delete e.huu,delete e.hpvid}return e}fR(t){if(!this.ai)return;let e=this.ai.getSharedContext();e&&(t.happid=e.happid,t.t=e.pageTitle,t.fvt=csString(e.firstViewTime),t.fvurl=e.firstViewUrl,e.previousViewUrl&&(t.pvurl=e.previousViewUrl),t.url=e.currentViewUrl,e.sessionReferrer&&(t.fpvurl=e.sessionReferrer),t.sw=csString(e.screenWidth),t.sh=csString(e.screenHeight),t.cvt=csString(e.currentViewTime),e.encryptedIdentity&&(t.i=e.encryptedIdentity),e.cvarp&&(t.cvarp=e.cvarp))}}return s})(),wE=(()=>{class s{constructor(t,e){this.E=t,this.ds=e}init(){this.E.register(["debugEvents"],t=>{typeof t=="boolean"&&this.ds.updateDynamicFields("emitDebugEvents",t)})}}return s})();function Ea(s,n,t){if(!Z(n)&&!Z(t))return s.href;let e=Z(n)?Bc(n):s.pathname,i=Z(t)?Fc(t):s.search;return`${s.protocol}//${s.host}${e}${i}`}function Bc(s){return xt(s,"/")?s:`/${s}`}function Fc(s){return xt(s,"?")||s===""?s:`?${s}`}var Un=(()=>{let s;return function(n){n[n.page=1]="page",n[n.onNextPageviewOnly=2]="onNextPageviewOnly"}(s||(s={})),s})(),TE=(()=>{class s{constructor(t,e){this.Ot=t,this.tt=e,this.gR=10}overridePath(t,e){if(t===""){this.xn=void 0;return}let i=this.dm(e);i&&(this.au=i),this.xn=e?this.pm(t,e):t}overrideQuery(t,e){let i=this.dm(e);i&&(this.lu=i),this.eo=e?this.pm(t,e):t}computeOverriddenUrl(t){return this.mR(t)?this.getAnonymizedUrl():t}yR(t){return(typeof t=="string"||typeof t=="number")&&t in Un}mR(t){let e=this.Ro(this.Ot.href);return this.Ro(t)===e}Ro(t){return Bu(t,"/")?csString.prototype.slice.call(t,0,-1):t}dm(t){return Z(t==null?void 0:t.lifespan)&&this.yR(t==null?void 0:t.lifespan)?t==null?void 0:t.lifespan:null}ER(){return this.au&&this.au in Un}SR(){return this.lu&&this.lu in Un}cleanupOverrideLifespan(){this.ER()&&(this.xn=void 0,this.au=void 0),this.SR()&&(this.eo=void 0,this.lu=void 0)}getAnonymizedUrl(){let t=Ea(this.Ot,this.xn,this.eo);return this.tt.anonymizeUrl(t)}getUrl(){return Ea(this.Ot,this.xn,this.eo)}getAnonymizedPathAndQuery(){let t=Z(this.xn)?Bc(this.xn):this.Ot.pathname,e=Z(this.eo)?Fc(this.eo):this.Ot.search;return this.tt.anonymizeUrl(t+e)}getUrlProtocol(){return this.Ot.protocol}getRequestParameters(){return{url:this.getAnonymizedUrl()}}pm(t,e){return this.vR(e)?this._R(t):this.wR(e)?this.TR(t):t}wR(t){return!!t.decodeURI}TR(t){return this.fm(t,1,!1)}vR(t){return!!t.decodeURIDeep}_R(t){return this.fm(t,this.gR,!0)}fm(t,e,i){let r=t;for(let a=0;a<e;a++)try{let c=window.decodeURI(r);if(c===r)return r;r=c}catch{return r}return i&&F.warn(`decodeURIDeep limit reached: ${r}`),r}}return s})(),Ur=(()=>{class s{constructor(){this.listeners=[]}addListener(t){csArray.prototype.push.call(this.listeners,t)}}return s})(),bE=(()=>{class s extends Ur{emitPageEvent(t){for(let e of this.listeners)e.onPageEvent&&e.onPageEvent(t)}emitEventTriggerRecording(t,e){for(let i of this.listeners)i.onEventTriggerRecording&&i.onEventTriggerRecording(t,e)}emitCustomJavaScriptErrorEvent(t){for(let e of this.listeners)e.onCustomJavaScriptErrorEvent&&e.onCustomJavaScriptErrorEvent(t)}emitCustomErrorEvent(t){for(let e of this.listeners)e.onCustomErrorEvent&&e.onCustomErrorEvent(t)}emitUserIdentifierEvent(t){for(let e of this.listeners)e.onUserIdentifierEvent&&e.onUserIdentifierEvent(t)}emitExternalEvent(t){for(let e of this.listeners)e.onExternalEvent&&e.onExternalEvent({type:$.EXTERNAL_EVENT,name:t,ts:0})}emitTargetingRulesArtificialPageview(t){for(let e of this.listeners)e.onTargetingRulesArtificialPageview&&e.onTargetingRulesArtificialPageview(t)}}return s})(),Qs="|iframe|",AE=(()=>{class s extends Ur{constructor(t,e,i,r){super(),this.bR=t,this.AR=e,this.RR=i,this.CR=r}emitIframeEvent(t,e,i){if(this.IR(e)&&t===null){F.error(`iframeEventEmitter received event ${e} with null iframe, content:${csJSON.stringify(i)}`);return}switch(e){case Et.ChildLogMessage:this.PR(i);break;case Et.AnalysisEvent:{let r=i,a=this.bR.transformEvent(t,r);a.isUserEvent?this.NR(a.event):this.MR(a.event);break}case Et.RecordingEvent:{let r=i,a=this.CR.transformEvents(t,r);if(a.events.length===0)return;a.containsUserEvent?this.kR(a.events):this.DR(a.events);break}case Et.JavascriptError:this.xR(i);break;case Et.ApiError:this.LR(i);break;case Et.DetailedApiError:this.VR(i);break;case Et.CustomError:this.UR(i);break;case Et.EmerchandisingMessage:{let r=this.RR.transformEvent(t,i);this.jR(r);break}case Et.Commands:{let r=this.AR.transformEvent(t,i);this.HR(r);break}case Et.IntegrationCallback:this.BR(i);break;case Et.StaticResource:this.FR(i);break;case Et.TrackingContextRequestMessage:this.$R(i);break;default:F.error(`Parent received unknown data type from iframe : ${csJSON.stringify(i)}`)}}IR(t){let e=[Et.AnalysisEvent,Et.RecordingEvent,Et.EmerchandisingMessage,Et.Commands];return csArray.prototype.indexOf.call(e,t)!==-1}PR(t){let{message:e,errorCode:i,level:r}=t;switch(r){case nt.debug:F.debug(e,i);break;case nt.warn:F.warn(e,!0,i);break;case nt.implementation:F.implementation(e,i);break;case nt.error:F.error(e,i);break;case nt.critical:F.critical(e,i);break}}NR(t){for(let e of this.listeners)e.onIframeAnalysisUserEvent&&e.onIframeAnalysisUserEvent(t)}MR(t){for(let e of this.listeners)e.onIframeAnalysisBrowserEvent&&e.onIframeAnalysisBrowserEvent(t)}kR(t){for(let e of this.listeners)e.onIframeRecordingUserEvent&&e.onIframeRecordingUserEvent(t)}DR(t){for(let e of this.listeners)e.onIframeRecordingBrowserEvent&&e.onIframeRecordingBrowserEvent(t)}xR(t){for(let e of this.listeners)e.onIframeJavascriptError&&e.onIframeJavascriptError(t)}LR(t){for(let e of this.listeners)e.onIframeApiError&&e.onIframeApiError(t)}VR(t){for(let e of this.listeners)e.onIframeDetailedApiError&&e.onIframeDetailedApiError(t)}jR(t){for(let e of this.listeners)e.onIframeEmerchandisingMessage&&e.onIframeEmerchandisingMessage(t)}HR(t){for(let e of this.listeners)e.onIframeCommands&&e.onIframeCommands(t)}BR(t){for(let e of this.listeners)e.onIframeIntegrationCallback&&e.onIframeIntegrationCallback(t)}FR(t){for(let e of this.listeners)e.onIframeStaticResource&&e.onIframeStaticResource(t)}$R(t){for(let e of this.listeners)e.onTrackingContextRequestCallback&&e.onTrackingContextRequestCallback(t)}UR(t){for(let e of this.listeners)e.onIframeCustomError&&e.onIframeCustomError(t)}}return s})(),RE=(()=>{class s{setItem(t,e){window.localStorage.setItem(t,e)}getItem(t){return window.localStorage.getItem(t)}removeItem(t){window.localStorage.removeItem(t)}}return s})(),$c=["setCustomVariable"],CE=(()=>{class s{constructor(t,e){this.E=t,this.St=e}init(){this.E.register($c,(t,e,i,r)=>{this.St.set(t,e,i,r)})}onAfterArtificialPageView(){this.St.deleteNextPageOnlyCustomVariables()}onAfterNaturalPageView(){this.St.deleteNextPageOnlyCustomVariables()}onOptout(){this.St.removeCustomVariablesSession()}onBeforeVisitorRenewal(){this.St.removeCustomVariablesSession(),this.St.removeCustomVariablesPage()}}return s})(),Sa=512,va=255,jn={SESSION:["visit",2],PAGE:["page",3],NEXT_PAGE_ONLY:["nextPageOnly",4]},IE=(()=>{class s{constructor(t,e){this.N=t,this.ut=e,this.Yt={},this.He={}}set(t,e,i,r){let a,c;if((Yt(t)||z(t))&&Number(t)>0&&Tt(e)&&Tt(i)&&!Ge(e)&&!Ge(i)&&this.zR(r)){let l=this.N.anonymizePII(csString(e)),u=this.N.anonymizePII(csString(i));if(a=[csString.prototype.slice.call(l,0,Sa),csString.prototype.slice.call(u,0,va)],c=i!=="",!Z(r)||csArray.prototype.indexOf.call(jn.SESSION,r)>=0){let m=this.getCustomVariablesSession();c?m[t]=a:delete m[t],this.setCustomVariableSession(m)}(!Z(r)||csArray.prototype.indexOf.call(jn.PAGE,r)>=0)&&(c?this.Yt[t]=a:delete this.Yt[t]),Z(r)&&csArray.prototype.indexOf.call(jn.NEXT_PAGE_ONLY,r)>=0&&(c?this.He[t]=a:delete this.He[t])}else throw new Error(`Command misuse: ${$c[0]}`)}getCustomVariablesSession(){let t=this.ut.get();if(!t)return{};let e=window.csJSON.parse(t);return e!==null&&Cs(e)?e:{}}setCustomVariableSession(t){this.ut.set(window.csJSON.stringify(t))}removeCustomVariablesSession(){this.ut.remove()}removeCustomVariablesPage(){this.Yt={}}getRequestParameters(){let t=this.getCustomVariablesSession();for(let i in this.He)this.He.hasOwnProperty(i)&&(this.Yt[i]=this.He[i]);for(let i in this.Yt)this.Yt.hasOwnProperty(i)&&(t[i]=this.Yt[i]);if(window.csJSON.stringify(t).length<=2)return{};let e={cvars:this.gm(t)};return this.hasCustomVariablesPage()&&(e.cvarp=this.getCustomVariablesPage()),e}deleteNextPageOnlyCustomVariables(){if(Object.keys(this.He).length>0)for(let t in this.He)this.He[t]===this.Yt[t]&&(delete this.Yt[t],delete this.He[t])}hasCustomVariablesPage(){return this.Yt&&!Bn(this.Yt)}getCustomVariablesPage(){return this.gm(this.Yt)}mm(t){for(let e in t)if(t.hasOwnProperty(e)){let i=parseInt(e,10),r=t[e],a=r[0],c=r[1];(!mh(i,1,20)||a.length>Sa||c.length>va)&&delete t[e]}}gm(t){this.mm(t);let e=Bn(t)?[]:t;return window.csJSON.stringify(e)}zR(t){return!Z(t)||z(t)||Yt(t)}getAllValidCustomVars(){let t=this.getCustomVariablesSession();for(let e in this.He)this.He.hasOwnProperty(e)&&(this.Yt[e]=this.He[e]);for(let e in this.Yt)this.Yt.hasOwnProperty(e)&&(t[e]=this.Yt[e]);return this.mm(t),t}}return s})(),ee="_cs_id",PE=(()=>{class s{constructor(t,e,i){this.f=t,this.M=e,this.K=i}onCookieToSet(t){this.yi=t}onCookieToRemove(t){this.Ei=t}get(){let t;return this.f.cookielessTrackingEnabled?t=this.K.getItem(ee):t=this.M.get(ee),t?(Id(t)||F.warn(`Invalid visitor string: ${t}`),Rd(t)):null}set(t){var e;let i=Cd(t);if(this.f.cookielessTrackingEnabled)this.K.setItem(ee,i);else{let r=new csDate(t.expires);this.M.set(ee,i,r),(e=this.yi)===null||e===void 0||e.call(this,ee,i,r)}}remove(){var t;this.f.cookielessTrackingEnabled?this.K.removeItem(ee):(this.M.delete(ee),(t=this.Ei)===null||t===void 0||t.call(this,ee))}handleSubdomainChange(){if(this.f.cookielessTrackingEnabled)return;let t=this.get();t&&(t.allowSubdomains=this.f.allowSubdomains,this.f.allowSubdomains?this.M.delete(ee,tn.CURRENT_DOMAIN):this.M.delete(ee,this.M.getRootDomain()),this.set(t))}}return s})(),OE=["class","data-com.agilebits.onepassword.initial-value","data-com.onepassword.iv","data-ember-action","data-initial-value","data-previous-value","data-react-checksum","data-reactid","id","maxlength","onclick","onsubmit","style"],NE=1024,ME=1024,kE=(()=>{class s{constructor(t,e){this.ft=t,this.f=e}getEventTargetPathAndHierarchy(t,e){let i=ft(t),r={isNodeSensitive(a){return k.isMaskedElement(a)||k.isMaskedElementChild(a)},isAttributeSensitive(a,c){return k.isMaskedAttribute(a,c)},allWhitelistedAttributes:Fa(this.f.whitelistedAttributes),attributeIgnoreTokens:OE,useAnonymization:e,attrMaxLength:ME,hierarchyMaxLength:NE};return this.ft.getElementPathAndHierarchy(i,r,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}getEventTargetPath(t){let e=ft(t);return this.ft.getElementPath(e,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}getEventTargetPathAndTargetLink(t){let e=ft(t),{path:i,firstAnchorParent:r}=this.ft.getElementPathAndFirstAnchorParent(e,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules}),a=this.GR(r)?r.href:"";return{path:i,targetLink:a}}hasValidEventTarget(t){let e=ft(t);return this.ft.isValidElement(e)}getElementPath(t){return this.ft.getElementPath(t,{dynamicIdRegex:this.f.dynamicIdRegex,...this.f.pathComputationRules})}GR(t){var e;return t!==null&&t.hasAttribute("href")&&!Kn((e=t.getAttribute("href"))!==null&&e!==void 0?e:"","#")}}return s})(),DE=(()=>{class s{constructor(t,e){this.Q=t,this.qR=e}transformEvent(t,e){this.WR(t,e.event);let i=this.Q.getElementPath(t);return this.YR(i,e.event),e}WR(t,e){if(qp(e)){let i=t.getBoundingClientRect();e.x=Math.round(i.left+e.x+dt.windowOffsetX()),e.y=Math.round(i.top+e.y+dt.windowOffsetY())}}YR(t,e){pc(e)&&(e.tgt=`${t}${Qs}${e.tgt}`),zp(e)&&(e.tgtHM=`${t}${Qs}${e.tgtHM}`,this.qR||(e.tgtHMH=wc(e.tgtHM))),Gp(e)&&(e.tgtLk=`${t}${Qs}${e.tgtLk}`)}}return s})(),xE=(()=>{class s{constructor(t){this.Q=t}transformEvent(t,e){let i=this.Q.getElementPath(t);return{iframePath:e.iframePath?`${i}${Qs}${e.iframePath}`:i,commands:e.commands}}}return s})(),LE=(()=>{class s{constructor(t){this.Q=t}transformEvent(t,e){if(e.products.length===0)return e;let i=this.Q.getElementPath(t),r=csArray.prototype.map.call(e.products,a=>({...a,targetPath:`${i}${Qs}${a.targetPath}`}));return{...e,products:r}}}return s})(),VE=(()=>{class s{constructor(){this.XR={clientX:2,clientY:3},this.KR={clientX:1,clientY:2},this.JR=[N.POINTER_DOWN,N.POINTER_MOVE,N.POINTER_UP],this.QR=[N.TOUCH_START,N.TOUCH_MOVE,N.TOUCH_END]}transformEvents(t,e){if(!pt.isConnected(t))return e.events=csArray.prototype.filter.call(e.events,c=>c.type!==N.VISIBILITY_CHANGE),e.events.length===0||(F.warn(`IframeRecordingEventsTransformer received event ${Et.RecordingEvent}
        from disconnected iframe, content:${csJSON.stringify(e.events)}`),e.events=[]),e;let i=et(t),r=null;csArray.prototype.some.call(e.events,c=>this.ym(c)||this.Em(c))&&(r=t.getBoundingClientRect());for(let c of e.events)this.ym(c)?this.ZR(r,c):this.Em(c)&&this.t0(r,c),c.context=c.context&&c.context.length>0?`${i}/${c.context}`:`${i}`;return e}t0(t,e){this.Sm(this.KR,t,e)}ZR(t,e){this.Sm(this.XR,t,e)}Sm(t,e,i){i.args&&(i.args[t.clientX]=Math.round(e.left+i.args[t.clientX]),i.args[t.clientY]=Math.round(e.top+i.args[t.clientY]))}ym(t){return csArray.prototype.indexOf.call(this.JR,t.type)!==-1}Em(t){return csArray.prototype.indexOf.call(this.QR,t.type)!==-1}}return s})(),UE=(()=>{class s{constructor(t){this.hu=t}start(){this.hu.onEvent(t=>this.J(t)),this.hu.start()}stop(){this.hu.stop()}J(t){let e=`Content Security Policy error. Violated directive: ${t.violatedDirective} - Source file: ${t.sourceFile}`;F.warn(e)}}return s})(),jE=(()=>{class s{constructor(){this.$t={boundElement:document,type:"securitypolicyviolation",listener:t=>this.securityPolicyViolationListener(t)}}start(){Ct(this.$t)}stop(){It(this.$t)}onEvent(t){this.L=t}e0(t){if(!t)return!1;let e=t.disposition;return z(t.sourceFile)&&csArray.prototype.some.call(s.s0,i=>csString.prototype.indexOf.call(t.sourceFile,i)>0)&&e!=="report"}securityPolicyViolationListener(t){this.e0(t)&&this.L({violatedDirective:t.violatedDirective,sourceFile:t.sourceFile})}}return s.s0=["contentsquare","cdnssl.clicktale.net"],B([U("Event handler type: securitypolicyviolation")],s.prototype,"securityPolicyViolationListener",null),s})(),HE=(()=>{class s{init(){this.vm=new UE(new jE),this.vm.start()}onOptout(){this.vm.stop()}}return s})();var{toString:_S}=Object.prototype;function zc(s,n){if(typeof s!="function"||n!=null&&typeof n!="function")throw new TypeError("Expected a function");let t=function(...e){let i=n?n.apply(this,e):e[0],{cache:r}=t;if(r.has(i))return r.get(i);let a=s.apply(this,e);return t.cache=r.set(i,a)||r,a};return t.cache=new(zc.Cache||Map),t}zc.Cache=Map;var{hasOwnProperty:wS}=Object.prototype;var Gc=(()=>{class s{constructor(t){this.configuration=t}}return s})(),BE=(()=>{class s extends Gc{constructor(t,e,i){super(t),this.configuration=t,this.oo=e,this.S=i,this.b0=L.RECORDING_GLOBAL_SAMPLING}refreshQuota(t){this.Mm=t,this.ao=void 0,this.A0()}init(t){this.R0();let e=ht.get(Kt);e!==null&&Ar(e)?t(this.canCollect(Dd(e))):this.refreshQuota(i=>{t(i!==L.QUOTA_REACHED)})}sanitizeSessionCollectState(t){return t}canCollect(t){return t!==null&&t.collectState!==L.QUOTA_REACHED}computeInitialCollectState(t){return this.ao?(this.S.emitCollectStateChange(this.ao,this.configuration.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF),this.ao):(F.warn("Quota file error computeInitialCollectState() called before quota answered"),L.QUOTA_REACHED)}getEligibleCollectState(t){return t.collectState===L.QUOTA_REACHED?L.QUOTA_REACHED:!oi.isRecordingSupported()&&this.isReplayRecorded(t)?L.ANALYTICS_ONLY:t.collectState===L.RECORDING_RULES_TARGETING?L.RECORDING_RULES_TARGETING:t.collectState===L.ANALYTICS_ONLY_RULES_TARGETING?L.ANALYTICS_ONLY_RULES_TARGETING:t.collectState===L.RECORDING_GLOBAL_SAMPLING?L.RECORDING_GLOBAL_SAMPLING:L.ANALYTICS_ONLY}isReplayRecorded(t){return t.collectState===L.RECORDING_GLOBAL_SAMPLING||t.collectState===L.RECORDING_RULES_TARGETING}getInitialCollectState(){return this.ao||L.QUOTA_REACHED}computeInitialCollectStateFromRecordingConsentGranted(t){return L.ANALYTICS_ONLY}co(t){this.ao=t,this.Mm&&this.Mm(t)}R0(){this.oo.onError(t=>this.quotaServiceErrorHandler(`HTTP:${t.status} - fetching quota file for pid: ${this.configuration.projectId}`)),this.oo.onTimeout(()=>this.quotaServiceErrorHandler("timeout")),this.oo.onLoad(t=>this.quotaFileHandler(t))}A0(){this.oo.isInProgress()||this.oo.send()}quotaFileHandler(t){var e;if(!(!((e=t==null?void 0:t.quotas)===null||e===void 0)&&e.length)){this.quotaServiceErrorHandler("Quota types missing from config file");return}this.C0(t)}quotaServiceErrorHandler(t){let e=`Quota error - ${t}`;F.warn(e),this.co(this.b0)}C0(t){let e=!1,i=!1;for(let r of t.quotas)r.quotaType==="ANALYTICS"&&r.value?e=!0:r.quotaType==="RECORDING"&&r.value&&as.boolean(Math.round(r.value*100))&&(i=!0);!e&&i?this.quotaServiceErrorHandler(`Quota types impossible: replay without analytics - ${csJSON.stringify(t)}`):e&&i?oi.isRecordingSupported()?this.co(L.RECORDING_GLOBAL_SAMPLING):this.co(L.ANALYTICS_ONLY):e&&!i?this.co(L.ANALYTICS_ONLY):this.co(L.QUOTA_REACHED)}getRecordingConsentWithdrawn(){return L.ANALYTICS_ONLY}}return B([U("Quota File: quotaFileHandler")],s.prototype,"quotaFileHandler",null),B([U("Quota File: onerror")],s.prototype,"quotaServiceErrorHandler",null),s})(),FE=(()=>{class s extends Gc{constructor(t,e,i,r,a){super(t),this.configuration=t,this.S=e,this.Jh=i,this.w=r,this.vu=a,this._u=!1}refreshQuota(){}canCollect(t){return!0}init(){this.configuration.malkaUrlEnabled&&this.configuration.hasRecordingUrlRules()&&(this._u=!0,this.vu.setRegexRules(this.configuration.recordingUrlRules))}sanitizeSessionCollectState(t){return(t.collectState===L.QUOTA_REACHED||t.collectState===L.RECORDING_RULES_TARGETING||t.collectState===L.RECORDING_TEMPORARILY)&&(t.collectState=L.ANALYTICS_ONLY),t}computeInitialCollectState(){return Be.isReplayConsentNeeded(this.configuration)?L.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED:this.Ba()}computeInitialCollectStateFromRecordingConsentGranted(){return this.Ba()}Ba(){if(!oi.isRecordingSupported())return L.ANALYTICS_ONLY;let t=L.ANALYTICS_ONLY,e=jt.ETR_OFF;return as.percentage()<this.configuration.replayRecordingRate||this.Jh.isForceReplayRecorded()?t=L.RECORDING_GLOBAL_SAMPLING:this._u&&this.vu.evaluateUrl(this.w.getAnonymizedUrl())&&(t=L.RECORDING_URL_SAMPLING),this.configuration.malkaEtrEnabled&&(e=jt.ETR_ON),this.S.emitCollectStateChange(t,e),t}getEligibleCollectState(t){if(!oi.isRecordingSupported())return L.ANALYTICS_ONLY;if(Be.isRecordingBlockedByConsent(t))return t.collectState===L.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN?L.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN:L.RECORDING_BLOCKED_BY_CONSENT_NOT_EXPRESSED;if(t.collectState===L.RECORDING_GLOBAL_SAMPLING)return L.RECORDING_GLOBAL_SAMPLING;let e=this.configuration.malkaEtrEnabled?jt.ETR_ON:jt.ETR_OFF;return this._u&&this.vu.evaluateUrl(this.w.getAnonymizedUrl())?(this.S.emitCollectStateChange(L.RECORDING_URL_SAMPLING,e),L.RECORDING_URL_SAMPLING):(this.S.emitCollectStateChange(L.ANALYTICS_ONLY,e),L.ANALYTICS_ONLY)}isReplayRecorded(t){return Be.isRecordingBlockedByConsent(t)?!1:t.collectState===L.RECORDING_TEMPORARILY||t.collectState===L.RECORDING_GLOBAL_SAMPLING||t.collectState===L.RECORDING_URL_SAMPLING||this.configuration.malkaEtrEnabled}getInitialCollectState(){return L.ANALYTICS_ONLY}getRecordingConsentWithdrawn(){return L.RECORDING_BLOCKED_BY_CONSENT_WITHDRAWN}}return s})();function $E(){let s="[data-cs-mask]",n="#c1_card_info_id",t=".ctHidden",e=["[data-heap-redact-text]","[heap-ignore]","[data-heap-ignore]","[data-heap-redact-attributes]"],i=["[data-hj-suppress]",".data-hj-suppress","[data-hj-masked]"];return[s,n,t,...e,...i]}function zE(){return[{selector:".ctHidden,input:not([type=button]):not([type=submit])",attrName:"value"}]}var GE=(()=>{class s{constructor(){this.I0={PIISelectors:["picture","img","video","audio"],Attributes:[]},this.ms={elementSelector:"",attrSelector:"",attrSelectors:[]};let t={PIISelectors:$E(),Attributes:zE()};this.ms=k.getComputedSelectorSettings(t,this.ms)}init(){this.P0()}setMaskedElementSettingsFromCommand(t){if(t=k.sanitizeSelectorUserInput(t),!k.isSelectorUserInput(t))throw new Error(`Command misuse: ${jc[0]}`);this.wu(t)}setMaskedElementSettingsFromParent(t){let e={PIISelectors:csString.prototype.split.call(t.elementSelector,","),Attributes:t.attrSelectors};this.wu(e)}getMaskedElementSettings(t){return t?this.km(this.I0):this.ms}P0(){var t,e,i,r,a,c;let l={PIISelectors:[],Attributes:[]};((i=(e=(t=window==null?void 0:window.ClickTaleSettings)===null||t===void 0?void 0:t.DOM)===null||e===void 0?void 0:e.PII)===null||i===void 0?void 0:i.Text)instanceof Array&&l.PIISelectors.push(...window.ClickTaleSettings.DOM.PII.Text),((c=(a=(r=window==null?void 0:window.ClickTaleSettings)===null||r===void 0?void 0:r.DOM)===null||a===void 0?void 0:a.PII)===null||c===void 0?void 0:c.Attributes)instanceof Array&&window.ClickTaleSettings.DOM.PII.Attributes.forEach(u=>{z(u.attr)&&z(u.rule)&&l.Attributes.push({selector:u.rule,attrName:u.attr})}),this.wu(l)}wu(t){this.ms=this.km(t)}km(t){return k.getComputedSelectorSettings(t,this.ms)}}return s})();var qE=(()=>{class s{constructor(t,e){this.tt=t,this.vt=e,this.Tu=!1}getRequestParameters(){return{dr:this.get()}}addUrlMaskingPattern(t){this.vt.addUrlMaskingPattern(t)}enableRemoveQueryString(){this.Tu=!0}disableRemoveQueryString(){this.Tu=!1}get(){let t=this.Tu?this.tt.removeQueryString(this.Dm()):this.Dm();return this.tt.anonymizeUrl(t,{maskingPatterns:this.vt.getUrlMaskingPatterns()})}Dm(){let t="";try{t=window.top.document.referrer}catch{if(window.parent)try{t=window.parent.document.referrer}catch{t=""}}return t===""&&(t=document.referrer),typeof t!="string"&&(t=""),t}}return s})(),WE=60*1e3,YE=30*1e3,XE=(()=>{class s{constructor(t,e){this.R=t,this.I=e,this.bu=!1,this.O0=rn(()=>this.R.refreshSession(),YE)}onSessionExpired(t){this.N0=t}isSessionValid(){return this.bu?!0:!(!this.R.hasValidSession()||this.R.pollCacheRefreshEvent()&&this.I.isSessionRenewed())}isCurrentPageviewValid(){let t=this.R.hasValidSession();return this.R.pollCacheRefreshEvent(!1)?!this.I.isSessionRenewed():t}refreshSession(){this.isSessionValid()?this.O0():this.M0()&&(this.xm=P.now(),this.renewSession())}renewSession(){this.bu=!0,this.N0(),this.bu=!1}M0(){return!Z(this.xm)||P.now()-this.xm>WE}}return s})();var KE=/\b((?:profile|user|last|first|primary|primary(?:[/_+-]|%20)?last)(?:[/_+-]|%20)?(?:name)[/=])[^#;?&/]+/gi,JE="$1CS_ANONYMIZED_NAME",QE=(()=>{class s{constructor(t){this.N=t}anonymizeUrl(t,e={}){let i=e.maskingPatterns||[],r=e.partialMaskingPatterns||[],a=this.N.anonymizePII(t);if(a=this.N.anonymizeJwt(a),e.maskNames){let u=a;a=this.Er(a),a!==u&&(G.counters.redactedPII.count("name"),G.counters.redactedPII.count("name-in-url"))}let c=this.$0(a,i);if(c!==a)return G.counters.redactedPII.count("url"),c;let l=this.z0(a,r);return l!==a&&G.counters.redactedPII.count("url"),l}removeQueryString(t){let{path:e,queryString:i}=this.ku(t);return i!==""?`${e}?`:e}ku(t){let e=csString.prototype.indexOf.call(t,"?"),i,r="";return e!==-1?(i=csString.prototype.slice.call(t,0,e),r=csString.prototype.slice.call(t,e,t.length)):i=t,{path:i,queryString:r}}$0(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.ku(t),a=csString.prototype.split.call(i,"/");for(let c of e){let l=this.G0(a,c);if(l!==null)return`${l}${r}`}return t}G0(t,e){if(t.length<e.length)return null;let i=[];for(let r=0;r<t.length;r++){let a=t[r];if(r>=e.length){csArray.prototype.push.call(i,a);continue}let c=e[r].key;if(this.Bm(c)){let l=e[r].value;csArray.prototype.push.call(i,l);continue}if(a===c){csArray.prototype.push.call(i,a);continue}return null}return csArray.prototype.join.call(i,"/")}z0(t,e){if(e.length===0)return t;let{path:i,queryString:r}=this.ku(t),a=csString.prototype.split.call(i,"/");for(let c of e)a=this.q0(a,c);return`${csArray.prototype.join.call(a,"/")}${r}`}q0(t,e){let i=[],r=0,c=t[0]==="http:"||t[0]==="https:"?2:0;for(let l=0;l<t.length;l++){let u=t[l],m=e[r].key;if(this.Bm(m)&&l>=c){let d=e[r].value;csArray.prototype.push.call(i,u.length>0?d:""),r++,r===e.length&&(r=0);continue}if(u===m){csArray.prototype.push.call(i,u),r++,r===e.length&&(r=0);continue}for(let d=0;d<r;d++){let E=l-r+d;i[E]=t[E]}r=0,csArray.prototype.push.call(i,u)}for(let l=0;l<r;l++){let u=t.length-r+l;i[u]=t[u]}return i}Bm(t){return xt(t,Hc)}Er(t){return csString.prototype.replace.call(t,KE,JE)}}return s})(),ZE=(()=>{class s{constructor(t,e,i,r,a,c){this.f=t,this.gi=e,this.fs=i,this.O=r,this.S=a,this.K=c}initWithQuota(){if(!this.f.collectionEnabled){this.Fm();return}let t=new wp(this.f.getSettingsFileUri(),"",{type:"json",cacheMinutes:15});this._t=new BE(this.f,t,this.S),this._t.init(e=>{e?this.init():this.Fm()})}W0(){this.O.schedule(()=>{this.N=new pi,this.tt=new QE(this.N),this.w=new TE(window.location,this.tt),this.M=new tn(this.f,this.w,this.gi),this.M.init(),this.At=new RE,this.E=new _E([vE.UXA]),this.X=new bE,this.lt=new GE,this.Tt=new rE(this.f,new Qy(this.f,this.M,this.At),this.S)})}Fm(){}init(){Ys.isSupported()&&Ys.setDigestSalt(this.f.projectId.toString());let t,e,i,r,a,c,l,u,m,d,E,y,v,C,I,S,_,D,O,b,x,J,at,Nt,bt,T,M;this.W0(),this.O.schedule(()=>{E=new fE(window.location,this.M),new HE().init(),y=Uc.create(F.warn),d=new Ka(y),this._t===void 0&&(this._t=new FE(this.f,this.S,E,this.w,new ic),this._t.init())}),this.O.schedule(()=>{t=new qy(this.f,this.M,this.K),e=new Xy(t,this._t,this.S,this.f.replayConsentRequiredForSession,this.f.malkaEtrEnabled),i=new PE(this.f,this.M,this.K),r=new zy(this.f,i,this.S,e),this.fs.setContext(r,e)}),this.O.schedule(()=>{c=new Jy(r,e,this.Tt),l=new Ld(this.f,this.M,this.K),u=new aE(window.location,l),m=new cE(u),I=new Ky(this.f,r,u),bt=new kE(me,this.f),b=new DE(bt,this.f.isChild),x=new xE(bt),J=new LE(bt),at=new VE,Nt=new AE(b,x,J,at),S=new SE(this.E,Nt),_=new uE(this.w),D=new pE(_,this.E);let V=new Vd(this.f,this.M,this.K);T=new IE(this.N,V),O=new CE(this.E,T);let j=new bd(r,e,u,T,this.f)}),this.O.schedule(()=>{new $y(this.f,r,u,I,c,v,a,E).compute(j=>{this.O.schedule(()=>{S.init();let it=new nE(this.f,this.E,this.Tt,e,this.S),At=new gE(this.f,this.M,this.At),Lt=new mE(this.S,window.location,At),Ee=new EE(this.E,Lt),ps=new wE(this.E,this.f),Vt=new qE(this.tt,new Dy),Bt=new XE(e,r),ce,Ei,Ye,_t=new ya(this.f,r,e,C),Ft=new ya(this.f,r,e,C,Ei);j?(this.S.emitInitTracking(),new Fy(_t,Ft,y,r,e,Bt,Vt,this.S,this.E,S,this.f,Ee,Lt,it,this.Tt,this.N,bt,this.tt,this.w,ps,this.X,Nt,T,O,_,D,this.O,d,this.M,this.At,this._t,this.lt,Ye,ce).start()):new oE(this.S,this.E,S,Ee,Lt,m,it).start()})})})}}return s})(),ns=(()=>{let s;return function(n){let t="{domain}/tag/tag.bundle.js?v={version}",e,i={loadBundle(_){let D=_.source,O=_.data;if(c(O)){let b=()=>{let x=r(t,O);E(x,()=>D.postMessage("csBundleLoaded",_.origin))};e=O.token,S(i.loadBundle),l(_.origin)&&b()}}};function r(_,D){return csString.prototype.replace.call(csString.prototype.replace.call(csString.prototype.replace.call(_,"{version}",D.version),"{token}",D.token),"{domain}",D.domain)}function a(){return e}n.getToken=a;function c(_){return _&&_.type==="csBundleInjection"&&l(_.domain)&&m(_.version)&&u(_.token)}n.isAuthorizedIncomingMessage=c,n.hjDomainRegex=/^https?:\/\/[a-zA-Z0-9\.\-]+\.hotjar\.com$/;function l(_){return/^https?:\/\/[a-zA-Z0-9\.\-]+\.(content-square\.fr|contentsquare\.com|csq\.io)$/.test(_)||n.hjDomainRegex.test(_)}n.isAuthorizedDomain=l;function u(_){return/^[a-zA-Z0-9]+$/.test(_)}n.isAuthorizedToken=u;function m(_){return/^[a-zA-Z0-9\.]+$/.test(_)}n.isAuthorizedTagVersion=m;function d(){let _=window.opener||window.parent;return window!==_&&window.addEventListener}n.isActivable=d;function E(_,D){let O=document.createElement("script");O.type="text/javascript",O.async=!0,O.src=_,O.onload=D,O.charset="utf-8",document.head.appendChild(O)}n.addScript=E;function y(_){let D=document.createElement("link");D.rel="stylesheet",D.href=_,document.head.appendChild(D)}n.addStyle=y;function v(_){return`${_}?cb=${new csDate().getTime()}`}n.addCacheBusting=v;function C(){I(i.loadBundle)}n.waitForBundleInjection=C;function I(_){window.addEventListener("message",_,!1)}n.listen=I;function S(_){window.removeEventListener("message",_,!1)}n.removeListener=S}(s||(s={})),s})(),_a="_hp_ved",tS=18e5,eS="/js/ved.js",sS="/css/ved.css",iS="/js/ved.css",nS=(()=>{let s;return function(n){n.StatusUpdate="status"}(s||(s={})),s})(),rS=(()=>{let s;return function(n){n.ReceivedInitMessage="received_init_message"}(s||(s={})),s})();var Hn=(()=>{let s;return function(n){let t=!1,e;function i(E){return e+E}function r(){let E=[i(sS),i(iS)];csArray.prototype.forEach.call(E,y=>{ns.addStyle(y)})}function a(E){let y=new csRegExp("(^|;)[ ]*"+E+"=([^;]*)"),v=y.exec(document.cookie);return v?decodeURIComponent(v[2]):null}function c(E,y,v){let C=encodeURIComponent(E)+"="+encodeURIComponent(y),I=new csDate;I.setTime(I.getTime()+v);let S=C+"; expires="+I.toUTCString()+"; path=/";document.cookie=S}function l(){c(_a,"on",tS)}function u(){return a(_a)==="on"}n.isVLCookieEnabled=u;function m(E){window.heapV=Object.assign({},window.heap,{source:E==null?void 0:E.source,uri:e,loadArgs:E==null?void 0:E.data.args,identify:()=>{},track:()=>{}})}n.initializeHeapV=m;function d(E,y){var v;if(e=E,y){let C={type:nS.StatusUpdate,value:rS.ReceivedInitMessage},I={targetOrigin:y==null?void 0:y.origin};(v=y==null?void 0:y.source)===null||v===void 0||v.postMessage(C,I)}t||(t=!0,l(),m(y),window.heapV&&(ns.addScript(i(eS)),r()))}n.init=d}(s||(s={})),s})(),oS=(()=>{let s;return function(n){let t=window.opener||window.parent,e="tag",i="https://app.contentsquare.com",r=[/^https:\/\/app\.contentsquare\.com$/,/^https:\/\/dev-app\.contentsquare\.com$/,/^https:\/\/staging-app\.contentsquare\.com$/,/^https:\/\/.*\.test\.contentsquare\.com$/,/^https:\/\/app\.[a-z0-9-]+\.csiab\.[a-z0-9-]+\.csq\.io$/,ns.hjDomainRegex],a,c,l,u={initHeapVisualLabeler(b){var x;b.origin===l&&((x=b.data)===null||x===void 0?void 0:x.message)==="init"&&b.source&&(Hn.init(l,b),_(u.initHeapVisualLabeler))},ping(b){typeof b.data=="string"&&b.data==="ping"&&E(b.origin)&&(c=b.origin,a=ns.hjDomainRegex.test(b.origin)?i:b.origin,_(u.ping),S(u.insertMessageScript),y(ns.addCacheBusting("utils.js")))},insertMessageScript:D(b=>{typeof b.data=="string"&&b.data!=="ping"&&(_(u.insertMessageScript),y(b.data))})};function m(){return ns.getToken()}n.getToken=m;function d(){return window!==t&&window.addEventListener}n.isActivable=d;function E(b){return csArray.prototype.some.call(r,x=>x.test(b))}n.isAuthorizedDomain=E;function y(b,x){let J=document.createElement("script");J.type="text/javascript",J.async=!0;let at=a==null?void 0:csString.prototype.replace.call(a,/^https?:/,"");J.src=`${at}/${e}/${b}`,J.onload=x,J.charset="utf-8",document.getElementsByTagName("head")[0].appendChild(J),v(b)}function v(b){csString.prototype.includes.call(b,"&mode=")&&sessionStorage.setItem("_hjRetakerMode",csString.prototype.split.call(b,"&mode=")[1])}function C(){S(u.ping),ns.waitForBundleInjection()}n.waitForConnection=C;function I(b){l=b,S(u.initHeapVisualLabeler),Hn.isVLCookieEnabled()&&Hn.init(l)}n.waitForHeapVisualLabeler=I;function S(b){window.addEventListener("message",b,!1)}n.listen=S;function _(b){window.removeEventListener("message",b,!1)}n.removeListener=_;function D(b){return function(x){x.origin===c&&b(x)}}n.secureListener=D;function O(b){c&&t.postMessage(b,c)}n.post=O}(s||(s={})),s})();var Li=window.CSFrameCommunication||oS;var aS=(()=>{class s extends Ur{constructor(t){super(),this.O=t}emitBeforeNaturalPageView(t){for(let e of this.listeners)e.onBeforeNaturalPageView&&e.onBeforeNaturalPageView(t)}emitAfterNaturalPageView(){for(let t of this.listeners)t.onAfterNaturalPageView&&t.onAfterNaturalPageView()}emitInitTracking(){for(let t of this.listeners)t.onInitTracking&&t.onInitTracking()}emitStartTracking(t){for(let e of this.listeners)e.onStartTracking&&this.O.schedule(()=>e.onStartTracking(t))}emitStartNoTrackingMode(){for(let t of this.listeners)t.onStartNoTrackingMode&&this.O.schedule(()=>t.onStartNoTrackingMode())}emitArtificialPageViewEnd(){for(let t of this.listeners)if(t.onArtificialPageViewEnd)try{t.onArtificialPageViewEnd()}catch(e){F.error(e)}}emitBeforeArtificialPageView(t,e){for(let i of this.listeners)i.onBeforeArtificialPageView&&i.onBeforeArtificialPageView(t,e)}emitAfterArtificialPageView(){for(let t of this.listeners)t.onAfterArtificialPageView&&t.onAfterArtificialPageView()}emitBeforeSessionRenewal(){for(let t of this.listeners)t.onBeforeSessionRenewal&&t.onBeforeSessionRenewal()}emitAfterSessionRenewal(){for(let t of this.listeners)t.onAfterSessionRenewal&&t.onAfterSessionRenewal()}emitOptout(){for(let t of this.listeners)t.onOptout&&t.onOptout()}emitReplayUnanonymizationConsentGranted(){for(let t of this.listeners)t.onReplayUnanonymizationConsentGranted&&t.onReplayUnanonymizationConsentGranted()}emitReplayUnanonymizationConsentWithdrawn(){for(let t of this.listeners)t.onReplayUnanonymizationConsentWithdrawn&&t.onReplayUnanonymizationConsentWithdrawn()}emitAfterReplayRecordingConsentGranted(){for(let t of this.listeners)t.onAfterReplayRecordingConsentGranted&&t.onAfterReplayRecordingConsentGranted()}emitAfterReplayRecordingConsentWithdrawn(){for(let t of this.listeners)t.onAfterReplayRecordingConsentWithdrawn&&t.onAfterReplayRecordingConsentWithdrawn()}emitCollectStateChange(t,e){for(let i of this.listeners)i.onCollectStateChange&&i.onCollectStateChange(t,e)}emitInitialDomStart(){for(let t of this.listeners)t.onInitialDomStart&&t.onInitialDomStart()}emitInitialDomDone(t){for(let e of this.listeners)e.onInitialDomDone&&e.onInitialDomDone(t)}emitRecordingContextChange(){for(let t of this.listeners)t.onRecordingContextChange&&t.onRecordingContextChange()}emitSensitiveStatusChange(){var t;for(let e of this.listeners)(t=e.onSensitiveStatusChange)===null||t===void 0||t.call(e)}emitBeforeVisitorRenewal(){for(let t of this.listeners)t.onBeforeVisitorRenewal&&t.onBeforeVisitorRenewal()}emitAfterVisitorCleared(){for(let t of this.listeners)t.onAfterVisitorCleared&&t.onAfterVisitorCleared()}emitAfterVisitorRenewal(){for(let t of this.listeners)t.onAfterVisitorRenewal&&t.onAfterVisitorRenewal()}emitSessionCreated(){for(let t of this.listeners)t.onSessionCreated&&t.onSessionCreated()}emitSessionRemoved(){for(let t of this.listeners)t.onSessionRemoved&&t.onSessionRemoved()}emitSessionRefreshed(){for(let t of this.listeners)t.onSessionRefreshed&&t.onSessionRefreshed()}}return B([Pt("emitStartTracking")],s.prototype,"emitStartTracking",null),s})();var cS=(()=>{let s;return function(n){function t(){return typeof window.CSJavascriptBridge=="object"&&typeof window.CSJavascriptBridge.optIn=="function"&&typeof window.CSJavascriptBridge.optOut=="function"&&typeof window.CSJavascriptBridge.sendEvent=="function"&&typeof window.CSJavascriptBridge.sendDynamicVar=="function"&&typeof window.CSJavascriptBridge.sendTransaction=="function"}n.isCSJavascriptBridgeDefined=t;function e(){if(typeof window.CSJavascriptBridge.getVersion=="function")try{let S=window.CSJavascriptBridge.getVersion();if(Yt(S))return S}catch{F.warn("an error occurred when calling getVersion")}return null}n.getBridgeVersion=e;function i(){typeof window.CSJavascriptBridge.onWebviewTrackingReady=="function"&&window.CSJavascriptBridge.onWebviewTrackingReady()}n.notifyIsReadyForTracking=i;function r(S,_){window.CSJavascriptBridge.identify&&window.CSJavascriptBridge.identify(S,csJSON.stringify(_))}n.identify=r;function a(){window.CSJavascriptBridge.resetIdentity&&window.CSJavascriptBridge.resetIdentity()}n.resetIdentity=a;function c(S){window.CSJavascriptBridge.addUserProperties&&window.CSJavascriptBridge.addUserProperties(csJSON.stringify(S))}n.addUserProperties=c;function l(S){window.CSJavascriptBridge.sendEvent(csJSON.stringify(S))}n.sendAnalysisEvent=l;function u(S){if(window.CSJavascriptBridge.sendSREvent)for(let _ of S.events)window.CSJavascriptBridge.sendSREvent(csJSON.stringify(_))}n.sendSREvent=u;function m(S){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendLog&&window.CSJavascriptBridge.sendLog(csJSON.stringify(S))}n.sendLog=m;function d(){window.CSJavascriptBridge.optIn()}n.sendOptIn=d;function E(){window.CSJavascriptBridge.optOut()}n.sendOptOut=E;function y(S,_){window.CSJavascriptBridge.sendDynamicVar(S,_)}n.sendDynamicVariable=y;function v(S,_,D){window.CSJavascriptBridge.sendTransaction(S,_,D)}n.sendTransaction=v;function C(S,_){if(window.CSJavascriptBridge.sendAssets){let D=csJSON.stringify(S);window.CSJavascriptBridge.sendAssets(D,_||null)}else window.CSJavascriptBridge.sendSRAssets&&window.CSJavascriptBridge.sendSRAssets(csArray.prototype.map.call(S,D=>D.assetId))}n.sendAssets=C;function I(S){window.CSJavascriptBridge&&window.CSJavascriptBridge.sendNativeSREvent&&window.CSJavascriptBridge.sendNativeSREvent(csJSON.stringify(S))}n.sendNativeSREvent=I}(s||(s={})),s})();var lS=(()=>{class s{setItem(t,e){window.sessionStorage.setItem(t,e)}getItem(t){return window.sessionStorage.getItem(t)}removeItem(t){window.sessionStorage.removeItem(t)}}return s})(),hS=(()=>{class s{constructor(t,e,i){this.f=t,this.wt=e,this.fs=i}start(){var t,e,i,r,a;if(window.CSQ_TAGS=csArray.prototype.concat.call(window.CSQ_TAGS||[],this.f.projectId),window.UXAnalytics)return;window.UXAnalytics={};let c=new lS,l=new Vc(!!(!((t=this.f.taskSchedulerOptions)===null||t===void 0)&&t.enabled),(e=this.f.taskSchedulerOptions)===null||e===void 0?void 0:e.maxProcessingTime,(i=this.f.taskSchedulerOptions)===null||i===void 0?void 0:i.waitDuration),u=new Ed(this.wt,this.f);u.init();let m=new vd(this.f,u);if(this.wt.isTopWindowTracker()&&m.canTrack()){if(!((r=window.CSProtectnativeFunctionsLogs)===null||r===void 0)&&r.Warning&&F.warn(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Warning}`),!((a=window.CSProtectnativeFunctionsLogs)===null||a===void 0)&&a.Critical){F.error(`protectNativeFunctions failed: ${window.CSProtectnativeFunctionsLogs.Critical}`);return}md();let E=new aS(l),y=new ZE(this.f,u,this.fs,l,E,c);this.f.isQuotaEnabled()?y.initWithQuota():y.init()}let d=csString.prototype.indexOf.call(window.location.href,"csDebug=1")>-1;window.UXAnalytics={Sensitive:{isNodeSensitive(E){return k.isMaskedElement(E)||k.isMaskedElementChild(E)},isAttributeSensitive(E,y){return k.isMaskedAttribute(E,y)},getSensitiveAttributes(E){return Oa(E.attributes,y=>k.isMaskedAttribute(E,y.name))}},Console:{warn(E){d&&console.warn("cs.tracking.warning",E)},error(E){d&&console.error("cs.tracking.error",E)}},Version:Ga},window.CSFrameCommunication||(window.CSFrameCommunication=Li,Li.isActivable()&&Li.waitForConnection(),this.f.isCsCrosswritingHeap()&&Li.waitForHeapVisualLabeler(this.f.getHeapWebAppUri()))}}return B([Pt("main.start"),U("main.start")],s.prototype,"start",null),s})(),uS=(()=>{class s{constructor(){}send(t,e,i=nt.warn){let r={message:t,errorCode:e,level:i};cS.sendLog(r)}}return s})();var dS=(()=>{class s{constructor(t,e,i){this.W=t,this.N=e,this.YC=i,this.kt=[],this.XC=Tr().v}flush(){this.kt.length!==0&&(this.W.send({m:csArray.prototype.map.call(this.kt,t=>({n:t.name,p:t.parameter,v:t.value})),p:this.N.anonymizePII(window.location.pathname),pid:this.YC,v:this.XC}),this.kt=[])}push(t){csArray.prototype.push.call(this.kt,...t),this.flush()}}return s.DEBOUNCE_INTERVAL=5e3,B([wh(s.DEBOUNCE_INTERVAL)],s.prototype,"flush",null),s})();function pS(s,n){let t=s.validationRate/10,e=as.boolean(t);if((s.environment==="staging"||!1||e)&&!n.isInWebViewContext())try{let a=Uc.create(F.warn,n.isTopWindowTracker()),l=new Ka(a).create(s.getMetricsUri(),!0),u=new pi,m=new dS(l,u,s.projectId);G.setService(m)}catch(a){F.warn(`Error initializing metrics: ${a.message}`)}}function fS(){var s;Mh();let n=new ju(window.CS_CONF);window._uxa=window._uxa||[],n.processOptionOverrides(window._uxa);let t=new Hu(window,n);t.init();let e=new ud;if(Eh(F),dd(),F.computeIsActive(n.validationRate),t.isTopWindowTracker()){let a=new od(n,e);F.setStrategy(a)}else if(t.isInWebViewContext()){let r=new uS;F.setStrategy(r)}!((s=n==null?void 0:n.experimental)===null||s===void 0)&&s.disableMutationObserverProtection&&window.csMutationObserver&&(window.csMutationObserver=ls(window,"MutationObserver")),Su(),pS(n,t),new hS(n,t,e).start()}window.CSCurrentScript=document.currentScript;csSetTimeout(()=>{try{pd(fS)}catch{}});})();

// signature-9de11dcca7ca6c78600e0082c52a42c7072fa0465abe68ff3d1596fc852938b4