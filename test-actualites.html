<!DOCTYPE html>
<html lang="fr-FR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Actualités - WPC</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .actualite-card { border: 1px solid #ddd; padding: 20px; margin: 20px 0; border-radius: 8px; }
        .actualite-title { color: #333; margin-bottom: 10px; }
        .actualite-meta { color: #666; font-size: 0.9em; margin-bottom: 10px; }
        .actualite-excerpt { color: #555; margin-bottom: 15px; }
        .actualite-preview { margin-bottom: 15px; }
        .actualite-link { color: #007bff; text-decoration: none; }
        img { max-width: 100%; height: auto; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>Test des Actualités WPC</h1>
    <div id="actualites-container">
        <!-- Les actualités seront chargées ici -->
    </div>

    <script>
        // Fonction de parsing Markdown corrigée
        function markdownToHtml(markdown) {
            let html = markdown;

            // Traitement des paragraphes d'abord
            html = html.split('\n\n').map(para => {
                para = para.trim();
                if (!para) return '';

                // Titres
                if (para.match(/^### /)) {
                    return para.replace(/^### (.*$)/gim, '<h3>$1</h3>');
                }
                if (para.match(/^## /)) {
                    return para.replace(/^## (.*$)/gim, '<h2>$1</h2>');
                }
                if (para.match(/^# /)) {
                    return para.replace(/^# (.*$)/gim, '<h1>$1</h1>');
                }

                // Séparateurs
                if (para.match(/^---$/)) {
                    return para.replace(/^---$/gim, '<hr>');
                }

                // Listes non ordonnées
                if (para.match(/^\- /)) {
                    const listItems = para.split('\n').map(item => {
                        if (item.match(/^\- /)) {
                            return item.replace(/^\- (.+)$/gim, '<li>$1</li>');
                        }
                        return item;
                    }).join('');
                    return `<ul>${listItems}</ul>`;
                }

                // Pour les autres paragraphes, traiter le contenu inline
                let processedPara = para;

                // Images Markdown
                processedPara = processedPara.replace(/!\[(.*?)\]\((.*?)\)/g, '<img src="$2" alt="$1" style="max-width:100%;height:auto;">');

                // Liens Markdown
                processedPara = processedPara.replace(/\[([^\]]+)\]\(([^\)]+)\)/g, '<a href="$2">$1</a>');

                // Gras et italique
                processedPara = processedPara.replace(/\*\*\*(.+?)\*\*\*/g, '<strong><em>$1</em></strong>');
                processedPara = processedPara.replace(/\*\*(.+?)\*\*/g, '<strong>$1</strong>');
                processedPara = processedPara.replace(/\*(.+?)\*/g, '<em>$1</em>');

                return `<p>${processedPara}</p>`;
            }).join('\n');

            return html;
        }

        // Contenu de test avec l'article réel
        const testArticle = {
            title: "West Paris Consulting : une nouvelle génération d'étudiants au service des projets du campus",
            date: "2025-10-20",
            author: "West Paris Consulting",
            excerpt: "Créée par des étudiants de l'Université Paris Nanterre, West Paris Consulting accompagne associations, services universitaires et petites structures dans leurs projets de communication, de stratégie et de digitalisation.",
            body: `![](/assets/images/ladefense.webp)

### **Une initiative née sur le campus de Nanterre**

West Paris Consulting (WPC) est une association étudiante fondée en 2025 par des étudiants passionnés de management, de stratégie et d'innovation numérique.

L'idée est simple : permettre aux étudiants de mettre leurs compétences au service de projets concrets, tout en offrant aux acteurs du campus (associations, laboratoires, entreprises locales, services universitaires) **un accompagnement professionnel et accessible**.

### **Une approche conseil adaptée au milieu étudiant**

Contrairement à une agence commerciale classique, WPC fonctionne sur un modèle **associatif, collaboratif et responsable**.

Chaque mission est encadrée par des étudiants en management, communication ou numérique, avec un souci constant de clarté, de pédagogie et d'impact.

Les domaines d'intervention incluent :

*   **Stratégie & communication** (positionnement, plan d'action, storytelling)
*   **Design & identité visuelle** (logo, supports print et web)
*   **Transformation digitale** (création de sites vitrines, outils collaboratifs, automatisation légère)

Grâce à cette approche hybride, WPC se positionne comme **le partenaire naturel des structures du campus** souhaitant gagner en visibilité et professionnaliser leur communication.

* * *

### **Un premier site au service des associations**

Le lancement du site [**West Paris Consulting**](http://westparisconsulting.fr) marque une étape importante :

il permet à toutes les structures intéressées de découvrir les services proposés, l'équipe et les projets déjà réalisés.

Deux formulaires Tally intégrés facilitent la prise de contact et la candidature des étudiants souhaitant rejoindre l'équipe.`
        };

        // Afficher l'article de test
        function displayTestArticle() {
            const container = document.getElementById('actualites-container');
            
            const date = new Date(testArticle.date).toLocaleDateString('fr-FR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });

            // Convertir le Markdown en HTML
            const htmlContent = markdownToHtml(testArticle.body);

            container.innerHTML = `
                <div class="actualite-card">
                    <div class="actualite-meta">
                        <span>${date}</span> - <span>Par ${testArticle.author}</span>
                    </div>
                    <h2 class="actualite-title">${testArticle.title}</h2>
                    <p class="actualite-excerpt">${testArticle.excerpt}</p>
                    <div class="actualite-preview">${htmlContent}</div>
                </div>
            `;
        }

        // Charger au chargement de la page
        document.addEventListener('DOMContentLoaded', displayTestArticle);
    </script>
</body>
</html>
